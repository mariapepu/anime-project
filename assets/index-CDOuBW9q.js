(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function $1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fm={exports:{}},Ul={};var Vv;function X1(){if(Vv)return Ul;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var Pv;function W1(){return Pv||(Pv=1,fm.exports=X1()),fm.exports}var v=W1(),dm={exports:{}},Se={};var kv;function Z1(){if(kv)return Se;kv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),A=Symbol.iterator;function M(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,U={};function Z(k,Y,re){this.props=k,this.context=Y,this.refs=U,this.updater=re||z}Z.prototype.isReactComponent={},Z.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},Z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ne(){}ne.prototype=Z.prototype;function ie(k,Y,re){this.props=k,this.context=Y,this.refs=U,this.updater=re||z}var se=ie.prototype=new ne;se.constructor=ie,B(se,Z.prototype),se.isPureReactComponent=!0;var ae=Array.isArray;function ce(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(k,Y,re){var le=re.ref;return{$$typeof:r,type:k,key:Y,ref:le!==void 0?le:null,props:re}}function P(k,Y){return C(k.type,Y,k.props)}function D(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function L(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(re){return Y[re]})}var I=/\/+/g;function ze(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?L(""+k.key):Y.toString(36)}function ct(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ce,ce):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Q(k,Y,re,le,de){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var je=!1;if(k===null)je=!0;else switch(xe){case"bigint":case"string":case"number":je=!0;break;case"object":switch(k.$$typeof){case r:case e:je=!0;break;case T:return je=k._init,Q(je(k._payload),Y,re,le,de)}}if(je)return de=de(k),je=le===""?"."+ze(k,0):le,ae(de)?(re="",je!=null&&(re=je.replace(I,"$&/")+"/"),Q(de,Y,re,"",function(Ss){return Ss})):de!=null&&(D(de)&&(de=P(de,re+(de.key==null||k&&k.key===de.key?"":(""+de.key).replace(I,"$&/")+"/")+je)),Y.push(de)),1;je=0;var Ot=le===""?".":le+":";if(ae(k))for(var st=0;st<k.length;st++)le=k[st],xe=Ot+ze(le,st),je+=Q(le,Y,re,xe,de);else if(st=M(k),typeof st=="function")for(k=st.call(k),st=0;!(le=k.next()).done;)le=le.value,xe=Ot+ze(le,st++),je+=Q(le,Y,re,xe,de);else if(xe==="object"){if(typeof k.then=="function")return Q(ct(k),Y,re,le,de);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return je}function ue(k,Y,re){if(k==null)return k;var le=[],de=0;return Q(k,le,"","",function(xe){return Y.call(re,xe,de++)}),le}function ge(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(re){(k._status===0||k._status===-1)&&(k._status=1,k._result=re)},function(re){(k._status===0||k._status===-1)&&(k._status=2,k._result=re)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var ke=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},He={map:ue,forEach:function(k,Y,re){ue(k,function(){Y.apply(this,arguments)},re)},count:function(k){var Y=0;return ue(k,function(){Y++}),Y},toArray:function(k){return ue(k,function(Y){return Y})||[]},only:function(k){if(!D(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Se.Activity=b,Se.Children=He,Se.Component=Z,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ie,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Se.__COMPILER_RUNTIME={__proto__:null,c:function(k){return x.H.useMemoCache(k)}},Se.cache=function(k){return function(){return k.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(k,Y,re){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var le=B({},k.props),de=k.key;if(Y!=null)for(xe in Y.key!==void 0&&(de=""+Y.key),Y)!R.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(le[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)le.children=re;else if(1<xe){for(var je=Array(xe),Ot=0;Ot<xe;Ot++)je[Ot]=arguments[Ot+2];le.children=je}return C(k.type,de,le)},Se.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Se.createElement=function(k,Y,re){var le,de={},xe=null;if(Y!=null)for(le in Y.key!==void 0&&(xe=""+Y.key),Y)R.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(de[le]=Y[le]);var je=arguments.length-2;if(je===1)de.children=re;else if(1<je){for(var Ot=Array(je),st=0;st<je;st++)Ot[st]=arguments[st+2];de.children=Ot}if(k&&k.defaultProps)for(le in je=k.defaultProps,je)de[le]===void 0&&(de[le]=je[le]);return C(k,xe,de)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(k){return{$$typeof:m,render:k}},Se.isValidElement=D,Se.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:ge}},Se.memo=function(k,Y){return{$$typeof:g,type:k,compare:Y===void 0?null:Y}},Se.startTransition=function(k){var Y=x.T,re={};x.T=re;try{var le=k(),de=x.S;de!==null&&de(re,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(ce,ke)}catch(xe){ke(xe)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),x.T=Y}},Se.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Se.use=function(k){return x.H.use(k)},Se.useActionState=function(k,Y,re){return x.H.useActionState(k,Y,re)},Se.useCallback=function(k,Y){return x.H.useCallback(k,Y)},Se.useContext=function(k){return x.H.useContext(k)},Se.useDebugValue=function(){},Se.useDeferredValue=function(k,Y){return x.H.useDeferredValue(k,Y)},Se.useEffect=function(k,Y){return x.H.useEffect(k,Y)},Se.useEffectEvent=function(k){return x.H.useEffectEvent(k)},Se.useId=function(){return x.H.useId()},Se.useImperativeHandle=function(k,Y,re){return x.H.useImperativeHandle(k,Y,re)},Se.useInsertionEffect=function(k,Y){return x.H.useInsertionEffect(k,Y)},Se.useLayoutEffect=function(k,Y){return x.H.useLayoutEffect(k,Y)},Se.useMemo=function(k,Y){return x.H.useMemo(k,Y)},Se.useOptimistic=function(k,Y){return x.H.useOptimistic(k,Y)},Se.useReducer=function(k,Y,re){return x.H.useReducer(k,Y,re)},Se.useRef=function(k){return x.H.useRef(k)},Se.useState=function(k){return x.H.useState(k)},Se.useSyncExternalStore=function(k,Y,re){return x.H.useSyncExternalStore(k,Y,re)},Se.useTransition=function(){return x.H.useTransition()},Se.version="19.2.1",Se}var Lv;function lp(){return Lv||(Lv=1,dm.exports=Z1()),dm.exports}var O=lp();const J1=$1(O);var mm={exports:{}},zl={},pm={exports:{}},gm={};var jv;function ew(){return jv||(jv=1,(function(r){function e(Q,ue){var ge=Q.length;Q.push(ue);e:for(;0<ge;){var ke=ge-1>>>1,He=Q[ke];if(0<o(He,ue))Q[ke]=ue,Q[ge]=He,ge=ke;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ue=Q[0],ge=Q.pop();if(ge!==ue){Q[0]=ge;e:for(var ke=0,He=Q.length,k=He>>>1;ke<k;){var Y=2*(ke+1)-1,re=Q[Y],le=Y+1,de=Q[le];if(0>o(re,ge))le<He&&0>o(de,re)?(Q[ke]=de,Q[le]=ge,ke=le):(Q[ke]=re,Q[Y]=ge,ke=Y);else if(le<He&&0>o(de,ge))Q[ke]=de,Q[le]=ge,ke=le;else break e}}return ue}function o(Q,ue){var ge=Q.sortIndex-ue.sortIndex;return ge!==0?ge:Q.id-ue.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,b=null,A=3,M=!1,z=!1,B=!1,U=!1,Z=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function se(Q){for(var ue=n(g);ue!==null;){if(ue.callback===null)s(g);else if(ue.startTime<=Q)s(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function ae(Q){if(B=!1,se(Q),!z)if(n(p)!==null)z=!0,ce||(ce=!0,L());else{var ue=n(g);ue!==null&&ct(ae,ue.startTime-Q)}}var ce=!1,x=-1,R=5,C=-1;function P(){return U?!0:!(r.unstable_now()-C<R)}function D(){if(U=!1,ce){var Q=r.unstable_now();C=Q;var ue=!0;try{e:{z=!1,B&&(B=!1,ne(x),x=-1),M=!0;var ge=A;try{t:{for(se(Q),b=n(p);b!==null&&!(b.expirationTime>Q&&P());){var ke=b.callback;if(typeof ke=="function"){b.callback=null,A=b.priorityLevel;var He=ke(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof He=="function"){b.callback=He,se(Q),ue=!0;break t}b===n(p)&&s(p),se(Q)}else s(p);b=n(p)}if(b!==null)ue=!0;else{var k=n(g);k!==null&&ct(ae,k.startTime-Q),ue=!1}}break e}finally{b=null,A=ge,M=!1}ue=void 0}}finally{ue?L():ce=!1}}}var L;if(typeof ie=="function")L=function(){ie(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ze=I.port2;I.port1.onmessage=D,L=function(){ze.postMessage(null)}}else L=function(){Z(D,0)};function ct(Q,ue){x=Z(function(){Q(r.unstable_now())},ue)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_next=function(Q){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var ge=A;A=ue;try{return Q()}finally{A=ge}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(Q,ue){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=A;A=Q;try{return ue()}finally{A=ge}},r.unstable_scheduleCallback=function(Q,ue,ge){var ke=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ke+ge:ke):ge=ke,Q){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=ge+He,Q={id:T++,callback:ue,priorityLevel:Q,startTime:ge,expirationTime:He,sortIndex:-1},ge>ke?(Q.sortIndex=ge,e(g,Q),n(p)===null&&Q===n(g)&&(B?(ne(x),x=-1):B=!0,ct(ae,ge-ke))):(Q.sortIndex=He,e(p,Q),z||M||(z=!0,ce||(ce=!0,L()))),Q},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Q){var ue=A;return function(){var ge=A;A=ue;try{return Q.apply(this,arguments)}finally{A=ge}}}})(gm)),gm}var Uv;function tw(){return Uv||(Uv=1,pm.exports=ew()),pm.exports}var ym={exports:{}},$t={};var zv;function nw(){if(zv)return $t;zv=1;var r=lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},$t.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:M}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var Bv;function iw(){if(Bv)return ym.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=nw(),ym.exports}var qv;function rw(){if(qv)return zl;qv=1;var r=tw(),e=lp(),n=iw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,A=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case Z:return"Profiler";case U:return"StrictMode";case ae:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case z:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case se:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:ze(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ze(t(i))}catch{}}return null}var ct=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ke=[],He=-1;function k(t){return{current:t}}function Y(t){0>He||(t.current=ke[He],ke[He]=null,He--)}function re(t,i){He++,ke[He]=t.current,t.current=i}var le=k(null),de=k(null),xe=k(null),je=k(null);function Ot(t,i){switch(re(xe,i),re(de,t),re(le,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(le),re(le,t)}function st(){Y(le),Y(de),Y(xe)}function Ss(t){t.memoizedState!==null&&re(je,t);var i=le.current,a=rv(i,t.type);i!==a&&(re(de,t),re(le,a))}function ya(t){de.current===t&&(Y(le),Y(de)),je.current===t&&(Y(je),Pl._currentValue=ge)}var _a,va;function ui(t){if(_a===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_a=i&&i[1]||"",va=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+t+va}var Po=!1;function ws(t,i){if(!t||Po)return"";Po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var G=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){G=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){G=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&G&&typeof $.stack=="string")return[$.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),F=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===F.length)for(l=N.length-1,h=F.length-1;1<=l&&0<=h&&N[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==F[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function ko(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return ws(t.type,!1);case 11:return ws(t.type.render,!1);case 1:return ws(t.type,!0);case 31:return ui("Activity");default:return""}}function Lo(t){try{var i="",a=null;do i+=ko(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,br=r.unstable_cancelCallback,mf=r.unstable_shouldYield,Ru=r.unstable_requestPaint,en=r.unstable_now,As=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,Uo=r.unstable_UserBlockingPriority,Sr=r.unstable_NormalPriority,pf=r.unstable_LowPriority,xu=r.unstable_IdlePriority,Cu=r.log,Iu=r.unstable_setDisableYieldValue,Gn=null,zt=null;function In(t){if(typeof Cu=="function"&&Iu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Gn,t)}catch{}}var pt=Math.clz32?Math.clz32:Du,Nu=Math.log,Ea=Math.LN2;function Du(t){return t>>>=0,t===0?32:31-(Nu(t)/Ea|0)|0}var ci=256,Rs=262144,Tt=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=hi(l):(_&=S,_!==0?h=hi(_):a||(a=S&~t,a!==0&&(h=hi(a))))):(S=l&~d,S!==0?h=hi(S):_!==0?h=hi(_):a||(a=l&~t,a!==0&&(h=hi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ou(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,F=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-pt(a),ee=1<<X;S[X]=0,N[X]=-1;var G=F[X];if(G!==null)for(F[X]=null,X=0;X<G.length;X++){var $=G[X];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&Cs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Cs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Bo(t,i){var a=i&-i;return a=(a&42)!==0?1:Is(a),(a&(t.suspendedLanes|i))!==0?0:a}function Is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Hi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mu(){var t=ue.p;return t!==0?t:(t=window.event,t===void 0?32:xv(t.type))}function Kn(t,i){var a=ue.p;try{return ue.p=t,i()}finally{ue.p=a}}var Yn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Yn,kt="__reactProps$"+Yn,mi="__reactContainer$"+Yn,Ta="__reactEvents$"+Yn,_f="__reactListeners$"+Yn,Vu="__reactHandles$"+Yn,Pu="__reactResources$"+Yn,pi="__reactMarker$"+Yn;function ba(t){delete t[bt],delete t[kt],delete t[Ta],delete t[_f],delete t[Vu]}function gi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[mi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=hv(t);t!==null;){if(a=t[bt])return a;t=hv(t)}return i}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[bt]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yi(t){var i=t[Pu];return i||(i=t[Pu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[pi]=!0}var qo=new Set,Ho={};function _i(t,i){vi(t,i),vi(t+"Capture",i)}function vi(t,i){for(Ho[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Qo={};function ku(t){return Et.call(Qo,t)?!0:Et.call(Go,t)?!1:Fo.test(t)?Qo[t]=!0:(Go[t]=!0,!1)}function Sa(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=wr(t)?"checked":"value";t._valueTracker=Ko(t,i,""+t[i])}}function Ns(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=wr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ds=/[\n"\\]/g;function an(t){return t.replace(Ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wa(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Yo(t,_,Lt(i)):a!=null?Yo(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function Lu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Yo(t,i,a){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ar(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ju(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Rr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Uu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Uu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Xo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&$o(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&$o(t,d,i[d])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return xr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var Wo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Ti=null;function Os(t){var i=Nn(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(wa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));wa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ns(l)}break e;case"textarea":ju(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ar(t,!!a.multiple,i,!1)}}}var xa=!1;function Ir(t,i,a){if(xa)return t(i,a);xa=!0;try{var l=t(i);return l}finally{if(xa=!1,(Cr!==null||Ti!==null)&&(Mc(),Cr&&(i=Cr,t=Ti,Ti=Cr=null,Os(i),t)))for(i=0;i<t.length;i++)Os(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(On)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ms=!1}var bi=null,Zo=null,Vs=null;function Jo(){if(Vs)return Vs;var t,i=Zo,a=i.length,l,h="value"in bi?bi.value:bi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Vs=h.slice(t,1<l?1-l:void 0)}function Ps(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function Wn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:Wn,this.isPropagationStopped=Wn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),i}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Bt(Gi),Nr=b({},Gi,{view:0,detail:0}),el=Bt(Nr),Dr,Ca,wi,Ia=b({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Or,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Dr=t.screenX-wi.screenX,Ca=t.screenY-wi.screenY):Ca=Dr=0,wi=t),Dr)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),tl=Bt(Ia),ks=b({},Ia,{dataTransfer:0}),Bu=Bt(ks),qu=b({},Nr,{relatedTarget:0}),Ls=Bt(qu),nl=b({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=Bt(nl),Na=b({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fu=Bt(Na),Gu=b({},Gi,{data:0}),Ai=Bt(Gu),Qu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Yu[t])?!!i[t]:!1}function Or(){return $u}var tn=b({},Nr,{key:function(t){if(t.key){var i=Qu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ku[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Or,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xu=Bt(tn),Wu=b({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Bt(Wu),c=b({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Or}),y=Bt(c),E=b({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Bt(E),q=b({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Bt(q),oe=b({},Gi,{newState:0,oldState:0}),Ae=Bt(oe),gt=[9,13,27,32],Fe=On&&"CompositionEvent"in window,at=null;On&&"documentMode"in document&&(at=document.documentMode);var Mn=On&&"TextEvent"in window&&!at,Ri=On&&(!Fe||at&&8<at&&11>=at),Zn=" ",Jn=!1;function js(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function vS(t,i){switch(t){case"compositionend":return Da(i);case"keypress":return i.which!==32?null:(Jn=!0,Zn);case"textInput":return t=i.data,t===Zn&&Jn?null:t;default:return null}}function ES(t,i){if(Oa)return t==="compositionend"||!Fe&&js(t,i)?(t=Jo(),Vs=Zo=bi=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ri&&i.locale!=="ko"?null:i.data;default:return null}}var TS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!TS[t.type]:i==="textarea"}function pg(t,i,a,l){Cr?Ti?Ti.push(l):Ti=[l]:Cr=l,i=zc(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var il=null,rl=null;function bS(t){W_(t,0)}function Zu(t){var i=_n(t);if(Ns(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(On){var vf;if(On){var Ef="oninput"in document;if(!Ef){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Ef=typeof _g.oninput=="function"}vf=Ef}else vf=!1;yg=vf&&(!document.documentMode||9<document.documentMode)}function vg(){il&&(il.detachEvent("onpropertychange",Eg),rl=il=null)}function Eg(t){if(t.propertyName==="value"&&Zu(rl)){var i=[];pg(i,rl,t,Dn(t)),Ir(bS,i)}}function SS(t,i,a){t==="focusin"?(vg(),il=i,rl=a,il.attachEvent("onpropertychange",Eg)):t==="focusout"&&vg()}function wS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zu(rl)}function AS(t,i){if(t==="click")return Zu(i)}function RS(t,i){if(t==="input"||t==="change")return Zu(i)}function xS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:xS;function sl(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!En(t[h],i[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ei(t.document)}return i}function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var CS=On&&"documentMode"in document&&11>=document.documentMode,Ma=null,bf=null,al=null,Sf=!1;function Ag(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Ma==null||Ma!==Ei(l)||(l=Ma,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=zc(bf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ma)))}function Us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Va={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},wf={},Rg={};On&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function zs(t){if(wf[t])return wf[t];if(!Va[t])return t;var i=Va[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rg)return wf[t]=i[a];return t}var xg=zs("animationend"),Cg=zs("animationiteration"),Ig=zs("animationstart"),IS=zs("transitionrun"),NS=zs("transitionstart"),DS=zs("transitioncancel"),Ng=zs("transitionend"),Dg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function ei(t,i){Dg.set(t,i),_i(i,[t])}var Ju=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Pa=0,Rf=0;function ec(){for(var t=Pa,i=Rf=Pa=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Og(a,h,d)}}function tc(t,i,a,l){Vn[Pa++]=t,Vn[Pa++]=i,Vn[Pa++]=a,Vn[Pa++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function xf(t,i,a,l){return tc(t,i,a,l),nc(t)}function Bs(t,i){return tc(t,null,null,i),nc(t)}function Og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function nc(t){if(50<Cl)throw Cl=0,kd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ka={};function OS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new OS(t,i,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ki(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ic(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Cf(t)&&(_=1);else if(typeof t=="string")_=L1(t,a,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Tn(31,a,i,h),t.elementType=C,t.lanes=d,t;case B:return qs(a.children,h,d,i);case U:_=8,h|=24;break;case Z:return t=Tn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case ae:return t=Tn(13,a,i,h),t.elementType=ae,t.lanes=d,t;case ce:return t=Tn(19,a,i,h),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case se:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function qs(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function If(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function Vg(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function Nf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Pg=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=Pg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Lo(i)},Pg.set(t,i),i)}return{value:t,source:i,stack:Lo(i)}}var La=[],ja=0,rc=null,ol=0,kn=[],Ln=0,Mr=null,xi=1,Ci="";function Yi(t,i){La[ja++]=ol,La[ja++]=rc,rc=t,ol=i}function kg(t,i,a){kn[Ln++]=xi,kn[Ln++]=Ci,kn[Ln++]=Mr,Mr=t;var l=xi;t=Ci;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,xi=1<<32-pt(i)+h|a<<h|l,Ci=d+t}else xi=1<<d|a<<h|l,Ci=t}function Df(t){t.return!==null&&(Yi(t,1),kg(t,1,0))}function Of(t){for(;t===rc;)rc=La[--ja],La[ja]=null,ol=La[--ja],La[ja]=null;for(;t===Mr;)Mr=kn[--Ln],kn[Ln]=null,Ci=kn[--Ln],kn[Ln]=null,xi=kn[--Ln],kn[Ln]=null}function Lg(t,i){kn[Ln++]=xi,kn[Ln++]=Ci,kn[Ln++]=Mr,xi=i.id,Ci=i.overflow,Mr=t}var qt=null,nt=null,Le=!1,Vr=null,jn=!1,Mf=Error(s(519));function Pr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(Pn(i,t)),Mf}function jg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[kt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ne(Nl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Lu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Rr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Pr(t,!0)}function Ug(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:qt=qt.return}}function Ua(t){if(t!==qt)return!1;if(!Le)return Ug(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&nt&&Pr(t),Ug(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=cv(t)}else i===27?(i=nt,$r(t.type)?(t=nm,nm=null,nt=t):nt=i):nt=qt?zn(t.stateNode.nextSibling):null;return!0}function Hs(){nt=qt=null,Le=!1}function Vf(){var t=Vr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Vr=null),t}function ll(t){Vr===null?Vr=[t]:Vr.push(t)}var Pf=k(null),Fs=null,$i=null;function kr(t,i,a){re(Pf,i._currentValue),i._currentValue=a}function Xi(t){t._currentValue=Pf.current,Y(Pf)}function kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Lf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),kf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),kf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function za(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&Lf(i,t,a,l),i.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Fs=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return zg(Fs,t)}function ac(t,i){return Fs===null&&Gs(t),zg(t,i)}function zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(s(308));$i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $i=$i.next=i;return a}var MS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},VS=r.unstable_scheduleCallback,PS=r.unstable_NormalPriority,At={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new MS,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&VS(PS,function(){t.controller.abort()})}var cl=null,Uf=0,Ba=0,qa=null;function kS(t,i){if(cl===null){var a=cl=[];Uf=0,Ba=qd(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,i.then(Bg,Bg),i}function Bg(){if(--Uf===0&&cl!==null){qa!==null&&(qa.status="fulfilled");var t=cl;cl=null,Ba=0,qa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function LS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=Q.S;Q.S=function(t,i){A_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&kS(t,i),qg!==null&&qg(t,i)};var Qs=k(null);function zf(){var t=Qs.current;return t!==null?t:et.pooledCache}function oc(t,i){i===null?re(Qs,Qs.current):re(Qs,i.pool)}function Hg(){var t=zf();return t===null?null:{parent:At._currentValue,pool:t}}var Ha=Error(s(460)),Bf=Error(s(474)),lc=Error(s(542)),uc={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw Ys=i,Ha}}function Ks(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,Ha):a}}var Ys=null;function Qg(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function Kg(t){if(t===Ha||t===lc)throw Error(s(483))}var Fa=null,hl=0;function cc(t){var i=hl;return hl+=1,Fa===null&&(Fa=[]),Gg(Fa,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function hc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Yg(t){function i(j,V){if(t){var H=j.deletions;H===null?(j.deletions=[V],j.flags|=16):H.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)i(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=Ki(j,V),j.index=0,j.sibling=null,j}function d(j,V,H){return j.index=H,t?(H=j.alternate,H!==null?(H=H.index,H<V?(j.flags|=67108866,V):H):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,V,H,W){return V===null||V.tag!==6?(V=If(H,j.mode,W),V.return=j,V):(V=h(V,H),V.return=j,V)}function N(j,V,H,W){var ye=H.type;return ye===B?X(j,V,H.props.children,W,H.key):V!==null&&(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Ks(ye)===V.type)?(V=h(V,H.props),fl(V,H),V.return=j,V):(V=ic(H.type,H.key,H.props,null,j.mode,W),fl(V,H),V.return=j,V)}function F(j,V,H,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Nf(H,j.mode,W),V.return=j,V):(V=h(V,H.children||[]),V.return=j,V)}function X(j,V,H,W,ye){return V===null||V.tag!==7?(V=qs(H,j.mode,W,ye),V.return=j,V):(V=h(V,H),V.return=j,V)}function ee(j,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=If(""+V,j.mode,H),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return H=ic(V.type,V.key,V.props,null,j.mode,H),fl(H,V),H.return=j,H;case z:return V=Nf(V,j.mode,H),V.return=j,V;case R:return V=Ks(V),ee(j,V,H)}if(ct(V)||L(V))return V=qs(V,j.mode,H,null),V.return=j,V;if(typeof V.then=="function")return ee(j,cc(V),H);if(V.$$typeof===ie)return ee(j,ac(j,V),H);hc(j,V)}return null}function G(j,V,H,W){var ye=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:S(j,V,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case M:return H.key===ye?N(j,V,H,W):null;case z:return H.key===ye?F(j,V,H,W):null;case R:return H=Ks(H),G(j,V,H,W)}if(ct(H)||L(H))return ye!==null?null:X(j,V,H,W,null);if(typeof H.then=="function")return G(j,V,cc(H),W);if(H.$$typeof===ie)return G(j,V,ac(j,H),W);hc(j,H)}return null}function $(j,V,H,W,ye){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(H)||null,S(V,j,""+W,ye);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case M:return j=j.get(W.key===null?H:W.key)||null,N(V,j,W,ye);case z:return j=j.get(W.key===null?H:W.key)||null,F(V,j,W,ye);case R:return W=Ks(W),$(j,V,H,W,ye)}if(ct(W)||L(W))return j=j.get(H)||null,X(V,j,W,ye,null);if(typeof W.then=="function")return $(j,V,H,cc(W),ye);if(W.$$typeof===ie)return $(j,V,H,ac(V,W),ye);hc(V,W)}return null}function me(j,V,H,W){for(var ye=null,Be=null,pe=V,Ce=V=0,Oe=null;pe!==null&&Ce<H.length;Ce++){pe.index>Ce?(Oe=pe,pe=null):Oe=pe.sibling;var qe=G(j,pe,H[Ce],W);if(qe===null){pe===null&&(pe=Oe);break}t&&pe&&qe.alternate===null&&i(j,pe),V=d(qe,V,Ce),Be===null?ye=qe:Be.sibling=qe,Be=qe,pe=Oe}if(Ce===H.length)return a(j,pe),Le&&Yi(j,Ce),ye;if(pe===null){for(;Ce<H.length;Ce++)pe=ee(j,H[Ce],W),pe!==null&&(V=d(pe,V,Ce),Be===null?ye=pe:Be.sibling=pe,Be=pe);return Le&&Yi(j,Ce),ye}for(pe=l(pe);Ce<H.length;Ce++)Oe=$(pe,j,Ce,H[Ce],W),Oe!==null&&(t&&Oe.alternate!==null&&pe.delete(Oe.key===null?Ce:Oe.key),V=d(Oe,V,Ce),Be===null?ye=Oe:Be.sibling=Oe,Be=Oe);return t&&pe.forEach(function(es){return i(j,es)}),Le&&Yi(j,Ce),ye}function ve(j,V,H,W){if(H==null)throw Error(s(151));for(var ye=null,Be=null,pe=V,Ce=V=0,Oe=null,qe=H.next();pe!==null&&!qe.done;Ce++,qe=H.next()){pe.index>Ce?(Oe=pe,pe=null):Oe=pe.sibling;var es=G(j,pe,qe.value,W);if(es===null){pe===null&&(pe=Oe);break}t&&pe&&es.alternate===null&&i(j,pe),V=d(es,V,Ce),Be===null?ye=es:Be.sibling=es,Be=es,pe=Oe}if(qe.done)return a(j,pe),Le&&Yi(j,Ce),ye;if(pe===null){for(;!qe.done;Ce++,qe=H.next())qe=ee(j,qe.value,W),qe!==null&&(V=d(qe,V,Ce),Be===null?ye=qe:Be.sibling=qe,Be=qe);return Le&&Yi(j,Ce),ye}for(pe=l(pe);!qe.done;Ce++,qe=H.next())qe=$(pe,j,Ce,qe.value,W),qe!==null&&(t&&qe.alternate!==null&&pe.delete(qe.key===null?Ce:qe.key),V=d(qe,V,Ce),Be===null?ye=qe:Be.sibling=qe,Be=qe);return t&&pe.forEach(function(Y1){return i(j,Y1)}),Le&&Yi(j,Ce),ye}function Je(j,V,H,W){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case M:e:{for(var ye=H.key;V!==null;){if(V.key===ye){if(ye=H.type,ye===B){if(V.tag===7){a(j,V.sibling),W=h(V,H.props.children),W.return=j,j=W;break e}}else if(V.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===R&&Ks(ye)===V.type){a(j,V.sibling),W=h(V,H.props),fl(W,H),W.return=j,j=W;break e}a(j,V);break}else i(j,V);V=V.sibling}H.type===B?(W=qs(H.props.children,j.mode,W,H.key),W.return=j,j=W):(W=ic(H.type,H.key,H.props,null,j.mode,W),fl(W,H),W.return=j,j=W)}return _(j);case z:e:{for(ye=H.key;V!==null;){if(V.key===ye)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(j,V.sibling),W=h(V,H.children||[]),W.return=j,j=W;break e}else{a(j,V);break}else i(j,V);V=V.sibling}W=Nf(H,j.mode,W),W.return=j,j=W}return _(j);case R:return H=Ks(H),Je(j,V,H,W)}if(ct(H))return me(j,V,H,W);if(L(H)){if(ye=L(H),typeof ye!="function")throw Error(s(150));return H=ye.call(H),ve(j,V,H,W)}if(typeof H.then=="function")return Je(j,V,cc(H),W);if(H.$$typeof===ie)return Je(j,V,ac(j,H),W);hc(j,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(j,V.sibling),W=h(V,H),W.return=j,j=W):(a(j,V),W=If(H,j.mode,W),W.return=j,j=W),_(j)):a(j,V)}return function(j,V,H,W){try{hl=0;var ye=Je(j,V,H,W);return Fa=null,ye}catch(pe){if(pe===Ha||pe===lc)throw pe;var Be=Tn(29,pe,null,j.mode);return Be.lanes=W,Be.return=j,Be}finally{}}}var $s=Yg(!0),$g=Yg(!1),Lr=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function jr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=nc(t),Og(t,null,a),i}return tc(t,l,i,a),nc(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}function Ff(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gf=!1;function ml(){if(Gf){var t=qa;if(t!==null)throw t}}function pl(t,i,a,l){Gf=!1;var h=t.updateQueue;Lr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,F=N.next;N.next=null,_===null?d=F:_.next=F,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=F:S.next=F,X.lastBaseUpdate=N))}if(d!==null){var ee=h.baseState;_=0,X=F=N=null,S=d;do{var G=S.lane&-536870913,$=G!==S.lane;if($?(De&G)===G:(l&G)===G){G!==0&&G===Ba&&(Gf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var me=t,ve=S;G=i;var Je=a;switch(ve.tag){case 1:if(me=ve.payload,typeof me=="function"){ee=me.call(Je,ee,G);break e}ee=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ve.payload,G=typeof me=="function"?me.call(Je,ee,G):me,G==null)break e;ee=b({},ee,G);break e;case 2:Lr=!0}}G=S.callback,G!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[G]:$.push(G))}else $={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(F=X=$,N=ee):X=X.next=$,_|=G;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;$=S,S=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);X===null&&(N=ee),h.baseState=N,h.firstBaseUpdate=F,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Fr|=_,t.lanes=_,t.memoizedState=ee}}function Xg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],i)}var Ga=k(null),fc=k(0);function Zg(t,i){t=sr,re(fc,t),re(Ga,i),sr=t|i.baseLanes}function Qf(){re(fc,sr),re(Ga,Ga.current)}function Kf(){sr=fc.current,Y(Ga),Y(fc)}var bn=k(null),Un=null;function zr(t){var i=t.alternate;re(yt,yt.current&1),re(bn,t),Un===null&&(i===null||Ga.current!==null||i.memoizedState!==null)&&(Un=t)}function Yf(t){re(yt,yt.current),re(bn,t),Un===null&&(Un=t)}function Jg(t){t.tag===22?(re(yt,yt.current),re(bn,t),Un===null&&(Un=t)):Br()}function Br(){re(yt,yt.current),re(bn,bn.current)}function Sn(t){Y(bn),Un===t&&(Un=null),Y(yt)}var yt=k(0);function dc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wi=0,Re=null,We=null,Rt=null,mc=!1,Qa=!1,Xs=!1,pc=0,gl=0,Ka=null,jS=0;function ht(){throw Error(s(321))}function $f(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Xf(t,i,a,l,h,d){return Wi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?ky:hd,Xs=!1,d=a(l,h),Xs=!1,Qa&&(d=ty(i,a,l,h)),ey(t),d}function ey(t){Q.H=vl;var i=We!==null&&We.next!==null;if(Wi=0,Rt=We=Re=null,mc=!1,gl=0,Ka=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&sc(t)&&(xt=!0))}function ty(t,i,a,l){Re=t;var h=0;do{if(Qa&&(Ka=null),gl=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=Ly,d=i(a,l)}while(Qa);return d}function US(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),i}function Wf(){var t=pc!==0;return pc=0,t}function Zf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Jf(t){if(mc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}mc=!1}Wi=0,Rt=We=Re=null,Qa=!1,gl=pc=0,Ka=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Rt===null?Re.memoizedState:Rt.next;if(i!==null)Rt=i,We=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=gl;return gl+=1,Ka===null&&(Ka=[]),t=Gg(Ka,t,i),i=Re,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?ky:hd),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function ed(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=gc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=P;return i.index++,a}function Zi(t,i){return typeof i=="function"?i(t):i}function _c(t){var i=_t();return td(i,We,t)}function td(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,F=i,X=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(De&ee)===ee:(Wi&ee)===ee){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Ba&&(X=!0);else if((Wi&G)===G){F=F.next,G===Ba&&(X=!0);continue}else ee={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,Re.lanes|=G,Fr|=G;ee=F.action,Xs&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else G={lane:ee,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=G,_=d):N=N.next=G,Re.lanes|=ee,Fr|=ee;F=F.next}while(F!==null&&F!==i);if(N===null?_=d:N.next=S,!En(d,t.memoizedState)&&(xt=!0,X&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(t,i,a){var l=Re,h=_t(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!En((We||h).memoizedState,a);if(_&&(h.memoizedState=a,xt=!0),h=h.queue,sd(sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},ry.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Wi&127)!==0||iy(l,i,a)}return a}function iy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=gc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,ay(i)&&oy(t)}function sy(t,i,a){return a(function(){ay(i)&&oy(t)})}function ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function oy(t){var i=Bs(t,2);i!==null&&fn(i,t,2)}function id(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Xs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},i}function ly(t,i,a,l){return t.baseState=a,td(t,We,typeof l=="function"?l:Zi)}function zS(t,i,a,l,h){if(Tc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,uy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function uy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var S=a(h,l),N=Q.S;N!==null&&N(_,S),cy(t,i,S)}catch(F){rd(t,i,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(h,l),cy(t,i,d)}catch(F){rd(t,i,F)}}function cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,i,l)},function(l){return rd(t,i,l)}):hy(t,i,a)}function hy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,uy(t,a)))}function rd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dy(t,i){return i}function my(t,i){if(Le){var a=et.formState;if(a!==null){e:{var l=Re;if(Le){if(nt){t:{for(var h=nt,d=jn;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=zn(h.nextSibling),l=h.data==="F!";break e}}Pr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=l,a=My.bind(null,Re,l),l.dispatch=a,l=id(!1),d=cd.bind(null,Re,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=zS.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function py(t){var i=_t();return gy(i,We,t)}function gy(t,i,a){if(i=td(t,i,dy)[0],t=_c(Zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(_){throw _===Ha?lc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ya(9,{destroy:void 0},BS.bind(null,h,a),null)),[l,d,t]}function BS(t,i){t.action=i}function yy(t){var i=_t(),a=We;if(a!==null)return gy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ya(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=gc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return _t().memoizedState}function vc(t,i,a,l){var h=nn();Re.flags|=t,h.memoizedState=Ya(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ec(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&$f(l,We.memoizedState.deps)?h.memoizedState=Ya(i,d,a,l):(Re.flags|=t,h.memoizedState=Ya(1|i,d,a,l))}function vy(t,i){vc(8390656,8,t,i)}function sd(t,i){Ec(2048,8,t,i)}function qS(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=gc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ey(t){var i=_t().memoizedState;return qS({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(t,i){return Ec(4,2,t,i)}function by(t,i){return Ec(4,4,t,i)}function Sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,a){a=a!=null?a.concat([t]):null,Ec(4,4,Sy.bind(null,i,t),a)}function ad(){}function Ay(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&$f(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ry(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&$f(i,l[1]))return l[0];if(l=t(),Xs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function od(t,i,a){return a===void 0||(Wi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=x_(),Re.lanes|=t,Fr|=t,a)}function xy(t,i,a,l){return En(a,i)?a:Ga.current!==null?(t=od(t,a,l),En(t,i)||(xt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=x_(),Re.lanes|=t,Fr|=t,i)}function Cy(t,i,a,l,h){var d=ue.p;ue.p=d!==0&&8>d?d:8;var _=Q.T,S={};Q.T=S,cd(t,!1,i,a);try{var N=h(),F=Q.S;if(F!==null&&F(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=LS(N,l);_l(t,i,X,Rn(t))}else _l(t,i,l,Rn(t))}catch(ee){_l(t,i,{then:function(){},status:"rejected",reason:ee},Rn())}finally{ue.p=d,_!==null&&S.types!==null&&(_.types=S.types),Q.T=_}}function HS(){}function ld(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Iy(t).queue;Cy(t,h,i,ge,a===null?HS:function(){return Ny(t),a(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ny(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),_l(t,i.next.queue,{},Rn())}function ud(){return Ht(Pl)}function Dy(){return _t().memoizedState}function Oy(){return _t().memoizedState}function FS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();t=jr(a);var l=Ur(i,t,a);l!==null&&(fn(l,i,a),dl(l,i,a)),i={cache:jf()},t.payload=i;return}i=i.return}}function GS(t,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(t)?Vy(i,a):(a=xf(t,i,a,l),a!==null&&(fn(a,t,l),Py(a,i,l)))}function My(t,i,a){var l=Rn();_l(t,i,a,l)}function _l(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))Vy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,En(S,_))return tc(t,i,h,0),et===null&&ec(),!1}catch{}finally{}if(a=xf(t,i,h,l),a!==null)return fn(a,t,l),Py(a,i,l),!0}return!1}function cd(t,i,a,l){if(l={lane:2,revertLane:qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(i)throw Error(s(479))}else i=xf(t,a,l,2),i!==null&&fn(i,t,2)}function Tc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Vy(t,i){Qa=mc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Py(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}var vl={readContext:Ht,use:yc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};vl.useEffectEvent=ht;var ky={readContext:Ht,use:yc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,vc(4194308,4,Sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return vc(4194308,4,t,i)},useInsertionEffect:function(t,i){vc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Xs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Xs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=GS.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=id(t);var i=t.queue,a=My.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(t,i){var a=nn();return od(a,t,i)},useTransition:function(){var t=id(!1);return t=Cy.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=nn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||iy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vy(sy.bind(null,l,d,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=et.identifierPrefix;if(Le){var a=Ci,l=xi;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=pc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=jS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ud,useFormState:my,useActionState:my,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:ed,useCacheRefresh:function(){return nn().memoizedState=FS.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hd={readContext:Ht,use:yc,useCallback:Ay,useContext:Ht,useEffect:sd,useImperativeHandle:wy,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ry,useReducer:_c,useRef:_y,useState:function(){return _c(Zi)},useDebugValue:ad,useDeferredValue:function(t,i){var a=_t();return xy(a,We.memoizedState,t,i)},useTransition:function(){var t=_c(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:ud,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=_t();return ly(a,We,t,i)},useMemoCache:ed,useCacheRefresh:Oy};hd.useEffectEvent=Ey;var Ly={readContext:Ht,use:yc,useCallback:Ay,useContext:Ht,useEffect:sd,useImperativeHandle:wy,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ry,useReducer:nd,useRef:_y,useState:function(){return nd(Zi)},useDebugValue:ad,useDeferredValue:function(t,i){var a=_t();return We===null?od(a,t,i):xy(a,We.memoizedState,t,i)},useTransition:function(){var t=nd(Zi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:ud,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=_t();return We!==null?ly(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Oy};Ly.useEffectEvent=Ey;function fd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Rn(),h=jr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(fn(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Rn(),h=jr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(fn(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Rn(),l=jr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(fn(i,t,a),dl(i,t,a))}};function jy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function Uy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&dd.enqueueReplaceState(i,i.state,null)}function Ws(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function zy(t){Ju(t)}function By(t){console.error(t)}function qy(t){Ju(t)}function bc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(t,i,a){return a=jr(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(t,i)},a}function Fy(t){return t=jr(t),t.tag=3,t}function Gy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Hy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Hy(i,a,l),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function QS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&za(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Vc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),Vc(),!1}if(Le)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Mf&&(t=Error(s(422),{cause:l}),ll(Pn(t,a)))):(l!==Mf&&(i=Error(s(423),{cause:l}),ll(Pn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,a),h=md(t.stateNode,l,h),Ff(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),xl===null?xl=[d]:xl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=md(a.stateNode,l,t),Ff(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,t,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var pd=Error(s(461)),xt=!1;function Ft(t,i,a,l){i.child=t===null?$g(i,null,a,l):$s(i,t.child,a,l)}function Qy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Gs(i),l=Xf(t,i,a,_,d,h),S=Wf(),t!==null&&!xt?(Zf(t,i,h),Ji(t,i,h)):(Le&&S&&Df(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Yy(t,i,d,l,h)):(t=ic(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(_,l)&&t.ref===i.ref)return Ji(t,i,h)}return i.flags|=1,t=Ki(d,l),t.ref=i.ref,t.return=i,i.child=t}function Yy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(sl(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,Sd(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,Ji(t,i,h)}return gd(t,i,a,l,h)}function $y(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Xy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&oc(i,d!==null?d.cachePool:null),d!==null?Zg(i,d):Qf(),Jg(i);else return l=i.lanes=536870912,Xy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oc(i,d.cachePool),Zg(i,d),Br(),i.memoizedState=null):(t!==null&&oc(i,null),Qf(),Br());return Ft(t,i,h,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(t,i,a,l,h){var d=zf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&oc(i,null),Qf(),Jg(i),t!==null&&za(t,i,l,!0),i.childLanes=h,null}function Sc(t,i){return i=Ac({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Wy(t,i,a){return $s(i,t.child,null,a),t=Sc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function KS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=Sc(i,l),i.lanes=536870912,El(null,t);if(Yf(i),(t=nt)?(t=uv(t,jn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:xi,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw Pr(i);return i.lanes=536870912,null}return Sc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Yf(i),h)if(i.flags&256)i.flags&=-257,i=Wy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(xt||za(t,i,a,!1),h=(a&t.childLanes)!==0,xt||h){if(l=et,l!==null&&(_=Bo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(t,_),fn(l,t,_),pd;Vc(),i=Wy(t,i,a)}else t=d.treeContext,nt=zn(_.nextSibling),qt=i,Le=!0,Vr=null,jn=!1,t!==null&&Lg(i,t),i=Sc(i,l),i.flags|=4096;return i}return t=Ki(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function wc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gd(t,i,a,l,h){return Gs(i),a=Xf(t,i,a,l,void 0,h),l=Wf(),t!==null&&!xt?(Zf(t,i,h),Ji(t,i,h)):(Le&&l&&Df(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Zy(t,i,a,l,h,d){return Gs(i),i.updateQueue=null,a=ty(i,l,a,h),ey(t),l=Wf(),t!==null&&!xt?(Zf(t,i,d),Ji(t,i,d)):(Le&&l&&Df(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Jy(t,i,a,l,h){if(Gs(i),i.stateNode===null){var d=ka,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):ka,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&dd.enqueueReplaceState(d,d.state,null),pl(i,l,d,h),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Ws(a,S);d.props=N;var F=d.context,X=a.contextType;_=ka,typeof X=="object"&&X!==null&&(_=Ht(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||F!==_)&&Uy(i,d,l,_),Lr=!1;var G=i.memoizedState;d.state=G,pl(i,l,d,h),ml(),F=i.memoizedState,S||G!==F||Lr?(typeof ee=="function"&&(fd(i,a,ee,l),F=i.memoizedState),(N=Lr||jy(i,a,N,l,G,F,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(t,i),_=i.memoizedProps,X=Ws(a,_),d.props=X,ee=i.pendingProps,G=d.context,F=a.contextType,N=ka,typeof F=="object"&&F!==null&&(N=Ht(F)),S=a.getDerivedStateFromProps,(F=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||G!==N)&&Uy(i,d,l,N),Lr=!1,G=i.memoizedState,d.state=G,pl(i,l,d,h),ml();var $=i.memoizedState;_!==ee||G!==$||Lr||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof S=="function"&&(fd(i,a,S,l),$=i.memoizedState),(X=Lr||jy(i,a,X,l,G,$,N)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,wc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=$s(i,t.child,null,h),i.child=$s(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ji(t,i,h),t}function e_(t,i,a,l){return Hs(),i.flags|=256,Ft(t,i,a,l),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:Hg()}}function vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function t_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?zr(i):Br(),(t=nt)?(t=uv(t,jn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:xi,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw Pr(i);return tm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Br(),h=i.mode,S=Ac({mode:"hidden",children:S},h),l=qs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=_d(a),l.childLanes=vd(t,_,a),i.memoizedState=yd,El(null,l)):(zr(i),Ed(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(zr(i),i.flags&=-257,i=Td(t,i,a)):i.memoizedState!==null?(Br(),i.child=t.child,i.flags|=128,i=null):(Br(),S=l.fallback,h=i.mode,l=Ac({mode:"visible",children:l.children},h),S=qs(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,$s(i,t.child,null,a),l=i.child,l.memoizedState=_d(a),l.childLanes=vd(t,_,a),i.memoizedState=yd,i=El(null,l));else if(zr(i),tm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var F=_.dgst;_=F,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),i=Td(t,i,a)}else if(xt||za(t,i,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=et,_!==null&&(l=Bo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Bs(t,l),fn(_,t,l),pd;em(S)||Vc(),i=Td(t,i,a)}else em(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,nt=zn(S.nextSibling),qt=i,Le=!0,Vr=null,jn=!1,t!==null&&Lg(i,t),i=Ed(i,l.children),i.flags|=4096);return i}return h?(Br(),S=l.fallback,h=i.mode,N=t.child,F=N.sibling,l=Ki(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?S=Ki(F,S):(S=qs(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,El(null,l),l=i.child,S=t.child.memoizedState,S===null?S=_d(a):(h=S.cachePool,h!==null?(N=At._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Hg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=vd(t,_,a),i.memoizedState=yd,El(t.child,l)):(zr(i),a=t.child,t=a.sibling,a=Ki(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Ed(t,i){return i=Ac({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ac(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function Td(t,i,a){return $s(i,t.child,null,a),t=Ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function n_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kf(t.return,i,a)}function bd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function i_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,re(yt,_),Ft(t,i,l,a),l=Le?ol:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,i);else if(t.tag===19)n_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&dc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&dc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ji(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(za(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ki(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ki(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function YS(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),kr(i,At,t.memoizedState.cache),Hs();break;case 27:case 5:Ss(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(zr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(t,i,a):(zr(i),t=Ji(t,i,a),t!==null?t.sibling:null);zr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(za(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return i_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(yt,yt.current),l)break;return null;case 22:return i.lanes=0,$y(t,i,a,i.pendingProps);case 24:kr(i,At,t.memoizedState.cache)}return Ji(t,i,a)}function r_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!Sd(t,a)&&(i.flags&128)===0)return xt=!1,YS(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,Le&&(i.flags&1048576)!==0&&kg(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ks(i.elementType),i.type=t,typeof t=="function")Cf(t)?(l=Ws(t,l),i.tag=1,i=Jy(null,i,t,l,a)):(i.tag=0,i=gd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===se){i.tag=11,i=Qy(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=ze(t)||t,Error(s(306,i,""))}}return i;case 0:return gd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ws(l,i.pendingProps),Jy(t,i,l,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Hf(t,i),pl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,kr(i,At,l),l!==d.cache&&Lf(i,[At],a,!0),ml(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=e_(t,i,l,a);break e}else if(l!==h){h=Pn(Error(s(424)),i),ll(h),i=e_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=zn(t.firstChild),qt=i,Le=!0,Vr=null,jn=!0,a=$g(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hs(),l===h){i=Ji(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return wc(t,i),t===null?(a=pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Bc(xe.current).createElement(a),l[bt]=i,l[kt]=t,Gt(l,a,t),St(l),i.stateNode=l):i.memoizedState=pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ss(i),t===null&&Le&&(l=i.stateNode=fv(i.type,i.pendingProps,xe.current),qt=i,jn=!0,h=nt,$r(i.type)?(nm=h,nt=zn(l.firstChild)):nt=h),Ft(t,i,i.pendingProps.children,a),wc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=nt)&&(l=w1(l,i.type,i.pendingProps,jn),l!==null?(i.stateNode=l,qt=i,nt=zn(l.firstChild),jn=!1,h=!0):h=!1),h||Pr(i)),Ss(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Wd(h,d)?l=null:_!==null&&Wd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Xf(t,i,US,null,null,a),Pl._currentValue=h),wc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=nt)&&(a=A1(a,i.pendingProps,jn),a!==null?(i.stateNode=a,qt=i,nt=null,t=!0):t=!1),t||Pr(i)),null;case 13:return t_(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$s(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Qy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Gs(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Yy(t,i,i.type,i.pendingProps,a);case 19:return i_(t,i,a);case 31:return KS(t,i,a);case 22:return $y(t,i,a,i.pendingProps);case 24:return Gs(i),l=Ht(At),t===null?(h=zf(),h===null&&(h=et,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},qf(i),kr(i,At,h)):((t.lanes&a)!==0&&(Hf(t,i),pl(i,null,null,a),ml()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,At,l)):(l=d.cache,kr(i,At,l),l!==h.cache&&Lf(i,[At],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function er(t){t.flags|=4}function wd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(D_())t.flags|=8192;else throw Ys=uc,Bf}else t.flags&=-16777217}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i))if(D_())t.flags|=8192;else throw Ys=uc,Bf}function Rc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ou():536870912,t.lanes|=i,Za|=i)}function Tl(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function $S(t,i,a){var l=i.pendingProps;switch(Of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Xi(At),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ua(i)?er(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(er(i),d!==null?(it(i),s_(i,d)):(it(i),wd(i,h,null,l,a))):d?d!==t.memoizedState?(er(i),it(i),s_(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&er(i),it(i),wd(i,h,t,l,a)),null;case 27:if(ya(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=le.current,Ua(i)?jg(i):(t=fv(h,l,a),i.stateNode=t,er(i))}return it(i),null;case 5:if(ya(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=le.current,Ua(i))jg(i);else{var _=Bc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&er(i)}}return it(i),wd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&er(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Ua(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||Pr(i,!0)}else t=Bc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Rc(i,i.updateQueue),it(i),null);case 4:return st(),t===null&&Qd(i.stateNode.containerInfo),it(i),null;case 10:return Xi(i.type),it(i),null;case 19:if(Y(yt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Tl(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=dc(t),d!==null){for(i.flags|=128,Tl(l,!1),t=d.updateQueue,i.updateQueue=t,Rc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return re(yt,yt.current&1|2),Le&&Yi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Dc&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304)}else{if(!h)if(t=dc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Rc(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return it(i),null}else 2*en()-l.renderingStartTime>Dc&&a!==536870912&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=yt.current,re(yt,h?a&1|2:a&1),Le&&Yi(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return Sn(i),Kf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Rc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Y(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Xi(At),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function XS(t,i){switch(Of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Xi(At),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ya(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(yt),null;case 4:return st(),null;case 10:return Xi(i.type),null;case 22:case 23:return Sn(i),Kf(),t!==null&&Y(Qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Xi(At),null;case 25:return null;default:return null}}function a_(t,i){switch(Of(i),i.tag){case 3:Xi(At),st();break;case 26:case 27:case 5:ya(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:Y(yt);break;case 10:Xi(i.type);break;case 22:case 23:Sn(i),Kf(),t!==null&&Y(Qs);break;case 24:Xi(At)}}function bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){$e(i,i.return,S)}}function qr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,F=S;try{F()}catch(X){$e(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){$e(i,i.return,X)}}function o_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wg(i,a)}catch(l){$e(t,t.return,l)}}}function l_(t,i,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function Ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function u_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Ad(t,i,a){try{var l=t.stateNode;_1(l,t.type,a,i),l[kt]=i}catch(h){$e(t,t.return,h)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$r(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$r(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function xd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(xd(t,i,a),t=t.sibling;t!==null;)xd(t,i,a),t=t.sibling}function xc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&$r(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,i,a),t=t.sibling;t!==null;)xc(t,i,a),t=t.sibling}function h_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[bt]=t,i[kt]=a}catch(d){$e(t,t.return,d)}}var tr=!1,Ct=!1,Cd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function WS(t,i){if(t=t.containerInfo,$d=Yc,t=wg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,F=0,X=0,ee=t,G=null;t:for(;;){for(var $;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),($=ee.firstChild)!==null;)G=ee,ee=$;for(;;){if(ee===t)break t;if(G===a&&++F===h&&(S=_),G===d&&++X===l&&(N=_),($=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=$}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},Yc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var me=Ws(a.type,h);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){$e(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function d_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),l&4&&bl(5,a);break;case 1:if(ir(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=Ws(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&o_(a),l&512&&Sl(a,a.return);break;case 3:if(ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wg(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&h_(a);case 26:case 5:ir(t,a),i===null&&l&4&&u_(a),l&512&&Sl(a,a.return);break;case 12:ir(t,a);break;case 31:ir(t,a),l&4&&g_(t,a);break;case 13:ir(t,a),l&4&&y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=a1.bind(null,a),R1(t,a))));break;case 22:if(l=a.memoizedState!==null||tr,!l){i=i!==null&&i.memoizedState!==null||Ct,h=tr;var d=Ct;tr=l,(Ct=i)&&!d?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),tr=h,Ct=d}break;case 30:break;default:ir(t,a)}}function m_(t){var i=t.alternate;i!==null&&(t.alternate=null,m_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ba(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function nr(t,i,a){for(a=a.child;a!==null;)p_(t,i,a),a=a.sibling}function p_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Ct||Ii(a,i),nr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ii(a,i);var l=ot,h=ln;$r(a.type)&&(ot=a.stateNode,ln=!1),nr(t,i,a),Ol(a.stateNode),ot=l,ln=h;break;case 5:Ct||Ii(a,i);case 6:if(l=ot,h=ln,ot=null,nr(t,i,a),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ot!==null&&(ln?(t=ot,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):ov(ot,a.stateNode));break;case 4:l=ot,h=ln,ot=a.stateNode.containerInfo,ln=!0,nr(t,i,a),ot=l,ln=h;break;case 0:case 11:case 14:case 15:qr(2,a,i),Ct||qr(4,a,i),nr(t,i,a);break;case 1:Ct||(Ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),nr(t,i,a);break;case 21:nr(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,nr(t,i,a),Ct=l;break;default:nr(t,i,a)}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){$e(i,i.return,a)}}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){$e(i,i.return,a)}}function ZS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f_),i;default:throw Error(s(435,t.tag))}}function Cc(t,i){var a=ZS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=o1.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if($r(S.type)){ot=S.stateNode,ln=!1;break e}break;case 5:ot=S.stateNode,ln=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(ot===null)throw Error(s(160));p_(d,_,h),ot=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,t),i=i.sibling}var ti=null;function __(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(qr(3,t,t.return),bl(3,t),qr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[bt]=t,St(d),l=d;break e;case"link":var _=_v("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=_v("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,St(d),l=d}t.stateNode=l}else vv(h,t.type,t.stateNode);else t.stateNode=yv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(h,t.type,t.stateNode):yv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Ct||a===null||Ii(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(me){$e(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){$e(t,t.return,me)}}break;case 3:if(Fc=null,h=ti,ti=qc(i.containerInfo),un(i,t),ti=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(i.containerInfo)}catch(me){$e(t,t.return,me)}Cd&&(Cd=!1,v_(t));break;case 4:l=ti,ti=qc(t.stateNode.containerInfo),un(i,t),cn(t),ti=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Nc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=tr,X=Ct;if(tr=F||h,Ct=X||N,un(i,t),Ct=X,tr=F,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||tr||Ct||Zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(me){$e(N,N.return,me)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(me){$e(N,N.return,me)}}}else if(i.tag===18){if(a===null){N=i;try{var $=N.stateNode;h?lv($,!0):lv(N.stateNode,!1)}catch(me){$e(N,N.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Cc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(t);xc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var S=Rd(t);xc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Rd(t);xd(t,F,N);break;default:throw Error(s(161))}}catch(X){$e(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function v_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function ir(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(t,i.alternate,i),i=i.sibling}function Zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),Zs(i);break;case 1:Ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),Zs(i);break;case 27:Ol(i.stateNode);case 26:case 5:Ii(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}t=t.sibling}}function rr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:rr(h,d,a),bl(4,d);break;case 1:if(rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){$e(l,l.return,F)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Xg(N[h],S)}catch(F){$e(l,l.return,F)}}a&&_&64&&o_(d),Sl(d,d.return);break;case 27:h_(d);case 26:case 5:rr(h,d,a),a&&l===null&&_&4&&u_(d),Sl(d,d.return);break;case 12:rr(h,d,a);break;case 31:rr(h,d,a),a&&_&4&&g_(h,d);break;case 13:rr(h,d,a),a&&_&4&&y_(h,d);break;case 22:d.memoizedState===null&&rr(h,d,a),Sl(d,d.return);break;case 30:break;default:rr(h,d,a)}i=i.sibling}}function Id(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Nd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(t,i,a,l),i=i.sibling}function E_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),h&2048&&bl(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(h&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(i,i.return,N)}}else ni(t,i,a,l);break;case 31:ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):wl(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,$a(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Id(_,i);break;case 24:ni(t,i,a,l),h&2048&&Nd(i.alternate,i);break;default:ni(t,i,a,l)}}function $a(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,F=_.flags;switch(_.tag){case 0:case 11:case 15:$a(d,_,S,N,h),bl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?$a(d,_,S,N,h):wl(d,_):(X._visibility|=2,$a(d,_,S,N,h)),h&&F&2048&&Id(_.alternate,_);break;case 24:$a(d,_,S,N,h),h&&F&2048&&Nd(_.alternate,_);break;default:$a(d,_,S,N,h)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&Id(l.alternate,l);break;case 24:wl(a,l),h&2048&&Nd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Al=8192;function Xa(t,i,a){if(t.subtreeFlags&Al)for(t=t.child;t!==null;)T_(t,i,a),t=t.sibling}function T_(t,i,a){switch(t.tag){case 26:Xa(t,i,a),t.flags&Al&&t.memoizedState!==null&&j1(a,ti,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,i,a);break;case 3:case 4:var l=ti;ti=qc(t.stateNode.containerInfo),Xa(t,i,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Al,Al=16777216,Xa(t,i,a),Al=l):Xa(t,i,a));break;default:Xa(t,i,a)}}function b_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,w_(l,t)}b_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&qr(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ic(t)):Rl(t);break;default:Rl(t)}}function Ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];jt=l,w_(l,t)}b_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:qr(8,i,i.return),Ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ic(i));break;default:Ic(i)}t=t.sibling}}function w_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:qr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(m_(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var JS={getCacheForType:function(t){var i=Ht(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(At).controller.signal}},e1=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ie=null,De=0,Ye=0,wn=null,Hr=!1,Wa=!1,Dd=!1,sr=0,ft=0,Fr=0,Js=0,Od=0,An=0,Za=0,xl=null,hn=null,Md=!1,Nc=0,A_=0,Dc=1/0,Oc=null,Gr=null,Vt=0,Qr=null,Ja=null,ar=0,Vd=0,Pd=null,R_=null,Cl=0,kd=null;function Rn(){return(Ge&2)!==0&&De!==0?De&-De:Q.T!==null?qd():Mu()}function x_(){if(An===0)if((De&536870912)===0||Le){var t=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),An=t}else An=536870912;return t=bn.current,t!==null&&(t.flags|=32),An}function fn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Kr(t,De,An,!1)),xs(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Js|=a),ft===4&&Kr(t,De,An,!1)),Ni(t))}function C_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Qn(t,i),h=l?i1(t,i):jd(t,i,!0),d=l;do{if(h===0){Wa&&!l&&Kr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!t1(a)){h=jd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=xl;var N=S.current.memoizedState.isDehydrated;if(N&&(eo(S,_).flags|=256),_=jd(S,_,!1),_!==2){if(Dd&&!N){S.errorRecoveryDisabledLanes|=d,Js|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),Kr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Kr(l,i,An,!Hr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Nc+300-en(),10<h)){if(Kr(l,i,An,!Hr),fi(l,0,!0)!==0)break e;ar=i,l.timeoutHandle=sv(I_.bind(null,l,a,hn,Oc,Md,i,An,Js,Za,Hr,d,"Throttled",-0,0),h);break e}I_(l,a,hn,Oc,Md,i,An,Js,Za,Hr,d,null,-0,0)}}break}while(!0);Ni(t)}function I_(t,i,a,l,h,d,_,S,N,F,X,ee,G,$){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},T_(i,d,ee);var me=(d&62914560)===d?Nc-en():(d&4194048)===d?A_-en():0;if(me=U1(ee,me),me!==null){ar=d,t.cancelPendingCommit=me(L_.bind(null,t,i,d,a,l,h,_,S,N,X,ee,null,G,$)),Kr(t,d,_,!F);return}}L_(t,i,d,a,l,h,_,S,N)}function t1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Kr(t,i,a,l){i&=~Od,i&=~Js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Cs(t,a,i)}function Mc(){return(Ge&6)===0?(Il(0),!1):!0}function Ld(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,$i=Fs=null,Jf(t),Fa=null,hl=0,t=Ie;for(;t!==null;)a_(t.alternate,t),t=t.return;Ie=null}}function eo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,T1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ar=0,Ld(),et=t,Ie=a=Ki(t.current,null),De=i,Ye=0,wn=null,Hr=!1,Wa=Qn(t,i),Dd=!1,Za=An=Od=Js=Fr=ft=0,hn=xl=null,Md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return sr=i,ec(),a}function N_(t,i){Re=null,Q.H=vl,i===Ha||i===lc?(i=Qg(),Ye=3):i===Bf?(i=Qg(),Ye=4):Ye=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wn=i,Ie===null&&(ft=1,bc(t,Pn(i,t.current)))}function D_(){var t=bn.current;return t===null?!0:(De&4194048)===De?Un===null:(De&62914560)===De||(De&536870912)!==0?t===Un:!1}function O_(){var t=Q.H;return Q.H=vl,t===null?vl:t}function M_(){var t=Q.A;return Q.A=JS,t}function Vc(){ft=4,Hr||(De&4194048)!==De&&bn.current!==null||(Wa=!0),(Fr&134217727)===0&&(Js&134217727)===0||et===null||Kr(et,De,An,!1)}function jd(t,i,a){var l=Ge;Ge|=2;var h=O_(),d=M_();(et!==t||De!==i)&&(Oc=null,eo(t,i)),i=!1;var _=ft;e:do try{if(Ye!==0&&Ie!==null){var S=Ie,N=wn;switch(Ye){case 8:Ld(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var F=Ye;if(Ye=0,wn=null,to(t,S,N,F),a&&Wa){_=0;break e}break;default:F=Ye,Ye=0,wn=null,to(t,S,N,F)}}n1(),_=ft;break}catch(X){N_(t,X)}while(!0);return i&&t.shellSuspendCounter++,$i=Fs=null,Ge=l,Q.H=h,Q.A=d,Ie===null&&(et=null,De=0,ec()),_}function n1(){for(;Ie!==null;)V_(Ie)}function i1(t,i){var a=Ge;Ge|=2;var l=O_(),h=M_();et!==t||De!==i?(Oc=null,Dc=en()+500,eo(t,i)):Wa=Qn(t,i);e:do try{if(Ye!==0&&Ie!==null){i=Ie;var d=wn;t:switch(Ye){case 1:Ye=0,wn=null,to(t,i,d,1);break;case 2:case 9:if(Fg(d)){Ye=0,wn=null,P_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ni(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Fg(d)?(Ye=0,wn=null,P_(i)):(Ye=0,wn=null,to(t,i,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var S=Ie;if(_?Ev(_):S.stateNode.complete){Ye=0,wn=null;var N=S.sibling;if(N!==null)Ie=N;else{var F=S.return;F!==null?(Ie=F,Pc(F)):Ie=null}break t}}Ye=0,wn=null,to(t,i,d,5);break;case 6:Ye=0,wn=null,to(t,i,d,6);break;case 8:Ld(),ft=6;break e;default:throw Error(s(462))}}r1();break}catch(X){N_(t,X)}while(!0);return $i=Fs=null,Q.H=l,Q.A=h,Ge=a,Ie!==null?0:(et=null,De=0,ec(),ft)}function r1(){for(;Ie!==null&&!mf();)V_(Ie)}function V_(t){var i=r_(t.alternate,t,sr);t.memoizedProps=t.pendingProps,i===null?Pc(t):Ie=i}function P_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Jf(i);default:a_(a,i),i=Ie=Mg(i,sr),i=r_(a,i,sr)}t.memoizedProps=t.pendingProps,i===null?Pc(t):Ie=i}function to(t,i,a,l){$i=Fs=null,Jf(i),Fa=null,hl=0;var h=i.return;try{if(QS(t,h,i,a,De)){ft=1,bc(t,Pn(a,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;ft=1,bc(t,Pn(a,t.current)),Ie=null;return}i.flags&32768?(Le||l===1?t=!0:Wa||(De&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),k_(i,t)):Pc(i)}function Pc(t){var i=t;do{if((i.flags&32768)!==0){k_(i,Hr);return}t=i.return;var a=$S(i.alternate,i,sr);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);ft===0&&(ft=5)}function k_(t,i){do{var a=XS(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);ft=6,Ie=null}function L_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do kc();while(Vt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Rf,yf(t,a,d,_,S,N),t===et&&(Ie=et=null,De=0),Ja=i,Qr=t,ar=a,Vd=d,Pd=h,R_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,l1(Sr,function(){return q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ue.p,ue.p=2,_=Ge,Ge|=4;try{WS(t,i,a)}finally{Ge=_,ue.p=h,Q.T=l}}Vt=1,j_(),U_(),z_()}}function j_(){if(Vt===1){Vt=0;var t=Qr,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var h=Ge;Ge|=4;try{__(i,t);var d=Xd,_=wg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Sg(S.ownerDocument.documentElement,S)){if(N!==null&&Tf(S)){var F=N.start,X=N.end;if(X===void 0&&(X=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var $=G.getSelection(),me=S.textContent.length,ve=Math.min(N.start,me),Je=N.end===void 0?ve:Math.min(N.end,me);!$.extend&&ve>Je&&(_=Je,Je=ve,ve=_);var j=bg(S,ve),V=bg(S,Je);if(j&&V&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var H=ee.createRange();H.setStart(j.node,j.offset),$.removeAllRanges(),ve>Je?($.addRange(H),$.extend(V.node,V.offset)):(H.setEnd(V.node,V.offset),$.addRange(H))}}}}for(ee=[],$=S;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var W=ee[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Yc=!!$d,Xd=$d=null}finally{Ge=h,ue.p=l,Q.T=a}}t.current=i,Vt=2}}function U_(){if(Vt===2){Vt=0;var t=Qr,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ue.p;ue.p=2;var h=Ge;Ge|=4;try{d_(t,i.alternate,i)}finally{Ge=h,ue.p=l,Q.T=a}}Vt=3}}function z_(){if(Vt===4||Vt===3){Vt=0,Ru();var t=Qr,i=Ja,a=ar,l=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ja=Qr=null,B_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Gr=null),Hi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=ue.p,ue.p=2,Q.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Q.T=i,ue.p=h}}(ar&3)!==0&&kc(),Ni(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kd?Cl++:(Cl=0,kd=t):Cl=0,Il(0)}}function B_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function kc(){return j_(),U_(),z_(),q_()}function q_(){if(Vt!==5)return!1;var t=Qr,i=Vd;Vd=0;var a=Hi(ar),l=Q.T,h=ue.p;try{ue.p=32>a?32:a,Q.T=null,a=Pd,Pd=null;var d=Qr,_=ar;if(Vt=0,Ja=Qr=null,ar=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,S_(d.current),E_(d,d.current,_,a),Ge=S,Il(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{ue.p=h,Q.T=l,B_(t,i)}}function H_(t,i,a){i=Pn(a,i),i=md(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(xs(t,2),Ni(t))}function $e(t,i,a){if(t.tag===3)H_(t,t,a);else for(;i!==null;){if(i.tag===3){H_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=Pn(a,t),a=Fy(2),l=Ur(i,a,2),l!==null&&(Gy(a,l,i,t),xs(l,2),Ni(l));break}}i=i.return}}function Ud(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new e1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Dd=!0,h.add(a),t=s1.bind(null,t,i,a),i.then(t,t))}function s1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>en()-Nc?(Ge&2)===0&&eo(t,0):Od|=a,Za===De&&(Za=0)),Ni(t)}function F_(t,i){i===0&&(i=Ou()),t=Bs(t,i),t!==null&&(xs(t,i),Ni(t))}function a1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(t,a)}function o1(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(t,a)}function l1(t,i){return Mt(t,i)}var Lc=null,no=null,zd=!1,jc=!1,Bd=!1,Yr=0;function Ni(t){t!==no&&t.next===null&&(no===null?Lc=no=t:no=no.next=t),jc=!0,zd||(zd=!0,c1())}function Il(t,i){if(!Bd&&jc){Bd=!0;do for(var a=!1,l=Lc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=De,d=fi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);Bd=!1}}function u1(){G_()}function G_(){jc=zd=!1;var t=0;Yr!==0&&E1()&&(t=Yr);for(var i=en(),a=null,l=Lc;l!==null;){var h=l.next,d=Q_(l,i);d===0?(l.next=null,a===null?Lc=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(jc=!0)),l=h}Vt!==0&&Vt!==5||Il(t),Yr!==0&&(Yr=0)}function Q_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=gf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=De,a=fi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&br(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&br(l),Hi(a)){case 2:case 8:a=Uo;break;case 32:a=Sr;break;case 268435456:a=xu;break;default:a=Sr}return l=K_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&br(l),t.callbackPriority=2,t.callbackNode=null,2}function K_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kc()&&t.callbackNode!==a)return null;var l=De;return l=fi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C_(t,l,i),Q_(t,en()),t.callbackNode!=null&&t.callbackNode===a?K_.bind(null,t):null)}function Y_(t,i){if(kc())return null;C_(t,i,!0)}function c1(){b1(function(){(Ge&6)!==0?Mt(jo,u1):G_()})}function qd(){if(Yr===0){var t=Ba;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Yr=t}return Yr}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function X_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function h1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=$_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?$_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Si("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Yr!==0){var N=_?X_(h,_):new FormData(h);ld(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?X_(h,_):new FormData(h),ld(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Hd=0;Hd<Af.length;Hd++){var Fd=Af[Hd],f1=Fd.toLowerCase(),d1=Fd[0].toUpperCase()+Fd.slice(1);ei(f1,"on"+d1)}ei(xg,"onAnimationEnd"),ei(Cg,"onAnimationIteration"),ei(Ig,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(IS,"onTransitionRun"),ei(NS,"onTransitionStart"),ei(DS,"onTransitionCancel"),ei(Ng,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function W_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,F=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=F;try{d(h)}catch(X){Ju(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,F=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=F;try{d(h)}catch(X){Ju(X)}h.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[Ta];a===void 0&&(a=i[Ta]=new Set);var l=t+"__bubble";a.has(l)||(Z_(i,t,2,!1),a.add(l))}function Gd(t,i,a){var l=0;i&&(l|=4),Z_(a,t,l,i)}var Uc="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Uc]){t[Uc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(m1.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Uc]||(i[Uc]=!0,Gd("selectionchange",!1,i))}}function Z_(t,i,a,l){switch(xv(i)){case 2:var h=q1;break;case 8:h=H1;break;default:h=om}a=h.bind(null,i,a,t),h=void 0,!Ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Kd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=gi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Ir(function(){var F=d,X=Dn(a),ee=[];e:{var G=Dg.get(t);if(G!==void 0){var $=Si,me=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":$=Xu;break;case"focusin":me="focus",$=Ls;break;case"focusout":me="blur",$=Ls;break;case"beforeblur":case"afterblur":$=Ls;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case xg:case Cg:case Ig:$=Hu;break;case Ng:$=w;break;case"scroll":case"scrollend":$=el;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Qi;break;case"toggle":case"beforetoggle":$=Ae}var ve=(i&4)!==0,Je=!ve&&(t==="scroll"||t==="scrollend"),j=ve?G!==null?G+"Capture":null:G;ve=[];for(var V=F,H;V!==null;){var W=V;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||j===null||(W=Xn(V,j),W!=null&&ve.push(Dl(V,W,H))),Je)break;V=V.return}0<ve.length&&(G=new $(G,me,null,a,X),ee.push({event:G,listeners:ve}))}}if((i&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",G&&a!==Wo&&(me=a.relatedTarget||a.fromElement)&&(gi(me)||me[mi]))break e;if(($||G)&&(G=X.window===X?X:(G=X.ownerDocument)?G.defaultView||G.parentWindow:window,$?(me=a.relatedTarget||a.toElement,$=F,me=me?gi(me):null,me!==null&&(Je=u(me),ve=me.tag,me!==Je||ve!==5&&ve!==27&&ve!==6)&&(me=null)):($=null,me=F),$!==me)){if(ve=tl,W="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Qi,W="onPointerLeave",j="onPointerEnter",V="pointer"),Je=$==null?G:_n($),H=me==null?G:_n(me),G=new ve(W,V+"leave",$,a,X),G.target=Je,G.relatedTarget=H,W=null,gi(X)===F&&(ve=new ve(j,V+"enter",me,a,X),ve.target=H,ve.relatedTarget=Je,W=ve),Je=W,$&&me)t:{for(ve=p1,j=$,V=me,H=0,W=j;W;W=ve(W))H++;W=0;for(var ye=V;ye;ye=ve(ye))W++;for(;0<H-W;)j=ve(j),H--;for(;0<W-H;)V=ve(V),W--;for(;H--;){if(j===V||V!==null&&j===V.alternate){ve=j;break t}j=ve(j),V=ve(V)}ve=null}else ve=null;$!==null&&J_(ee,G,$,ve,!1),me!==null&&Je!==null&&J_(ee,Je,me,ve,!0)}}e:{if(G=F?_n(F):window,$=G.nodeName&&G.nodeName.toLowerCase(),$==="select"||$==="input"&&G.type==="file")var Be=gg;else if(mg(G))if(yg)Be=RS;else{Be=wS;var pe=SS}else $=G.nodeName,!$||$.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&Aa(F.elementType)&&(Be=gg):Be=AS;if(Be&&(Be=Be(t,F))){pg(ee,Be,a,X);break e}pe&&pe(t,G,F),t==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&Yo(G,"number",G.value)}switch(pe=F?_n(F):window,t){case"focusin":(mg(pe)||pe.contentEditable==="true")&&(Ma=pe,bf=F,al=null);break;case"focusout":al=bf=Ma=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Ag(ee,a,X);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":Ag(ee,a,X)}var Ce;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Oa?js(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ri&&a.locale!=="ko"&&(Oa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Oa&&(Ce=Jo()):(bi=X,Zo="value"in bi?bi.value:bi.textContent,Oa=!0)),pe=zc(F,Oe),0<pe.length&&(Oe=new Ai(Oe,t,null,a,X),ee.push({event:Oe,listeners:pe}),Ce?Oe.data=Ce:(Ce=Da(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Mn?vS(t,a):ES(t,a))&&(Oe=zc(F,"onBeforeInput"),0<Oe.length&&(pe=new Ai("onBeforeInput","beforeinput",null,a,X),ee.push({event:pe,listeners:Oe}),pe.data=Ce)),h1(ee,t,F,a,X)}W_(ee,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function zc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(Dl(t,h,d)),h=Xn(t,i),h!=null&&l.push(Dl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function p1(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,F=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||F===null||(N=F,h?(F=Xn(a,d),F!=null&&_.unshift(Dl(a,F,N))):h||(F=Xn(a,d),F!=null&&_.push(Dl(a,F,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var g1=/\r\n?/g,y1=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(g1,`
`).replace(y1,"")}function tv(t,i){return i=ev(i),ev(t)===i}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Xo(t,l,d);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Sa(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zu.get(a)||a,Sa(t,a,l))}}function Yd(t,i,a,l,h,d){switch(a){case"style":Xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Sa(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=h=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":F=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ze(t,i,l,X,a,null)}}Lu(t,d,S,N,F,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Ar(t,!!l,i,!1):a!=null&&Ar(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,_,S,a,null)}Rr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ne(Nl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,F,l,a,null)}return;default:if(Aa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Yd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,i,S,l,a,null))}function _1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,F=null,X=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty($)||Ze(t,i,$,null,l,ee)}}for(var G in l){var $=l[G];if(ee=a[G],l.hasOwnProperty(G)&&($!=null||ee!=null))switch(G){case"type":d=$;break;case"name":h=$;break;case"checked":F=$;break;case"defaultChecked":X=$;break;case"value":_=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ee&&Ze(t,i,G,$,l,ee)}}wa(t,_,S,N,F,X,d,h);return;case"select":$=_=S=G=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,h,d,l,N)}i=S,a=_,l=$,G!=null?Ar(t,!!a,G,!1):!!l!=!!a&&(i!=null?Ar(t,!!a,i,!0):Ar(t,!!a,a?[]:"",!1));return;case"textarea":$=G=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":G=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,l,d)}ju(t,G,$);return;case"option":for(var me in a)if(G=a[me],a.hasOwnProperty(me)&&G!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Ze(t,i,me,null,l,G)}for(N in l)if(G=l[N],$=a[N],l.hasOwnProperty(N)&&G!==$&&(G!=null||$!=null))switch(N){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(t,i,N,G,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)G=a[ve],a.hasOwnProperty(ve)&&G!=null&&!l.hasOwnProperty(ve)&&Ze(t,i,ve,null,l,G);for(F in l)if(G=l[F],$=a[F],l.hasOwnProperty(F)&&G!==$&&(G!=null||$!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:Ze(t,i,F,G,l,$)}return;default:if(Aa(i)){for(var Je in a)G=a[Je],a.hasOwnProperty(Je)&&G!==void 0&&!l.hasOwnProperty(Je)&&Yd(t,i,Je,void 0,l,G);for(X in l)G=l[X],$=a[X],!l.hasOwnProperty(X)||G===$||G===void 0&&$===void 0||Yd(t,i,X,G,l,$);return}}for(var j in a)G=a[j],a.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&Ze(t,i,j,null,l,G);for(ee in l)G=l[ee],$=a[ee],!l.hasOwnProperty(ee)||G===$||G==null&&$==null||Ze(t,i,ee,G,l,$)}function nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function v1(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&nv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],F=N.startTime;if(F>S)break;var X=N.transferSize,ee=N.initiatorType;X&&nv(ee)&&(N=N.responseEnd,_+=X*(N<S?1:(S-F)/(N-F)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var $d=null,Xd=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zd=null;function E1(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,T1=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(S1)}:sv;function S1(t){setTimeout(function(){throw t})}function $r(t){return t==="head"}function ov(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ao(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[pi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ol(t.ownerDocument.body);a=h}while(a);ao(i)}function lv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Jd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jd(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function w1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function A1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function uv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function R1(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nm=null;function cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fv(t,i,a){switch(i=Bc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ba(t)}var Bn=new Map,dv=new Set;function qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=ue.d;ue.d={f:x1,r:C1,D:I1,C:N1,L:D1,m:O1,X:V1,S:M1,M:P1};function x1(){var t=or.f(),i=Mc();return t||i}function C1(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?Ny(i):or.r(t)}var io=typeof document>"u"?null:document;function mv(t,i,a){var l=io;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function I1(t){or.D(t),mv("dns-prefetch",t,null)}function N1(t,i){or.C(t,i),mv("preconnect",t,i)}function D1(t,i,a){or.L(t,i,a);var l=io;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=ro(t);break;case"script":d=so(t)}Bn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function O1(t,i){or.m(t,i);var a=io;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!Bn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Gt(l,"link",t),St(l),a.head.appendChild(l)}}}function M1(t,i,a){or.S(t,i,a);var l=io;if(l&&t){var h=yi(l).hoistableStyles,d=ro(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ml(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&im(t,a);var N=_=l.createElement("link");St(N),Gt(N,"link",t),N._p=new Promise(function(F,X){N.onload=F,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function V1(t,i){or.X(t,i);var a=io;if(a&&t){var l=yi(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=b({src:t,async:!0},i),(i=Bn.get(h))&&rm(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function P1(t,i){or.M(t,i);var a=io;if(a&&t){var l=yi(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&rm(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pv(t,i,a,l){var h=(h=xe.current)?qc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=yi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=yi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Ml(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||k1(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=yi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+an(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function k1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),St(i),t.head.appendChild(i))}function so(t){return'[src="'+an(t)+'"]'}function Vl(t){return"script[async]"+t}function yv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Gt(l,"style",h),Hc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ro(a.href);var d=t.querySelector(Ml(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=gv(a),(h=Bn.get(h))&&im(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Hc(d,a.precedence,t),i.instance=d;case"script":return d=so(a.src),(h=t.querySelector(Vl(d)))?(i.instance=h,St(h),h):(l=a,(h=Bn.get(d))&&(l=b({},a),rm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,t));return i.instance}function Hc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fc=null;function _v(t,i,a){if(Fc===null){var l=new Map,h=Fc=new Map;h.set(a,l)}else h=Fc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[pi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function vv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function L1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function j1(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ro(l.href),d=i.querySelector(Ml(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Gc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=gv(l),(h=Bn.get(h))&&im(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Gc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function U1(t,i){return t.stylesheets&&t.count===0&&Kc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*v1());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Kc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function Kc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,i.forEach(z1,t),Qc=null,Gc.call(t))}function z1(t,i){if(!(i.state.loading&4)){var a=Qc.get(t);if(a)var l=a.get(null);else{a=new Map,Qc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Gc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function B1(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Tv(t,i,a,l,h,d,_,S,N,F,X,ee){return t=new B1(t,i,a,_,N,F,X,ee,S),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},qf(d),t}function bv(t){return t?(t=ka,t):ka}function Sv(t,i,a,l,h,d){h=bv(h),l.context===null?l.context=h:l.pendingContext=h,l=jr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(fn(a,t,i),dl(a,t,i))}function wv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function am(t,i){wv(t,i),(t=t.alternate)&&wv(t,i)}function Av(t){if(t.tag===13||t.tag===31){var i=Bs(t,67108864);i!==null&&fn(i,t,67108864),am(t,67108864)}}function Rv(t){if(t.tag===13||t.tag===31){var i=Rn();i=Is(i);var a=Bs(t,i);a!==null&&fn(a,t,i),am(t,i)}}var Yc=!0;function q1(t,i,a,l){var h=Q.T;Q.T=null;var d=ue.p;try{ue.p=2,om(t,i,a,l)}finally{ue.p=d,Q.T=h}}function H1(t,i,a,l){var h=Q.T;Q.T=null;var d=ue.p;try{ue.p=8,om(t,i,a,l)}finally{ue.p=d,Q.T=h}}function om(t,i,a,l){if(Yc){var h=lm(l);if(h===null)Kd(t,i,l,$c,a),Cv(t,l);else if(G1(h,t,i,a,l))l.stopPropagation();else if(Cv(t,l),i&4&&-1<F1.indexOf(t)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-pt(_);S.entanglements[1]|=N,_&=~N}Ni(d),(Ge&6)===0&&(Dc=en()+500,Il(0))}}break;case 31:case 13:S=Bs(d,2),S!==null&&fn(S,d,2),Mc(),am(d,2)}if(d=lm(l),d===null&&Kd(t,i,l,$c,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,i,l,null,a)}}function lm(t){return t=Dn(t),um(t)}var $c=null;function um(t){if($c=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return $c=t,null}function xv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(As()){case jo:return 2;case Uo:return 8;case Sr:case pf:return 32;case xu:return 268435456;default:return 32}default:return 32}}var cm=!1,Xr=null,Wr=null,Zr=null,kl=new Map,Ll=new Map,Jr=[],F1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function jl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&Av(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function G1(t,i,a,l,h){switch(i){case"focusin":return Xr=jl(Xr,t,i,a,l,h),!0;case"dragenter":return Wr=jl(Wr,t,i,a,l,h),!0;case"mouseover":return Zr=jl(Zr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,jl(kl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ll.set(d,jl(Ll.get(d)||null,t,i,a,l,h)),!0}return!1}function Iv(t){var i=gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Rv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return i=Nn(a),i!==null&&Av(i),t.blockedOn=a,!1;i.shift()}return!0}function Nv(t,i,a){Xc(t)&&a.delete(i)}function Q1(){cm=!1,Xr!==null&&Xc(Xr)&&(Xr=null),Wr!==null&&Xc(Wr)&&(Wr=null),Zr!==null&&Xc(Zr)&&(Zr=null),kl.forEach(Nv),Ll.forEach(Nv)}function Wc(t,i){t.blockedOn===i&&(t.blockedOn=null,cm||(cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Q1)))}var Zc=null;function Dv(t){Zc!==t&&(Zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zc===t&&(Zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(um(l||a)===null)continue;break}var d=Nn(a);d!==null&&(t.splice(i,3),i-=3,ld(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ao(t){function i(N){return Wc(N,t)}Xr!==null&&Wc(Xr,t),Wr!==null&&Wc(Wr,t),Zr!==null&&Wc(Zr,t),kl.forEach(i),Ll.forEach(i);for(var a=0;a<Jr.length;a++){var l=Jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&Jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||Dv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)S=_.formAction;else if(um(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Dv(a)}}}function Ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function hm(t){this._internalRoot=t}Jc.prototype.render=hm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();Sv(a,l,t,i,null,null)},Jc.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Sv(t.current,2,null,t,null,null),Mc(),i[mi]=null}};function Jc(t){this._internalRoot=t}Jc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,t),a===0&&Iv(t)}};var Mv=e.version;if(Mv!=="19.2.1")throw Error(s(527,Mv,"19.2.1"));ue.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var K1={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eh.isDisabled&&eh.supportsFiber)try{Gn=eh.inject(K1),zt=eh}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=zy,d=By,_=qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Tv(t,1,!1,null,null,a,l,null,h,d,_,Ov),t[mi]=i.current,Qd(t),new hm(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=zy,_=By,S=qy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Tv(t,1,!0,i,a??null,l,h,N,d,_,S,Ov),i.context=bv(null),a=i.current,l=Rn(),l=Is(l),h=jr(l),h.callback=null,Ur(a,h,l),a=l,i.current.lanes=a,xs(i,a),Ni(i),t[mi]=i.current,Qd(t),new Jc(i)},zl.version="19.2.1",zl}var Hv;function sw(){if(Hv)return mm.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=rw(),mm.exports}var aw=sw();var Fv="popstate";function ow(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=fa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Om("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return uw(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lw(){return Math.random().toString(36).substring(2,10)}function Gv(r,e){return{usr:r.state,key:r.key,idx:e}}function Om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:n,key:e&&e.key||s||lw()}}function eu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function uw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let U=T(),Z=U==null?null:U-g;g=U,p&&p({action:m,location:B.location,delta:Z})}function A(U,Z){m="PUSH";let ne=Om(B.location,U,Z);n&&n(ne,U),g=T()+1;let ie=Gv(ne,g),se=B.createHref(ne);try{f.pushState(ie,"",se)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(se)}u&&p&&p({action:m,location:B.location,delta:1})}function M(U,Z){m="REPLACE";let ne=Om(B.location,U,Z);n&&n(ne,U),g=T();let ie=Gv(ne,g),se=B.createHref(ne);f.replaceState(ie,"",se),u&&p&&p({action:m,location:B.location,delta:0})}function z(U){return cw(U)}let B={get action(){return m},get location(){return r(o,f)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,b),p=U,()=>{o.removeEventListener(Fv,b),p=null}},createHref(U){return e(o,U)},createURL:z,encodeLocation(U){let Z=z(U);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:A,replace:M,go(U){return f.go(U)}};return B}function cw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:eu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function IE(r,e,n="/"){return hw(r,e,n,!1)}function hw(r,e,n,s){let o=typeof e=="string"?fa(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let f=NE(r);fw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Sw(u);m=Tw(f[p],g,s)}return m}function NE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let T={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;lt(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=hr([s,T.relativePath]),A=n.concat(T);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),NE(f.children,e,A,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:vw(b,f.index),routesMeta:A})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of DE(f.path))u(f,m,!0,p)}),e}function DE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=DE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function fw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Ew(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var dw=/^:[\w-]+$/,mw=3,pw=2,gw=1,yw=10,_w=-2,Qv=r=>r==="*";function vw(r,e){let n=r.split("/"),s=n.length;return n.some(Qv)&&(s+=_w),e&&(s+=pw),n.filter(o=>!Qv(o)).reduce((o,u)=>o+(dw.test(u)?mw:u===""?gw:yw),s)}function Ew(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Tw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),A=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Th({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:hr([u,b.pathname]),pathnameBase:Cw(hr([u,b.pathnameBase])),route:A}),b.pathnameBase!=="/"&&(u=hr([u,b.pathnameBase]))}return f}function Th(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=bw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},A)=>{if(T==="*"){let z=m[A]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const M=m[A];return b&&!M?g[T]=void 0:g[T]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function bw(r,e=!1,n=!0){gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Sw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aw=r=>ww.test(r);function Rw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fa(r):r,u;if(n)if(Aw(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Kv(n.substring(1),"/"):u=Kv(n,e)}else u=e;return{pathname:u,search:Iw(s),hash:Nw(o)}}function Kv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function up(r){let e=xw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cp(r,e,n,s=!1){let o;typeof r=="string"?o=fa(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),b-=1;o.pathname=A.join("/")}m=b>=0?e[b]:"/"}let p=Rw(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var hr=r=>r.join("/").replace(/\/\/+/g,"/"),Cw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Iw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Nw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Dw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Ow(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OE=["POST","PUT","PATCH","DELETE"];new Set(OE);var Mw=["GET",...OE];new Set(Mw);var wo=O.createContext(null);wo.displayName="DataRouter";var Hh=O.createContext(null);Hh.displayName="DataRouterState";O.createContext(!1);var ME=O.createContext({isTransitioning:!1});ME.displayName="ViewTransition";var Vw=O.createContext(new Map);Vw.displayName="Fetchers";var Pw=O.createContext(null);Pw.displayName="Await";var Fn=O.createContext(null);Fn.displayName="Navigation";var hu=O.createContext(null);hu.displayName="Location";var li=O.createContext({outlet:null,matches:[],isDataRoute:!1});li.displayName="Route";var hp=O.createContext(null);hp.displayName="RouteError";function kw(r,{relative:e}={}){lt(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=O.useContext(Fn),{hash:o,pathname:u,search:f}=fu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:hr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return O.useContext(hu)!=null}function _r(){return lt(Ao(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(hu).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function PE(r){O.useContext(Fn).static||O.useLayoutEffect(r)}function vr(){let{isDataRoute:r}=O.useContext(li);return r?Xw():Lw()}function Lw(){lt(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=O.useContext(wo),{basename:e,navigator:n}=O.useContext(Fn),{matches:s}=O.useContext(li),{pathname:o}=_r(),u=JSON.stringify(up(s)),f=O.useRef(!1);return PE(()=>{f.current=!0}),O.useCallback((p,g={})=>{if(gn(f.current,VE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=cp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:hr([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}O.createContext(null);function jw(){let{matches:r}=O.useContext(li),e=r[r.length-1];return e?e.params:{}}function fu(r,{relative:e}={}){let{matches:n}=O.useContext(li),{pathname:s}=_r(),o=JSON.stringify(up(n));return O.useMemo(()=>cp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Uw(r,e){return kE(r,e)}function kE(r,e,n,s,o){lt(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=O.useContext(Fn),{matches:f}=O.useContext(li),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let ne=b&&b.path||"";LE(g,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=_r(),M;if(e){let ne=typeof e=="string"?fa(e):e;lt(T==="/"||ne.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),M=ne}else M=A;let z=M.pathname||"/",B=z;if(T!=="/"){let ne=T.replace(/^\//,"").split("/");B="/"+z.replace(/^\//,"").split("/").slice(ne.length).join("/")}let U=IE(r,{pathname:B});gn(b||U!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),gn(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=Fw(U&&U.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:hr([T,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?T:hr([T,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&Z?O.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Z):Z}function zw(){let r=$w(),e=Dw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:u},"ErrorBoundary")," or"," ",O.createElement("code",{style:u},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:o},n):null,f)}var Bw=O.createElement(zw,null),qw=class extends O.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?O.createElement(li.Provider,{value:this.props.routeContext},O.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hw({routeContext:r,match:e,children:n}){let s=O.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(li.Provider,{value:r},n)}function Fw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let T=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);lt(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,p=-1;if(n)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=T),b.route.id){let{loaderData:A,errors:M}=n,z=b.route.loader&&!A.hasOwnProperty(b.route.id)&&(!M||M[b.route.id]===void 0);if(b.route.lazy||z){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Ow(n.matches),errorInfo:b})}:void 0;return u.reduceRight((T,b,A)=>{let M,z=!1,B=null,U=null;n&&(M=f&&b.route.id?f[b.route.id]:void 0,B=b.route.errorElement||Bw,m&&(p<0&&A===0?(LE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),z=!0,U=null):p===A&&(z=!0,U=b.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,A+1)),ne=()=>{let ie;return M?ie=B:z?ie=U:b.route.Component?ie=O.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=T,O.createElement(Hw,{match:b,routeContext:{outlet:T,matches:Z,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||A===0)?O.createElement(qw,{location:n.location,revalidation:n.revalidation,component:B,error:M,children:ne(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):ne()},null)}function fp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gw(r){let e=O.useContext(wo);return lt(e,fp(r)),e}function Qw(r){let e=O.useContext(Hh);return lt(e,fp(r)),e}function Kw(r){let e=O.useContext(li);return lt(e,fp(r)),e}function dp(r){let e=Kw(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Yw(){return dp("useRouteId")}function $w(){let r=O.useContext(hp),e=Qw("useRouteError"),n=dp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Xw(){let{router:r}=Gw("useNavigate"),e=dp("useNavigate"),n=O.useRef(!1);return PE(()=>{n.current=!0}),O.useCallback(async(o,u={})=>{gn(n.current,VE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Yv={};function LE(r,e,n){!e&&!Yv[r]&&(Yv[r]=!0,gn(!1,n))}O.memo(Ww);function Ww({routes:r,future:e,state:n,unstable_onError:s}){return kE(r,void 0,n,s,e)}function Zw({to:r,replace:e,state:n,relative:s}){lt(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=O.useContext(Fn);gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=O.useContext(li),{pathname:f}=_r(),m=vr(),p=cp(r,up(u),f,s==="path"),g=JSON.stringify(p);return O.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function qn(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=fa(n));let{pathname:g="/",search:T="",hash:b="",state:A=null,key:M="default"}=n,z=O.useMemo(()=>{let B=dr(g,m);return B==null?null:{location:{pathname:B,search:T,hash:b,state:A,key:M},navigationType:s}},[m,g,T,b,A,M,s]);return gn(z!=null,`<Router basename="${m}"> is not able to match the URL "${g}${T}${b}" because it does not start with the basename, so the <Router> won't render anything.`),z==null?null:O.createElement(Fn.Provider,{value:p},O.createElement(hu.Provider,{children:e,value:z}))}function eA({children:r,location:e}){return Uw(Mm(r),e)}function Mm(r,e=[]){let n=[];return O.Children.forEach(r,(s,o)=>{if(!O.isValidElement(s))return;let u=[...e,o];if(s.type===O.Fragment){n.push.apply(n,Mm(s.props.children,u));return}lt(s.type===qn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Mm(s.props.children,u)),n.push(f)}),n}var lh="get",uh="application/x-www-form-urlencoded";function Fh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function tA(r){return Fh(r)&&r.tagName.toLowerCase()==="button"}function nA(r){return Fh(r)&&r.tagName.toLowerCase()==="form"}function iA(r){return Fh(r)&&r.tagName.toLowerCase()==="input"}function rA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function sA(r,e){return r.button===0&&(!e||e==="_self")&&!rA(r)}function Vm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function aA(r,e){let n=Vm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var th=null;function oA(){if(th===null)try{new FormData(document.createElement("form"),0),th=!1}catch{th=!0}return th}var lA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!lA.has(r)?(gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uh}"`),null):r}function uA(r,e){let n,s,o,u,f;if(nA(r)){let m=r.getAttribute("action");s=m?dr(m,e):null,n=r.getAttribute("method")||lh,o=vm(r.getAttribute("enctype"))||uh,u=new FormData(r)}else if(tA(r)||iA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||lh,o=vm(r.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||uh,u=new FormData(m,r),!oA()){let{name:g,type:T,value:b}=r;if(T==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,b)}}else{if(Fh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,s=null,o=uh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function cA(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&dr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function hA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await hA(u,n);return f.links?f.links():[]}return[]}));return yA(s.flat(1).filter(fA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function mA(r,e,{includeHydrateFallback:n}={}){return pA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function pA(r){return[...new Set(r)]}function gA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function yA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(gA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jE(){let r=O.useContext(wo);return mp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function _A(){let r=O.useContext(Hh);return mp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pp=O.createContext(void 0);pp.displayName="FrameworkContext";function UE(){let r=O.useContext(pp);return mp(r,"You must render this element inside a <HydratedRouter> element"),r}function vA(r,e){let n=O.useContext(pp),[s,o]=O.useState(!1),[u,f]=O.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,A=O.useRef(null);O.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let B=Z=>{Z.forEach(ne=>{f(ne.isIntersecting)})},U=new IntersectionObserver(B,{threshold:.5});return A.current&&U.observe(A.current),()=>{U.disconnect()}}},[r]),O.useEffect(()=>{if(s){let B=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(B)}}},[s]);let M=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,A,{}]:[u,A,{onFocus:Bl(m,M),onBlur:Bl(p,z),onMouseEnter:Bl(g,M),onMouseLeave:Bl(T,z),onTouchStart:Bl(b,M)}]:[!1,A,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function EA({page:r,...e}){let{router:n}=jE(),s=O.useMemo(()=>IE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?O.createElement(bA,{page:r,matches:s,...e}):null}function TA(r){let{manifest:e,routeModules:n}=UE(),[s,o]=O.useState([]);return O.useEffect(()=>{let u=!1;return dA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function bA({page:r,matches:e,...n}){let s=_r(),{manifest:o,routeModules:u}=UE(),{basename:f}=jE(),{loaderData:m,matches:p}=_A(),g=O.useMemo(()=>$v(r,e,p,o,s,"data"),[r,e,p,o,s]),T=O.useMemo(()=>$v(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=O.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,B=!1;if(e.forEach(Z=>{let ne=o.routes[Z.route.id];!ne||!ne.hasLoader||(!g.some(ie=>ie.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||ne.hasClientLoader?B=!0:z.add(Z.route.id))}),z.size===0)return[];let U=cA(r,f,"data");return B&&z.size>0&&U.searchParams.set("_routes",e.filter(Z=>z.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[U.pathname+U.search]},[f,m,s,o,g,e,r,u]),A=O.useMemo(()=>mA(T,o),[T,o]),M=TA(T);return O.createElement(O.Fragment,null,b.map(z=>O.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),A.map(z=>O.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),M.map(({key:z,link:B})=>O.createElement("link",{key:z,nonce:n.nonce,...B})))}function SA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zE&&(window.__reactRouterVersion="7.10.1")}catch{}function wA({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=O.useRef();o.current==null&&(o.current=ow({window:s,v5Compat:!0}));let u=o.current,[f,m]=O.useState({action:u.action,location:u.location}),p=O.useCallback(g=>{n===!1?m(g):O.startTransition(()=>m(g))},[n]);return O.useLayoutEffect(()=>u.listen(p),[u,p]),O.createElement(Jw,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var BE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=O.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,...A},M){let{basename:z,unstable_useTransitions:B}=O.useContext(Fn),U=typeof g=="string"&&BE.test(g),Z,ne=!1;if(typeof g=="string"&&U&&(Z=g,zE))try{let P=new URL(window.location.href),D=g.startsWith("//")?new URL(P.protocol+g):new URL(g),L=dr(D.pathname,z);D.origin===P.origin&&L!=null?g=L+D.search+D.hash:ne=!0}catch{gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=kw(g,{relative:o}),[se,ae,ce]=vA(s,A),x=CA(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b,unstable_useTransitions:B});function R(P){e&&e(P),P.defaultPrevented||x(P)}let C=O.createElement("a",{...A,...ce,href:Z||ie,onClick:ne||u?e:R,ref:SA(M,ae),target:p,"data-discover":!U&&n==="render"?"true":void 0});return se&&!U?O.createElement(O.Fragment,null,C,O.createElement(EA,{page:ie})):C});rn.displayName="Link";var AA=O.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let b=fu(f,{relative:g.relative}),A=_r(),M=O.useContext(Hh),{navigator:z,basename:B}=O.useContext(Fn),U=M!=null&&VA(b)&&m===!0,Z=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,ne=A.pathname,ie=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,Z=Z.toLowerCase()),ie&&B&&(ie=dr(ie,B)||ie);const se=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ae=ne===Z||!o&&ne.startsWith(Z)&&ne.charAt(se)==="/",ce=ie!=null&&(ie===Z||!o&&ie.startsWith(Z)&&ie.charAt(Z.length)==="/"),x={isActive:ae,isPending:ce,isTransitioning:U},R=ae?e:void 0,C;typeof s=="function"?C=s(x):C=[s,ae?"active":null,ce?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(x):u;return O.createElement(rn,{...g,"aria-current":R,className:C,ref:T,style:P,to:f,viewTransition:m},typeof p=="function"?p(x):p)});AA.displayName="NavLink";var RA=O.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=lh,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,...A},M)=>{let{unstable_useTransitions:z}=O.useContext(Fn),B=OA(),U=MA(m,{relative:g}),Z=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&BE.test(m),ie=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let ae=se.nativeEvent.submitter,ce=ae?.getAttribute("formmethod")||f,x=()=>B(ae||se.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b});z&&n!==!1?O.startTransition(()=>x()):x()};return O.createElement("form",{ref:M,method:Z,action:U,onSubmit:s?p:ie,...A,"data-discover":!ne&&r==="render"?"true":void 0})});RA.displayName="Form";function xA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(r){let e=O.useContext(wo);return lt(e,xA(r)),e}function CA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=vr(),g=_r(),T=fu(r,{relative:u});return O.useCallback(b=>{if(sA(b,e)){b.preventDefault();let A=n!==void 0?n:eu(g)===eu(T),M=()=>p(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?O.startTransition(()=>M()):M()}},[g,p,T,n,s,e,r,o,u,f,m])}function IA(r){gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=O.useRef(Vm(r)),n=O.useRef(!1),s=_r(),o=O.useMemo(()=>aA(s.search,n.current?null:e.current),[s.search]),u=vr(),f=O.useCallback((m,p)=>{const g=Vm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var NA=0,DA=()=>`__${String(++NA)}__`;function OA(){let{router:r}=qE("useSubmit"),{basename:e}=O.useContext(Fn),n=Yw(),s=r.fetch,o=r.navigate;return O.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:T,body:b}=uA(u,e);if(f.navigate===!1){let A=f.fetcherKey||DA();await s(A,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:T,body:b,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:T,body:b,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function MA(r,{relative:e}={}){let{basename:n}=O.useContext(Fn),s=O.useContext(li);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(r||".",{relative:e})},f=_r();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),eu(u)}function VA(r,{relative:e}={}){let n=O.useContext(ME);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qE("useViewTransitionState"),o=fu(r,{relative:e});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Th(o.pathname,f)!=null||Th(o.pathname,u)!=null}const PA=()=>{};var Xv={};const HE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},kA=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,M=g&63;p||(M=64,f||(A=64)),s.push(n[T],n[b],n[A],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(HE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):kA(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new LA;const A=u<<2|m>>4;if(s.push(A),g!==64){const M=m<<4&240|g>>2;if(s.push(M),b!==64){const z=g<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class LA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jA=function(r){const e=HE(r);return FE.encodeByteArray(e,!0)},bh=function(r){return jA(r).replace(/\./g,"")},GE=function(r){try{return FE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zA=()=>UA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof Xv>"u")return;const r=Xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&GE(r[1]);return e&&JSON.parse(e)},Gh=()=>{try{return PA()||zA()||BA()||qA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},QE=r=>Gh()?.emulatorHosts?.[r],HA=r=>{const e=QE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},KE=()=>Gh()?.config,YE=r=>Gh()?.[`_${r}`];class FA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function $E(r){return(await fetch(r,{credentials:"include"})).ok}function GA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[bh(JSON.stringify(n)),bh(JSON.stringify(f)),""].join(".")}const Yl={};function QA(){const r={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?r.emulator.push(e):r.prod.push(e);return r}function KA(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Wv=!1;function XE(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Yl[r]===e||Yl[r]||Wv)return;Yl[r]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=QA().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,M){A.setAttribute("width","24"),A.setAttribute("id",M),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Wv=!0,f()},A}function T(A,M){A.setAttribute("id",M),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function b(){const A=KA(s),M=n("text"),z=document.getElementById(M)||document.createElement("span"),B=n("learnmore"),U=document.getElementById(B)||document.createElement("a"),Z=n("preprendIcon"),ne=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ie=A.element;m(ie),T(U,B);const se=g();p(ne,Z),ie.append(ne,z,U,se),document.body.appendChild(ie)}u?(z.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,z.innerText="Preview backend running in this workspace."),z.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function YA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function $A(){const r=Gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ZA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JA(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function eR(){return!$A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tR(){try{return typeof indexedDB=="object"}catch{return!1}}function nR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const iR="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=iR,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?rR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Er(o,m,s)}}function rR(r,e){return r.replace(sR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const sR=/\{\$([^}]+)}/g;function aR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Zv(u)&&Zv(f)){if(!sa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Zv(r){return r!==null&&typeof r=="object"}function mu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function oR(r,e){const n=new lR(r,e);return n.subscribe.bind(n)}class lR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");uR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Em(){}function mt(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class cR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new FA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:hR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hR(r){return r===ta?void 0:r}function fR(r){return r.instantiationMode==="EAGER"}class dR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const mR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},pR=Me.INFO,gR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},yR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=gR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=pR,this._logHandler=yR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const _R=(r,e)=>e.some(n=>r instanceof n);let Jv,e0;function vR(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ER(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WE=new WeakMap,Pm=new WeakMap,ZE=new WeakMap,Tm=new WeakMap,yp=new WeakMap;function TR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(os(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&WE.set(n,r)}).catch(()=>{}),yp.set(e,r),e}function bR(r){if(Pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Pm.set(r,e)}let km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||ZE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return os(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SR(r){km=r(km)}function wR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bm(this),e,...n);return ZE.set(s,e.sort?e.sort():[e]),os(s)}:ER().includes(r)?function(...e){return r.apply(bm(this),e),os(WE.get(this))}:function(...e){return os(r.apply(bm(this),e))}}function AR(r){return typeof r=="function"?wR(r):(r instanceof IDBTransaction&&bR(r),_R(r,vR())?new Proxy(r,km):r)}function os(r){if(r instanceof IDBRequest)return TR(r);if(Tm.has(r))return Tm.get(r);const e=AR(r);return e!==r&&(Tm.set(r,e),yp.set(e,r)),e}const bm=r=>yp.get(r);function RR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=os(f);return s&&f.addEventListener("upgradeneeded",p=>{s(os(f.result),p.oldVersion,p.newVersion,os(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const xR=["get","getKey","getAll","getAllKeys","count"],CR=["put","add","delete","clear"],Sm=new Map;function t0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=CR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||xR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}SR(r=>({...r,get:(e,n,s)=>t0(e,n)||r.get(e,n,s),has:(e,n)=>!!t0(e,n)||r.has(e,n)}));class IR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function NR(r){return r.getComponent()?.type==="VERSION"}const Lm="@firebase/app",n0="0.14.6";const mr=new gp("@firebase/app"),DR="@firebase/app-compat",OR="@firebase/analytics-compat",MR="@firebase/analytics",VR="@firebase/app-check-compat",PR="@firebase/app-check",kR="@firebase/auth",LR="@firebase/auth-compat",jR="@firebase/database",UR="@firebase/data-connect",zR="@firebase/database-compat",BR="@firebase/functions",qR="@firebase/functions-compat",HR="@firebase/installations",FR="@firebase/installations-compat",GR="@firebase/messaging",QR="@firebase/messaging-compat",KR="@firebase/performance",YR="@firebase/performance-compat",$R="@firebase/remote-config",XR="@firebase/remote-config-compat",WR="@firebase/storage",ZR="@firebase/storage-compat",JR="@firebase/firestore",ex="@firebase/ai",tx="@firebase/firestore-compat",nx="firebase",ix="12.6.0";const jm="[DEFAULT]",rx={[Lm]:"fire-core",[DR]:"fire-core-compat",[MR]:"fire-analytics",[OR]:"fire-analytics-compat",[PR]:"fire-app-check",[VR]:"fire-app-check-compat",[kR]:"fire-auth",[LR]:"fire-auth-compat",[jR]:"fire-rtdb",[UR]:"fire-data-connect",[zR]:"fire-rtdb-compat",[BR]:"fire-fn",[qR]:"fire-fn-compat",[HR]:"fire-iid",[FR]:"fire-iid-compat",[GR]:"fire-fcm",[QR]:"fire-fcm-compat",[KR]:"fire-perf",[YR]:"fire-perf-compat",[$R]:"fire-rc",[XR]:"fire-rc-compat",[WR]:"fire-gcs",[ZR]:"fire-gcs-compat",[JR]:"fire-fst",[tx]:"fire-fst-compat",[ex]:"fire-vertex","fire-js":"fire-js",[nx]:"fire-js-all"};const Sh=new Map,sx=new Map,Um=new Map;function i0(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if(Um.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Um.set(e,r);for(const n of Sh.values())i0(n,r);for(const n of sx.values())i0(n,r);return!0}function _p(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function xn(r){return r==null?!1:r.settings!==void 0}const ax={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new du("app","Firebase",ax);class ox{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}const xo=ix;function JE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:jm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ls.create("bad-app-name",{appName:String(o)});if(n||(n=KE()),!n)throw ls.create("no-options");const u=Sh.get(o);if(u){if(sa(n,u.options)&&sa(s,u.config))return u;throw ls.create("duplicate-app",{appName:o})}const f=new dR(o);for(const p of Um.values())f.addComponent(p);const m=new ox(n,s,f);return Sh.set(o,m),m}function eT(r=jm){const e=Sh.get(r);if(!e&&r===jm&&KE())return JE();if(!e)throw ls.create("no-app",{appName:r});return e}function us(r,e,n){let s=rx[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(f.join(" "));return}yo(new aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const lx="firebase-heartbeat-database",ux=1,tu="firebase-heartbeat-store";let wm=null;function tT(){return wm||(wm=RR(lx,ux,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ls.create("idb-open",{originalErrorMessage:r.message})})),wm}async function cx(r){try{const n=(await tT()).transaction(tu),s=await n.objectStore(tu).get(nT(r));return await n.done,s}catch(e){if(e instanceof Er)mr.warn(e.message);else{const n=ls.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}}async function r0(r,e){try{const s=(await tT()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,nT(r)),await s.done}catch(n){if(n instanceof Er)mr.warn(n.message);else{const s=ls.create("idb-set",{originalErrorMessage:n?.message});mr.warn(s.message)}}}function nT(r){return`${r.name}!${r.options.appId}`}const hx=1024,fx=30;class dx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new px(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>fx){const o=gx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s0(),{heartbeatsToSend:n,unsentEntries:s}=mx(this._heartbeatsCache.heartbeats),o=bh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return mr.warn(e),""}}}function s0(){return new Date().toISOString().substring(0,10)}function mx(r,e=hx){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),a0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),a0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class px{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tR()?nR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a0(r){return bh(JSON.stringify({version:2,heartbeats:r})).length}function gx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function yx(r){yo(new aa("platform-logger",e=>new IR(e),"PRIVATE")),yo(new aa("heartbeat",e=>new dx(e),"PRIVATE")),us(Lm,n0,r),us(Lm,n0,"esm2020"),us("fire-js","")}yx("");var _x="firebase",vx="12.6.0";us(_x,vx,"app");function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ex=iT,rT=new du("auth","Firebase",iT());const wh=new gp("@firebase/auth");function Tx(r,...e){wh.logLevel<=Me.WARN&&wh.warn(`Auth (${xo}): ${r}`,...e)}function ch(r,...e){wh.logLevel<=Me.ERROR&&wh.error(`Auth (${xo}): ${r}`,...e)}function ai(r,...e){throw vp(r,...e)}function Oi(r,...e){return vp(r,...e)}function sT(r,e,n){const s={...Ex(),[e]:n};return new du("auth","Firebase",s).create(e,{appName:r.name})}function Mi(r){return sT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return rT.create(r,...e)}function Ee(r,e,...n){if(!r)throw vp(e,...n)}function ur(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function pr(r,e){r||ur(e)}function zm(){return typeof self<"u"&&self.location?.href||""}function bx(){return o0()==="http:"||o0()==="https:"}function o0(){return typeof self<"u"&&self.location?.protocol||null}function Sx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bx()||WA()||"connection"in navigator)?navigator.onLine:!0}function wx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=YA()||ZA()}get(){return Sx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ep(r,e){pr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class aT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ax={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],xx=new pu(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Bi(r,e,n,s,o={}){return oT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=mu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return XA()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),aT.fetch()(await lT(r,r.config.apiHost,n,m),g)})}async function oT(r,e,n){r._canInitEmulator=!1;const s={...Ax,...e};try{const o=new Ix(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw sT(r,T,g);ai(r,T)}}catch(o){if(o instanceof Er)throw o;ai(r,"network-request-failed",{message:String(o)})}}async function gu(r,e,n,s,o={}){const u=await Bi(r,e,n,s,o);return"mfaPendingCredential"in u&&ai(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function lT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Ep(r.config,o):`${r.config.apiScheme}://${o}`;return Rx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Cx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ix{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Oi(this.auth,"network-request-failed")),xx.get())})}}function nh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Oi(r,e,s);return o.customData._tokenResponse=n,o}function l0(r){return r!==void 0&&r.enterprise!==void 0}class Nx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Cx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Dx(r,e){return Bi(r,"GET","/v2/recaptchaConfig",vs(r,e))}async function Ox(r,e){return Bi(r,"POST","/v1/accounts:delete",e)}async function Ah(r,e){return Bi(r,"POST","/v1/accounts:lookup",e)}function $l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mx(r,e=!1){const n=mt(r),s=await n.getIdToken(e),o=Tp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:$l(Am(o.auth_time)),issuedAtTime:$l(Am(o.iat)),expirationTime:$l(Am(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Am(r){return Number(r)*1e3}function Tp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=GE(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o?.toString()),null}}function u0(r){const e=Tp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oa(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&Vx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Vx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Px{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rh(r){const e=r.auth,n=await r.getIdToken(),s=await oa(r,Ah(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?uT(o.providerUserInfo):[],f=Lx(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function kx(r){const e=mt(r);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Lx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function uT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jx(r,e){const n=await oT(r,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await lT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(p.credentials="include"),aT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ux(r,e){return Bi(r,"POST","/v2/accounts:revokeToken",vs(r,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=u0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await jx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new fo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return ur("not implemented")}}function ts(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Px(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await oa(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mx(this,e)}reload(){return kx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Mi(this.auth));const e=await this.getIdToken();return await oa(this,Ox(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:A,isAnonymous:M,providerData:z,stsTokenManager:B}=n;Ee(b&&B,e,"internal-error");const U=fo.fromJSON(this.name,B);Ee(typeof b=="string",e,"internal-error"),ts(s,e.name),ts(o,e.name),Ee(typeof A=="boolean",e,"internal-error"),Ee(typeof M=="boolean",e,"internal-error"),ts(u,e.name),ts(f,e.name),ts(m,e.name),ts(p,e.name),ts(g,e.name),ts(T,e.name);const Z=new ii({uid:b,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:U,createdAt:g,lastLoginAt:T});return z&&Array.isArray(z)&&(Z.providerData=z.map(ne=>({...ne}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?uT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const c0=new Map;function cr(r){pr(r instanceof Function,"Expected a class definition");let e=c0.get(r);return e?(pr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,c0.set(r,e),e)}class cT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cT.type="NONE";const h0=cT;function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ah(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(cr(h0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cr(h0);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let b;if(typeof T=="string"){const A=await Ah(e,{idToken:T}).catch(()=>{});if(!A)break;b=await ii._fromGetAccountInfoResponse(e,A,T)}else b=ii._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new mo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new mo(u,e,s))}}function f0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gT(e))return"Blackberry";if(yT(e))return"Webos";if(fT(e))return"Safari";if((e.includes("chrome/")||dT(e))&&!e.includes("edge/"))return"Chrome";if(pT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function hT(r=Jt()){return/firefox\//i.test(r)}function fT(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dT(r=Jt()){return/crios\//i.test(r)}function mT(r=Jt()){return/iemobile/i.test(r)}function pT(r=Jt()){return/android/i.test(r)}function gT(r=Jt()){return/blackberry/i.test(r)}function yT(r=Jt()){return/webos/i.test(r)}function bp(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function zx(r=Jt()){return bp(r)&&!!window.navigator?.standalone}function Bx(){return JA()&&document.documentMode===10}function _T(r=Jt()){return bp(r)||pT(r)||yT(r)||gT(r)||/windows phone/i.test(r)||mT(r)}function vT(r,e=[]){let n;switch(r){case"Browser":n=f0(Jt());break;case"Worker":n=`${f0(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}class qx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Hx(r,e={}){return Bi(r,"GET","/v2/passwordPolicy",vs(r,e))}const Fx=6;class Gx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Fx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class Qx{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new qx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ah(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=wx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Mi(this));const n=e?mt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Hx(this),n=new Gx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Ux(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Tx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(r){return mt(r)}class d0{constructor(e){this.auth=e,this.observer=null,this.addObserver=oR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kx(r){Qh=r}function ET(r){return Qh.loadJS(r)}function Yx(){return Qh.recaptchaEnterpriseScript}function $x(){return Qh.gapiScript}function Xx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Wx{constructor(){this.enterprise=new Zx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Zx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Jx="recaptcha-enterprise",TT="NO_RECAPTCHA";class eC{constructor(e){this.type=Jx,this.auth=da(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Dx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Nx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;l0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(TT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Wx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&l0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Yx();p.length!==0&&(p+=m),ET(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function m0(r,e,n,s=!1,o=!1){const u=new eC(r);let f;if(o)f=TT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function qm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await m0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await m0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function tC(r,e){const n=_p(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sa(u,e??{}))return o;ai(o,"already-initialized")}return n.initialize({options:e})}function nC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function iC(r,e,n){const s=da(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=bT(e),{host:f,port:m}=rC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(sa(g,s.config.emulator)&&sa(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Ro(f)?($E(`${u}//${f}${p}`),XE("Auth",!0)):sC()}function bT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function rC(r){const e=bT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:p0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:p0(f)}}}function p0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function sC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}async function aC(r,e){return Bi(r,"POST","/v1/accounts:update",e)}async function oC(r,e){return Bi(r,"POST","/v1/accounts:signUp",e)}async function lC(r,e){return gu(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}async function uC(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function cC(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}class nu extends Sp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,n,"signInWithPassword",lC);case"emailLink":return uC(e,{email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qm(e,s,"signUpPassword",oC);case"emailLink":return cC(e,{idToken:n,email:this._email,oobCode:this._password});default:ai(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(r,e){return gu(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}const hC="http://localhost";class la extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ai("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new la(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:hC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}function fC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dC(r){const e=ql(Hl(r)).link,n=e?ql(Hl(e)).deep_link_id:null,s=ql(Hl(r)).deep_link_id;return(s?ql(Hl(s)).link:null)||s||n||e||r}class wp{constructor(e){const n=ql(Hl(e)),s=n.apiKey??null,o=n.oobCode??null,u=fC(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dC(e);try{return new wp(n)}catch{return null}}}class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=wp.parseLink(n);return Ee(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ST{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends ST{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ns extends yu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";ns.PROVIDER_ID="facebook.com";class is extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return is.credential(n,s)}catch{return null}}}is.GOOGLE_SIGN_IN_METHOD="google.com";is.PROVIDER_ID="google.com";class rs extends yu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";class ss extends yu{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ss.credential(n,s)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";async function mC(r,e){return gu(r,"POST","/v1/accounts:signUp",vs(r,e))}class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),f=g0(s);return new ua({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=g0(s);return new ua({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function g0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class xh extends Er{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xh(e,n,s,o)}}function wT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(r,u,e,s):u})}async function pC(r,e,n=!1){const s=await oa(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ua._forOperation(r,"link",s)}async function gC(r,e,n=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(Mi(s));const o="reauthenticate";try{const u=await oa(r,wT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Tp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ua._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ai(s,"user-mismatch"),u}}async function AT(r,e,n=!1){if(xn(r.app))return Promise.reject(Mi(r));const s="signIn",o=await wT(r,s,e),u=await ua._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function yC(r,e){return AT(da(r),e)}async function RT(r){const e=da(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _C(r,e,n){if(xn(r.app))return Promise.reject(Mi(r));const s=da(r),f=await qm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&RT(r),p}),m=await ua._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function vC(r,e,n){return xn(r.app)?Promise.reject(Mi(r)):yC(mt(r),Co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&RT(r),s})}async function EC(r,e){return Bi(r,"POST","/v1/accounts:update",e)}async function TC(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=mt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await oa(s,EC(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function bC(r,e){const n=mt(r);return xn(n.auth.app)?Promise.reject(Mi(n.auth)):xT(n,e,null)}function SC(r,e){return xT(mt(r),null,e)}async function xT(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(u.email=e),n&&(u.password=n);const f=await oa(r,aC(s,u));await r._updateTokensIfNecessary(f,!0)}function wC(r,e,n,s){return mt(r).onIdTokenChanged(e,n,s)}function AC(r,e,n){return mt(r).beforeAuthStateChanged(e,n)}function RC(r,e,n,s){return mt(r).onAuthStateChanged(e,n,s)}function xC(r){return mt(r).signOut()}const Ch="__sak";class CT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const CC=1e3,IC=10;class IT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Bx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,IC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}IT.type="LOCAL";const NC=IT;class NT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}NT.type="SESSION";const DT=NT;function DC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await DC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];function Ap(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class OC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ap("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const A=b;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Vi(){return window}function MC(r){Vi().location.href=r}function OT(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function VC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PC(){return navigator?.serviceWorker?.controller||null}function kC(){return OT()?self:null}const MT="firebaseLocalStorageDb",LC=1,Ih="firebaseLocalStorage",VT="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function jC(){const r=indexedDB.deleteDatabase(MT);return new _u(r).toPromise()}function Hm(){const r=indexedDB.open(MT,LC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:VT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await jC(),e(await Hm()))})})}async function y0(r,e,n){const s=Yh(r,!0).put({[VT]:e,value:n});return new _u(s).toPromise()}async function UC(r,e){const n=Yh(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function _0(r,e){const n=Yh(r,!0).delete(e);return new _u(n).toPromise()}const zC=800,BC=3;class PT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>BC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(kC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await VC(),!this.activeServiceWorker)return;this.sender=new OC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await y0(e,Ch,"1"),await _0(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>y0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>UC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PT.type="LOCAL";const qC=PT;new pu(3e4,6e4);function HC(r,e){return e?cr(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Rp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FC(r){return AT(r.auth,new Rp(r),r.bypassAuthState)}function GC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),gC(n,new Rp(r),r.bypassAuthState)}async function QC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),pC(n,new Rp(r),r.bypassAuthState)}class kT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FC;case"linkViaPopup":case"linkViaRedirect":return QC;case"reauthViaPopup":case"reauthViaRedirect":return GC;default:ai(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KC=new pu(2e3,1e4);class ho extends kT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KC.get())};e()}}ho.currentPopupAction=null;const YC="pendingRedirect",fh=new Map;class $C extends kT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await XC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XC(r,e){const n=JC(e),s=ZC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function WC(r,e){fh.set(r._key(),e)}function ZC(r){return cr(r._redirectPersistence)}function JC(r){return hh(YC,r.config.apiKey,r.name)}async function e2(r,e,n=!1){if(xn(r.app))return Promise.reject(Mi(r));const s=da(r),o=HC(s,e),f=await new $C(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const t2=600*1e3;class n2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!LT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Oi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=t2&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(e))}saveEventToCache(e){this.cachedEventUids.add(v0(e)),this.lastProcessedEventTime=Date.now()}}function v0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function LT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function i2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return LT(r);default:return!1}}async function r2(r,e={}){return Bi(r,"GET","/v1/projects",e)}const s2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,a2=/^https?/;async function o2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await r2(r);for(const n of e)try{if(l2(n))return}catch{}ai(r,"unauthorized-domain")}function l2(r){const e=zm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!a2.test(n))return!1;if(s2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const u2=new pu(3e4,6e4);function E0(){const r=Vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function c2(r){return new Promise((e,n)=>{function s(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),n(Oi(r,"network-request-failed"))},timeout:u2.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const o=Xx("iframefcb");return Vi()[o]=()=>{gapi.load?s():n(Oi(r,"network-request-failed"))},ET(`${$x()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw dh=null,e})}let dh=null;function h2(r){return dh=dh||c2(r),dh}const f2=new pu(5e3,15e3),d2="__/auth/iframe",m2="emulator/auth/iframe",p2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function y2(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ep(e,m2):`https://${r.config.authDomain}/${d2}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=g2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function _2(r){const e=await h2(r),n=Vi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:y2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Oi(r,"network-request-failed"),m=Vi().setTimeout(()=>{u(f)},f2.get());function p(){Vi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const v2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E2=500,T2=600,b2="_blank",S2="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w2(r,e,n,s=E2,o=T2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...v2,width:s.toString(),height:o.toString(),top:u,left:f},g=Jt().toLowerCase();n&&(m=dT(g)?b2:n),hT(g)&&(e=e||S2,p.scrollbars="yes");const T=Object.entries(p).reduce((A,[M,z])=>`${A}${M}=${z},`,"");if(zx(g)&&m!=="_self")return A2(e||"",m),new T0(null);const b=window.open(e||"",m,T);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new T0(b)}function A2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const R2="__/auth/handler",x2="emulator/auth/handler",C2=encodeURIComponent("fac");async function b0(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof ST){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",aR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof yu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${C2}=${encodeURIComponent(p)}`:"";return`${I2(r)}?${mu(m).slice(1)}${g}`}function I2({config:r}){return r.emulator?Ep(r,x2):`https://${r.authDomain}/${R2}`}const Rm="webStorageSupport";class N2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DT,this._completeRedirectFn=e2,this._overrideRedirectResult=WC}async _openPopup(e,n,s,o){pr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await b0(e,n,s,zm(),o);return w2(e,u,Ap())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await b0(e,n,s,zm(),o);return MC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _2(e),s=new n2(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),ai(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=o2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _T()||fT()||bp()}}const D2=N2;var S0="@firebase/auth",w0="1.11.1";class O2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function M2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function V2(r){yo(new aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vT(r)},g=new Qx(s,o,u,p);return nC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new aa("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new O2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(S0,w0,M2(r)),us(S0,w0,"esm2020")}const P2=300,k2=YE("authIdTokenMaxAge")||P2;let A0=null;const L2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>k2)return;const o=n?.token;A0!==o&&(A0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function j2(r=eT()){const e=_p(r,"auth");if(e.isInitialized())return e.getImmediate();const n=tC(r,{popupRedirectResolver:D2,persistence:[qC,NC,DT]}),s=YE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=L2(u.toString());AC(n,f,()=>f(n.currentUser)),wC(n,m=>f(m))}}const o=QE("auth");return o&&iC(n,`http://${o}`),n}function U2(){return document.getElementsByTagName("head")?.[0]??document}Kx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",U2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});V2("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cs,jT;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(P,D,L){for(var I=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)I[ze-2]=arguments[ze];return R.prototype[D].apply(P,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const P=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)P[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)P[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],D=x.g[2];let L=x.g[3],I;I=R+(L^C&(D^L))+P[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(D^R&(C^D))+P[1]+3905402710&4294967295,L=R+(I<<12&4294967295|I>>>20),I=D+(C^L&(R^C))+P[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(R^D&(L^R))+P[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(L^C&(D^L))+P[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(D^R&(C^D))+P[5]+1200080426&4294967295,L=R+(I<<12&4294967295|I>>>20),I=D+(C^L&(R^C))+P[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(R^D&(L^R))+P[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(L^C&(D^L))+P[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(D^R&(C^D))+P[9]+2336552879&4294967295,L=R+(I<<12&4294967295|I>>>20),I=D+(C^L&(R^C))+P[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(R^D&(L^R))+P[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(L^C&(D^L))+P[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(D^R&(C^D))+P[13]+4254626195&4294967295,L=R+(I<<12&4294967295|I>>>20),I=D+(C^L&(R^C))+P[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(R^D&(L^R))+P[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(D^L&(C^D))+P[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(R^C))+P[6]+3225465664&4294967295,L=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(L^R))+P[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(D^L))+P[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^L&(C^D))+P[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(R^C))+P[10]+38016083&4294967295,L=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(L^R))+P[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(D^L))+P[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^L&(C^D))+P[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(R^C))+P[14]+3275163606&4294967295,L=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(L^R))+P[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(D^L))+P[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^L&(C^D))+P[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(R^C))+P[2]+4243563512&4294967295,L=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(L^R))+P[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(D^L))+P[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(C^D^L)+P[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^D)+P[8]+2272392833&4294967295,L=R+(I<<11&4294967295|I>>>21),I=D+(L^R^C)+P[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^R)+P[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^L)+P[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^D)+P[4]+1272893353&4294967295,L=R+(I<<11&4294967295|I>>>21),I=D+(L^R^C)+P[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^R)+P[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^L)+P[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^D)+P[0]+3936430074&4294967295,L=R+(I<<11&4294967295|I>>>21),I=D+(L^R^C)+P[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^R)+P[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^L)+P[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^D)+P[12]+3873151461&4294967295,L=R+(I<<11&4294967295|I>>>21),I=D+(L^R^C)+P[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^R)+P[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(D^(C|~L))+P[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~D))+P[7]+1126891415&4294967295,L=R+(I<<10&4294967295|I>>>22),I=D+(R^(L|~C))+P[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~R))+P[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~L))+P[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~D))+P[3]+2399980690&4294967295,L=R+(I<<10&4294967295|I>>>22),I=D+(R^(L|~C))+P[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~R))+P[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~L))+P[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~D))+P[15]+4264355552&4294967295,L=R+(I<<10&4294967295|I>>>22),I=D+(R^(L|~C))+P[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~R))+P[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~L))+P[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~D))+P[11]+3174756917&4294967295,L=R+(I<<10&4294967295|I>>>22),I=D+(R^(L|~C))+P[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~R))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,P=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=C;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(P[D++]=x.charCodeAt(L++),D==this.blockSize){o(this,P),D=0;break}}else for(;L<R;)if(P[D++]=x[L++],D==this.blockSize){o(this,P),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)x[R++]=this.g[C]>>>P&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function f(x,R){this.h=R;const C=[];let P=!0;for(let D=x.length-1;D>=0;D--){const L=x[D]|0;P&&L==R||(C[D]=L,P=!1)}this.g=C}var m={};function p(x){return-128<=x&&x<128?u(x,function(R){return new f([R|0],R<0?-1:0)}):new f([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return b;if(x<0)return U(g(-x));const R=[];let C=1;for(let P=0;x>=C;P++)R[P]=x/C|0,C*=4294967296;return new f(R,0)}function T(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return U(T(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let P=b;for(let L=0;L<x.length;L+=8){var D=Math.min(8,x.length-L);const I=parseInt(x.substring(L,L+D),R);D<8?(D=g(Math.pow(R,D)),P=P.j(D).add(g(I))):(P=P.j(C),P=P.add(g(I)))}return P}var b=p(0),A=p(1),M=p(16777216);r=f.prototype,r.m=function(){if(B(this))return-U(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);x+=(P>=0?P:4294967296+P)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(z(this))return"0";if(B(this))return"-"+U(this).toString(x);const R=g(Math.pow(x,6));var C=this;let P="";for(;;){const D=se(C,R).g;C=Z(C,D.j(R));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,z(C))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function z(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function B(x){return x.h==-1}r.l=function(x){return x=Z(this,x),B(x)?-1:z(x)?0:1};function U(x){const R=x.g.length,C=[];for(let P=0;P<R;P++)C[P]=~x.g[P];return new f(C,~x.h).add(A)}r.abs=function(){return B(this)?U(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let P=0;for(let D=0;D<=R;D++){let L=P+(this.i(D)&65535)+(x.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);P=I>>>16,L&=65535,I&=65535,C[D]=I<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Z(x,R){return x.add(U(R))}r.j=function(x){if(z(this)||z(x))return b;if(B(this))return B(x)?U(this).j(U(x)):U(U(this).j(x));if(B(x))return U(this.j(U(x)));if(this.l(M)<0&&x.l(M)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var P=0;P<2*R;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let D=0;D<x.g.length;D++){const L=this.i(P)>>>16,I=this.i(P)&65535,ze=x.i(D)>>>16,ct=x.i(D)&65535;C[2*P+2*D]+=I*ct,ne(C,2*P+2*D),C[2*P+2*D+1]+=L*ct,ne(C,2*P+2*D+1),C[2*P+2*D+1]+=I*ze,ne(C,2*P+2*D+1),C[2*P+2*D+2]+=L*ze,ne(C,2*P+2*D+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new f(C,0)};function ne(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ie(x,R){this.g=x,this.h=R}function se(x,R){if(z(R))throw Error("division by zero");if(z(x))return new ie(b,b);if(B(x))return R=se(U(x),R),new ie(U(R.g),U(R.h));if(B(R))return R=se(x,U(R)),new ie(U(R.g),R.h);if(x.g.length>30){if(B(x)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var C=A,P=R;P.l(x)<=0;)C=ae(C),P=ae(P);var D=ce(C,1),L=ce(P,1);for(P=ce(P,2),C=ce(C,2);!z(P);){var I=L.add(P);I.l(x)<=0&&(D=D.add(C),L=I),P=ce(P,1),C=ce(C,1)}return R=Z(x,D.j(R)),new ie(D,R)}for(D=b;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=g(C),I=L.j(R);B(I)||I.l(x)>0;)C-=P,L=g(C),I=L.j(R);z(L)&&(L=A),D=D.add(L),x=Z(x,I)}return new ie(D,x)}r.B=function(x){return se(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)&x.i(P);return new f(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)|x.i(P);return new f(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let P=0;P<R;P++)C[P]=this.i(P)^x.i(P);return new f(C,this.h^x.h)};function ae(x){const R=x.g.length+1,C=[];for(let P=0;P<R;P++)C[P]=x.i(P)<<1|x.i(P-1)>>>31;return new f(C,x.h)}function ce(x,R){const C=R>>5;R%=32;const P=x.g.length-C,D=[];for(let L=0;L<P;L++)D[L]=R>0?x.i(L+C)>>>R|x.i(L+C+1)<<32-R:x.i(L+C);return new f(D,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,jT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,cs=f}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var ih=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var UT,Fl,zT,mh,Fm,BT,qT,HT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ih=="object"&&ih];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var E=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var q=c[w];if(!(q in E))break e;E=E[q]}c=c[c.length-1],w=E[c],y=y(w),y!=w&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var E=[],w;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&E.push([w,y[w]]);return E}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(w,q,K){for(var oe=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)oe[Ae-2]=arguments[Ae];return y.prototype[q].apply(w,oe)}}var A=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function M(c){const y=c.length;if(y>0){const E=Array(y);for(let w=0;w<y;w++)E[w]=c[w];return E}return[]}function z(c,y){for(let w=1;w<arguments.length;w++){const q=arguments[w];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const K=q.length||0;c.length=E+K;for(let oe=0;oe<K;oe++)c[E+oe]=q[oe]}else c.push(q)}}class B{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function U(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,E){const w=ie.get();w.set(y,E),this.h?this.h.next=w:this.g=w,this.h=w}}var ie=new B(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,ce=!1,x=new ne,R=()=>{const c=Promise.resolve(void 0);ae=()=>{c.then(C)}};function C(){for(var c;c=Z();){try{c.h.call(c.g)}catch(E){U(E)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ce=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ze(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(ze,D),ze.prototype.init=function(c,y){const E=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),Q=0;function ue(c,y,E,w,q){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!w,this.ha=q,this.key=++Q,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,y,E){for(const w in c)y.call(E,c[w],w,c)}function He(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function k(c){const y={};for(const E in c)y[E]=c[E];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,y){let E,w;for(let q=1;q<arguments.length;q++){w=arguments[q];for(E in w)c[E]=w[E];for(let K=0;K<Y.length;K++)E=Y[K],Object.prototype.hasOwnProperty.call(w,E)&&(c[E]=w[E])}}function le(c){this.src=c,this.g={},this.h=0}le.prototype.add=function(c,y,E,w,q){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const oe=xe(c,y,w,q);return oe>-1?(y=c[oe],E||(y.fa=!1)):(y=new ue(y,this.src,K,!!w,q),y.fa=E,c.push(y)),y};function de(c,y){const E=y.type;if(E in c.g){var w=c.g[E],q=Array.prototype.indexOf.call(w,y,void 0),K;(K=q>=0)&&Array.prototype.splice.call(w,q,1),K&&(ge(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,y,E,w){for(let q=0;q<c.length;++q){const K=c[q];if(!K.da&&K.listener==y&&K.capture==!!E&&K.ha==w)return q}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,y,E,w,q){if(Array.isArray(y)){for(let K=0;K<y.length;K++)st(c,y[K],E,w,q);return null}return E=Lo(E),c&&c[ct]?c.J(y,E,m(w)?!!w.capture:!1,q):Ss(c,y,E,!1,w,q)}function Ss(c,y,E,w,q,K){if(!y)throw Error("Invalid event type");const oe=m(q)?!!q.capture:!!q;let Ae=ws(c);if(Ae||(c[je]=Ae=new le(c)),E=Ae.add(y,E,w,oe,K),E.proxy)return E;if(w=ya(),E.proxy=w,w.src=c,w.listener=E,c.addEventListener)L||(q=oe),q===void 0&&(q=!1),c.addEventListener(y.toString(),w,q);else if(c.attachEvent)c.attachEvent(ui(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ya(){function c(E){return y.call(c.src,c.listener,E)}const y=Po;return c}function _a(c,y,E,w,q){if(Array.isArray(y))for(var K=0;K<y.length;K++)_a(c,y[K],E,w,q);else w=m(w)?!!w.capture:!!w,E=Lo(E),c&&c[ct]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],E=xe(y,E,w,q),E>-1&&(ge(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=ws(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,E,w,q)),(E=c>-1?y[c]:null)&&va(E))}function va(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])de(y.i,c);else{var E=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(E,w,c.capture):y.detachEvent?y.detachEvent(ui(E),w):y.addListener&&y.removeListener&&y.removeListener(w),(E=ws(y))?(de(E,c),E.h==0&&(E.src=null,y[je]=null)):ge(c)}}}function ui(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Po(c,y){if(c.da)c=!0;else{y=new ze(y,this);const E=c.listener,w=c.ha||c.src;c.fa&&va(c),c=E.call(w,y)}return c}function ws(c){return c=c[je],c instanceof le?c:null}var ko="__closure_events_fn_"+(Math.random()*1e9>>>0);function Lo(c){return typeof c=="function"?c:(c[ko]||(c[ko]=function(y){return c.handleEvent(y)}),c[ko])}function Et(){P.call(this),this.i=new le(this),this.M=this,this.G=null}b(Et,P),Et.prototype[ct]=!0,Et.prototype.removeEventListener=function(c,y,E,w){_a(this,c,y,E,w)};function Mt(c,y){var E,w=c.G;if(w)for(E=[];w;w=w.G)E.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var q=y;y=new D(w,c),re(y,q)}q=!0;let K,oe;if(E)for(oe=E.length-1;oe>=0;oe--)K=y.g=E[oe],q=br(K,w,!0,y)&&q;if(K=y.g=c,q=br(K,w,!0,y)&&q,q=br(K,w,!1,y)&&q,E)for(oe=0;oe<E.length;oe++)K=y.g=E[oe],q=br(K,w,!1,y)&&q}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let w=0;w<E.length;w++)ge(E[w]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,E,w){return this.i.add(String(c),y,!1,E,w)},Et.prototype.K=function(c,y,E,w){return this.i.add(String(c),y,!0,E,w)};function br(c,y,E,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let q=!0;for(let K=0;K<y.length;++K){const oe=y[K];if(oe&&!oe.da&&oe.capture==E){const Ae=oe.listener,gt=oe.ha||oe.src;oe.fa&&de(c.i,oe),q=Ae.call(gt,w)!==!1&&q}}return q&&!w.defaultPrevented}function mf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Ru(c){c.g=mf(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends P{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function As(c){P.call(this),this.h=c,this.g={}}b(As,P);var jo=[];function Uo(c){ke(c.g,function(y,E){this.g.hasOwnProperty(E)&&va(y)},c),c.g={}}As.prototype.N=function(){As.Z.N.call(this),Uo(this)},As.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sr=f.JSON.stringify,pf=f.JSON.parse,xu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Cu(){}function Iu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}b(zt,D);function In(){D.call(this,"c")}b(In,D);var pt={},Nu=null;function Ea(){return Nu=Nu||new Et}pt.Ia="serverreachability";function Du(c){D.call(this,pt.Ia,c)}b(Du,D);function ci(c){const y=Ea();Mt(y,new Du(y))}pt.STAT_EVENT="statevent";function Rs(c,y){D.call(this,pt.STAT_EVENT,c),this.stat=y}b(Rs,D);function Tt(c){const y=Ea();Mt(y,new Rs(y,c))}pt.Ja="timingevent";function hi(c,y){D.call(this,pt.Ja,c),this.size=y}b(hi,D);function fi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function gf(c,y,E,w,q,K){c.info(function(){if(c.g)if(K){var oe="",Ae=K.split("&");for(let Fe=0;Fe<Ae.length;Fe++){var gt=Ae[Fe].split("=");if(gt.length>1){const at=gt[0];gt=gt[1];const Mn=at.split("_");oe=Mn.length>=2&&Mn[1]=="type"?oe+(at+"="+gt+"&"):oe+(at+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+w+") [attempt "+q+"]: "+y+`
`+E+`
`+oe})}function Ou(c,y,E,w,q,K,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+q+"]: "+y+`
`+E+`
`+K+" "+oe})}function di(c,y,E,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yf(c,E)+(w?" "+w:"")})}function xs(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function yf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var E=K[c];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var q=w[0];if(q!="noop"&&q!="stop"&&q!="close")for(let oe=1;oe<w.length;oe++)w[oe]=""}}}}return Sr(K)}catch{return y}}var Cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Is(){}b(Is,Cu),Is.prototype.g=function(){return new XMLHttpRequest},Bo=new Is;function Hi(c){return encodeURIComponent(String(c))}function Mu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Kn(c,y,E,w){this.j=c,this.i=y,this.l=E,this.S=w||1,this.V=new As(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var bt={},kt={};function mi(c,y,E){c.M=1,c.A=Ns(wt(y)),c.u=E,c.R=!0,Ta(c,null)}function Ta(c,y){c.F=Date.now(),pi(c),c.B=wt(c.A);var E=c.B,w=c.S;Array.isArray(w)||(w=[String(w)]),Aa(E.i,"t",w),c.C=0,E=c.j.L,c.h=new Yn,c.g=Yu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,w=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(jo[0]=q.toString()),q=jo);for(let K=0;K<q.length;K++){const oe=st(E,q[K],w||y.handleEvent,!1,y.h||y);if(!oe)break;y.g[oe.key]=oe}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ci(),gf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Wn(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Wn(this.g),gt=this.g.ya(),Fe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ae!=4||gt==7||(gt==8||Fe<=0?ci(3):ci(2)),gi(this);var y=this.g.ca();this.X=y;var E=_f(this);if(this.o=y==200,Ou(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var w,q=this.g;if((w=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(w)){var K=w;break t}}K=null}if(c=K)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,Tt(12),_n(this),Nn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<E.length;)if(at=Pu(this,E),at==kt){Ae==4&&(this.m=4,Tt(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(at==bt){this.m=4,Tt(15),di(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,at,null),yi(this,at);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(E.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),nl(oe),oe.P=!0,Tt(11))}}else di(this.i,this.l,E,null),yi(this,E);Ae==4&&_n(this),this.o&&!this.K&&(Ae==4?Fu(this.j,this):(this.o=!1,pi(this)))}else Gi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),_n(this),Nn(this)}}}catch{}finally{}};function _f(c){if(!Vu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let E="";const w=y.length,q=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Nn(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<w;K++)c.h.h=!0,E+=c.h.i.decode(y[K],{stream:!(q&&K==w-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Pu(c,y){var E=c.C,w=y.indexOf(`
`,E);return w==-1?kt:(E=Number(y.substring(E,w)),isNaN(E)?bt:(w+=1,w+E>y.length?kt:(y=y.slice(w,w+E),c.C=w+E,y)))}Kn.prototype.cancel=function(){this.K=!0,_n(this)};function pi(c){c.T=Date.now()+c.H,ba(c,c.H)}function ba(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(g(c.aa,c),y)}function gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(xs(this.i,this.B),this.M!=2&&(ci(),Tt(17)),_n(this),this.m=2,Nn(this)):ba(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Fu(c.j,c)}function _n(c){gi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Uo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function yi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||vi(E.h,c))){if(!c.L&&vi(E.h,c)&&E.I==3){try{var w=E.Ba.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var q=w;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Na(E),Dr(E);else break e;Ls(E),Tt(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=fi(g(E.Va,E),6e3));_i(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ai(E,11)}else if((c.L||E.g==c)&&Na(E),!I(y))for(q=E.Ba.g.parse(y),y=0;y<q.length;y++){let Fe=q[y];const at=Fe[0];if(!(at<=E.K))if(E.K=at,Fe=Fe[1],E.I==2)if(Fe[0]=="c"){E.M=Fe[1],E.ba=Fe[2];const Mn=Fe[3];Mn!=null&&(E.ka=Mn,E.j.info("VER="+E.ka));const Ri=Fe[4];Ri!=null&&(E.za=Ri,E.j.info("SVER="+E.za));const Zn=Fe[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(w=1.5*Zn,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const Jn=c.g;if(Jn){const js=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var K=w.h;K.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Fo(K,K.h),K.h=null))}if(w.G){const Da=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(w.wa=Da,Ke(w.J,w.G,Da))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var oe=c;if(w.na=Ku(w,w.L?w.ba:null,w.W),oe.L){Go(w.h,oe);var Ae=oe,gt=w.O;gt&&(Ae.H=gt),Ae.D&&(gi(Ae),pi(Ae)),w.g=oe}else qu(w);E.i.length>0&&wi(E)}else Fe[0]!="stop"&&Fe[0]!="close"||Ai(E,7);else E.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ai(E,7):el(E):Fe[0]!="noop"&&E.l&&E.l.qa(Fe),E.A=0)}}ci(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function vi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fo(c,y){c.g?c.g.add(y):c.h=y}function Go(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return M(c.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const w=c[E].indexOf("=");let q,K=null;w>=0?(q=c[E].substring(0,w),K=c[E].substring(w+1)):q=c[E],y(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.u),this.h=c.h,Ko(this,zu(c.i)),this.m=c.m):c&&(y=String(c).match(ku))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),wr(this,y[4]),this.h=Ei(y[5]||"",!0),Ko(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new Rr(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ds(y,wa,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ds(y,wa,!0),"@"),c.push(Hi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ds(E,E.charAt(0)=="/"?Yo:Lu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ds(E,ju)),c.join("")},vn.prototype.resolve=function(c){const y=wt(this);let E=!!c.j;E?Lt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var w=c.h;if(E)wr(y,c.u);else if(E=!!c.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var q=y.h.lastIndexOf("/");q!=-1&&(w=y.h.slice(0,q+1)+w)}if(q=w,q==".."||q==".")w="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){w=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let oe=0;oe<q.length;){const Ae=q[oe++];Ae=="."?w&&oe==q.length&&K.push(""):Ae==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),w&&oe==q.length&&K.push("")):(K.push(Ae),w=!0)}w=K.join("/")}else w=q}return E?y.h=w:E=c.i.toString()!=="",E?Ko(y,zu(c.i)):E=!!c.m,E&&(y.m=c.m),y};function wt(c){return new vn(c)}function Lt(c,y,E){c.j=E?Ei(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ko(c,y,E){y instanceof Rr?(c.i=y,Ra(c.i,c.l)):(E||(y=Ds(y,Ar)),c.i=new Rr(y,c.l))}function Ke(c,y,E){c.i.set(y,E)}function Ns(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ds(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,an),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var wa=/[#\/\?@]/g,Lu=/[#\?:]/g,Yo=/[#\?]/g,Ar=/[#\?@]/g,ju=/#/g;function Rr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&Sa(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=Rr.prototype,r.add=function(c,y){on(this),this.i=null,c=xr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Uu(c,y){on(c),y=xr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $o(c,y){return on(c),y=xr(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(E,w){E.forEach(function(q){c.call(y,q,w,this)},this)},this)};function Xo(c,y){on(c);let E=[];if(typeof y=="string")$o(c,y)&&(E=E.concat(c.g.get(xr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return on(this),this.i=null,c=xr(this,c),$o(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Xo(this,c),c.length>0?String(c[0]):y):y};function Aa(c,y,E){Uu(c,y),E.length>0&&(c.i=null,c.g.set(xr(c,y),M(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let w=0;w<y.length;w++){var E=y[w];const q=Hi(E);E=Xo(this,E);for(let K=0;K<E.length;K++){let oe=q;E[K]!==""&&(oe+="="+Hi(E[K])),c.push(oe)}}return this.i=c.join("&")};function zu(c){const y=new Rr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function xr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ra(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(E,w){const q=w.toLowerCase();w!=q&&(Uu(this,w),Aa(this,q,E))},c)),c.j=y}function $n(c,y){const E=new Qn;if(f.Image){const w=new Image;w.onload=T(Dn,E,"TestLoadImage: loaded",!0,y,w),w.onerror=T(Dn,E,"TestLoadImage: error",!1,y,w),w.onabort=T(Dn,E,"TestLoadImage: abort",!1,y,w),w.ontimeout=T(Dn,E,"TestLoadImage: timeout",!1,y,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Wo(c,y){const E=new Qn,w=new AbortController,q=setTimeout(()=>{w.abort(),Dn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(q),K.ok?Dn(E,"TestPingServer: ok",!0,y):Dn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Dn(E,"TestPingServer: error",!1,y)})}function Dn(c,y,E,w,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),w(E)}catch{}}function Cr(){this.g=new xu}function Ti(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ti,Cu),Ti.prototype.g=function(){return new Os(this.i,this.h)};function Os(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Os,Et),r=Os.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ir(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Ir(this):Xn(this),this.readyState==3&&xa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Ir(this))},r.Na=function(c){this.g&&(this.response=c,Ir(this))},r.ga=function(){this.g&&Ir(this)};function Ir(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let y="";return ke(c,function(E,w){y+=w,y+=":",y+=E,y+=`\r
`}),y}function Ms(c,y,E){e:{for(w in E){var w=!1;break e}w=!0}w||(E=On(E),typeof c=="string"?E!=null&&Hi(E):Ke(c,y,E))}function Xe(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,Et);var bi=/^https?$/i,Zo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Vs(this,K);return}if(c=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var q in w)E.set(q,w[q]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())E.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),q=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Zo,y,void 0)>=0)||w||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of E)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Vs(this,K)}};function Vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Jo(c),Fi(c)}function Jo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},r.Xa=function(){Ps(this)};function Ps(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var w;if(w=K===0){let oe=String(c.D).match(ku)[1]||null;!oe&&f.self&&f.self.location&&(oe=f.self.location.protocol.slice(0,-1)),w=!bi.test(oe?oe.toLowerCase():"")}E=w}if(E)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var q=Wn(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Jo(c)}}finally{Fi(c)}}}}function Fi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Mt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(c){const y={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(I(c[w]))continue;var E=Mu(c[w]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=y[q]||[];y[q]=K,K.push(E)}He(y,function(w){return w.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new Cr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Nr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,w){Tt(0),this.W=c,this.H=y||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Ku(this,null,this.W),wi(this)};function el(c){if(Ca(c),c.I==3){var y=c.V++,E=wt(c.J);if(Ke(E,"SID",c.M),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),ks(c,E),y=new Kn(c,c.j,y),y.M=2,y.A=Ns(wt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.A,E=!0),E||(y.g=Yu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pi(y)}Qu(c)}function Dr(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function Ca(c){Dr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function wi(c){if(!Ho(c.h)&&!c.m){c.m=!0;var y=c.Ea;ae||R(),ce||(ae(),ce=!0),x.add(y,c),c.D=0}}function Ia(c,y){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(g(c.Ea,c,y),Gu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Kn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=k(K),re(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=Bu(this,q,y),E=wt(this.J),Ke(E,"RID",c),Ke(E,"CVER",22),this.G&&Ke(E,"X-HTTP-Session-Id",this.G),ks(this,E),K&&(this.R?y="headers="+Hi(On(K))+"&"+y:this.u&&Ms(E,this.u,K)),Fo(this.h,q),this.Ra&&Ke(E,"TYPE","init"),this.S?(Ke(E,"$req",y),Ke(E,"SID","null"),q.U=!0,mi(q,E,null)):mi(q,E,y),this.I=2}}else this.I==3&&(c?tl(this,c):this.i.length==0||Ho(this.h)||tl(this))};function tl(c,y){var E;y?E=y.l:E=c.V++;const w=wt(c.J);Ke(w,"SID",c.M),Ke(w,"RID",E),Ke(w,"AID",c.K),ks(c,w),c.u&&c.o&&Ms(w,c.u,c.o),E=new Kn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Bu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Fo(c.h,E),mi(E,w,y)}function ks(c,y){c.H&&ke(c.H,function(E,w){Ke(y,w,E)}),c.l&&ke({},function(E,w){Ke(y,w,E)})}function Bu(c,y,E){E=Math.min(c.i.length,E);const w=c.l?g(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ae=-1;for(;;){const gt=["count="+E];Ae==-1?E>0?(Ae=q[0].g,gt.push("ofs="+Ae)):Ae=0:gt.push("ofs="+Ae);let Fe=!0;for(let at=0;at<E;at++){var K=q[at].g;const Mn=q[at].map;if(K-=Ae,K<0)Ae=Math.max(0,q[at].g-100),Fe=!1;else try{K="req"+K+"_"||"";try{var oe=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ri,Zn]of oe){let Jn=Zn;m(Zn)&&(Jn=Sr(Zn)),gt.push(K+Ri+"="+encodeURIComponent(Jn))}}catch(Ri){throw gt.push(K+"type="+encodeURIComponent("_badmap")),Ri}}catch{w&&w(Mn)}}if(Fe){oe=gt.join("&");break e}}oe=void 0}return c=c.i.splice(0,E),y.G=c,oe}function qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ae||R(),ce||(ae(),ce=!0),x.add(y,c),c.A=0}}function Ls(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(g(c.Da,c),Gu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Dr(this),Hu(this))};function nl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=wt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),ks(c,y),c.u&&c.o&&Ms(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ns(wt(y)),E.u=null,E.R=!0,Ta(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Dr(this),Ls(this),Tt(19))};function Na(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Fu(c,y){var E=null;if(c.g==y){Na(c),nl(c),c.g=null;var w=2}else if(vi(c.h,y))E=y.G,Go(c.h,y),w=1;else return;if(c.I!=0){if(y.o)if(w==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var q=c.D;w=Ea(),Mt(w,new hi(w,E)),wi(c)}else qu(c);else if(q=y.m,q==3||q==0&&y.X>0||!(w==1&&Ia(c,y)||w==2&&Ls(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),q){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function Gu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ai(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),w=c.Ua;const q=!w;w=new vn(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(w,"https"),Ns(w),q?$n(w.toString(),E):Wo(w.toString(),E)}else Tt(2);c.I=0,c.l&&c.l.pa(y),Qu(c),Ca(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Qu(c){if(c.I=0,c.ja=[],c.l){const y=Qo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ja,y),z(c.ja,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,E){var w=E instanceof vn?wt(E):new vn(E);if(w.g!="")y&&(w.g=y+"."+w.g),wr(w,w.u);else{var q=f.location;w=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;const K=new vn(null);w&&Lt(K,w),y&&(K.g=y),q&&wr(K,q),E&&(K.h=E),w=K}return E=c.G,y=c.wa,E&&y&&Ke(w,E,y),Ke(w,"VER",c.ka),ks(c,w),w}function Yu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Ti({ab:E})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}r=$u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Or(){}Or.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){Et.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Qi(this)}b(tn,Et),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){el(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Sr(c),c=E);y.i.push(new St(y.Ya++,c)),y.I==3&&wi(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,tn.Z.N.call(this)};function Xu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Xu,zt);function Wu(){In.call(this),this.status=1}b(Wu,In);function Qi(c){this.g=c}b(Qi,$u),Qi.prototype.ra=function(){Mt(this.g,"a")},Qi.prototype.qa=function(c){Mt(this.g,new Xu(c))},Qi.prototype.pa=function(c){Mt(this.g,new Wu)},Qi.prototype.oa=function(){Mt(this.g,"b")},Or.prototype.createWebChannel=Or.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,HT=function(){return new Or},qT=function(){return Ea()},BT=pt,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,mh=Cs,zo.COMPLETE="complete",zT=zo,Iu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Fl=Iu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,UT=Xe}).apply(typeof ih<"u"?ih:typeof self<"u"?self:typeof window<"u"?window:{});const x0="@firebase/firestore",C0="4.9.2";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Io="12.3.0";const ca=new gp("@firebase/firestore");function oo(){return ca.logLevel}function fe(r,...e){if(ca.logLevel<=Me.DEBUG){const n=e.map(xp);ca.debug(`Firestore (${Io}): ${r}`,...n)}}function gr(r,...e){if(ca.logLevel<=Me.ERROR){const n=e.map(xp);ca.error(`Firestore (${Io}): ${r}`,...n)}}function _o(r,...e){if(ca.logLevel<=Me.WARN){const n=e.map(xp);ca.warn(`Firestore (${Io}): ${r}`,...n)}}function xp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,FT(r,s,n)}function FT(r,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw gr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||FT(e,o,s)}function we(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class fr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class GT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class B2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class q2{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new GT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class H2{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class F2{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new H2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Q2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Q2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Gm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return xm(o)===xm(u)?Ve(o,u):xm(o)?1:-1}return Ve(r.length,e.length)}const K2=55296,Y2=57343;function xm(r){const e=r.charCodeAt(0);return e>=K2&&e<=Y2}function vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const N0="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class tt extends Di{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const $2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Di{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return $2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new Kt([N0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}function Ip(r,e,n){if(!n)throw new he(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function X2(r,e,n,s){if(e===!0&&s===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function D0(r){if(!_e.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function O0(r){if(_e.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function QT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function $h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function pn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$h(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function vu(r,e){if(!QT(r))throw new he(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(J.INVALID_ARGUMENT,n);return!0}const M0=-62135596800,V0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*V0);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<M0)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Dt("string",rt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function W2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new fs(o,_e.empty(),e)}function Z2(r){return new fs(r.readTime,r.key,iu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(be.min(),_e.empty(),iu)}static max(){return new fs(be.max(),_e.empty(),iu)}}function J2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const eI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function No(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==eI)throw r;fe("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{f[g]=T,++m,m===u&&s(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function nI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(r){return r.name==="IndexedDbTransactionError"}class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;const Np=-1;function Wh(r){return r==null}function Nh(r){return r===0&&1/r==-1/0}function iI(r){return typeof r=="number"&&Number.isInteger(r)&&!Nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const KT="";function rI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=P0(e)),e=sI(r.get(n),e);return P0(e)}function sI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case KT:n+="";break;default:n+=u}}return n}function P0(r){return r+KT+""}function k0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function YT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rh(this.root,e,this.comparator,!1)}getReverseIterator(){return new rh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rh(this.root,e,this.comparator,!0)}}class rh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class $T extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $T("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const aI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=aI.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const XT="server_timestamp",WT="__type__",ZT="__previous_value__",JT="__local_write_time__";function Dp(r){return(r?.mapValue?.fields||{})[WT]?.stringValue===XT}function Zh(r){const e=r.mapValue.fields[ZT];return Dp(e)?Zh(e):e}function ru(r){const e=ds(r.mapValue.fields[JT].timestampValue);return new rt(e.seconds,e.nanos)}class oI{constructor(e,n,s,o,u,f,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const Dh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}const eb="__type__",lI="__max__",sh={mapValue:{}},tb="__vector__",Oh="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dp(r)?4:cI(r)?9007199254740991:uI(r)?10:11:Te(28295,{value:r})}function zi(r,e){if(r===e)return!0;const n=ps(r);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ds(o.timestampValue),m=ds(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Nh(f)===Nh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],zi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(k0(f)!==k0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!zi(f[p],m[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function au(r,e){return(r.values||[]).find((n=>zi(n,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const n=ps(r),s=ps(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return j0(r.timestampValue,e.timestampValue);case 4:return j0(ru(r),ru(e));case 5:return Gm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ms(u),p=ms(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Ve(m[g],p[g]);if(T!==0)return T}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(vt(u.latitude),vt(f.latitude));return m!==0?m:Ve(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return U0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Oh]?.arrayValue,T=p[Oh]?.arrayValue,b=Ve(g?.values?.length||0,T?.values?.length||0);return b!==0?b:U0(g,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const A=Gm(p[b],T[b]);if(A!==0)return A;const M=Eo(m[p[b]],g[T[b]]);if(M!==0)return M}return Ve(p.length,T.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function j0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ds(r),s=ds(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function U0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function To(r){return Qm(r)}function Qm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ms(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Qm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Qm(n.fields[f])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function ph(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(r);return e?16+ph(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+ph(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Es(s.fields,((u,f)=>{o+=u.length+ph(f)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function z0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Km(r){return!!r&&"integerValue"in r}function Op(r){return!!r&&"arrayValue"in r}function B0(r){return!!r&&"nullValue"in r}function q0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function gh(r){return!!r&&"mapValue"in r}function uI(r){return(r?.mapValue?.fields||{})[eb]?.stringValue===tb}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return e}return{...r}}function cI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lI}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return zi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];gh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Es(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Xl(this.value))}}function nb(r){const e=[];return Es(r.fields,((n,s)=>{const o=new Kt([n]);if(gh(s)){const u=nb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Cn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,be.min(),be.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,be.min(),be.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function H0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=Eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function F0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!zi(r.position[n],e.position[n]))return!1;return!0}class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function hI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ib{}class Nt extends ib{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new dI(e,n,s):n==="array-contains"?new gI(e,s):n==="in"?new yI(e,s):n==="not-in"?new _I(e,s):n==="array-contains-any"?new vI(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new mI(e,s):new pI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class oi extends ib{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new oi(e,n)}matches(e){return rb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rb(r){return r.op==="and"}function sb(r){return fI(r)&&rb(r)}function fI(r){for(const e of r.filters)if(e instanceof oi)return!1;return!0}function Ym(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(sb(r))return r.filters.map((e=>Ym(e))).join(",");{const e=r.filters.map((n=>Ym(n))).join(",");return`${r.op}(${e})`}}function ab(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&zi(s.value,o.value)})(r,e):r instanceof oi?(function(s,o){return o instanceof oi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&ab(f,o.filters[m])),!0):!1})(r,e):void Te(19439)}function ob(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(r):r instanceof oi?(function(n){return n.op.toString()+" {"+n.getFilters().map(ob).join(" ,")+"}"})(r):"Filter"}class dI extends Nt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class mI extends Nt{constructor(e,n){super(e,"in",n),this.keys=lb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class pI extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=lb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function lb(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class gI extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&au(n.arrayValue,this.value)}}class yI extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class _I extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class vI extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class EI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function G0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new EI(r,e,n,s,o,u,f)}function Mp(r){const e=we(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Ym(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function Vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!hI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ab(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!F0(r.startAt,e.startAt)&&F0(r.endAt,e.endAt)}function $m(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Oo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function TI(r,e,n,s,o,u,f,m){return new Oo(r,e,n,s,o,u,f,m)}function Jh(r){return new Oo(r)}function Q0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ub(r){return r.collectionGroup!==null}function Wl(r){const e=we(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Vh(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Vh(Kt.keyField(),s))}return e.Ie}function Pi(r){const e=we(r);return e.Ee||(e.Ee=bI(e,Wl(r))),e.Ee}function bI(r,e){if(r.limitType==="F")return G0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)}));const n=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return G0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Xm(r,e){const n=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Wm(r,e,n){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function ef(r,e){return Vp(Pi(r),Pi(e))&&r.limitType===e.limitType}function cb(r){return`${Mp(Pi(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>ob(o))).join(", ")}]`),Wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Pi(r))}; limitType=${r.limitType})`}function tf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=H0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(f,m,p){const g=H0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Wl(s),o))})(r,e)}function SI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hb(r){return(e,n)=>{let s=!1;for(const o of Wl(r)){const u=wI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function wI(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return YT(this.inner)}size(){return this.innerSize}}const AI=new ut(_e.comparator);function yr(){return AI}const fb=new ut(_e.comparator);function Gl(...r){let e=fb;for(const n of r)e=e.insert(n.key,n);return e}function db(r){let e=fb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function na(){return Zl()}function mb(){return Zl()}function Zl(){return new ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const RI=new ut(_e.comparator),xI=new Pt(_e.comparator);function Pe(...r){let e=xI;for(const n of r)e=e.add(n);return e}const CI=new Pt(Ve);function II(){return CI}function Pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function pb(r){return{integerValue:""+r}}function NI(r,e){return iI(e)?pb(e):Pp(r,e)}class nf{constructor(){this._=void 0}}function DI(r,e,n){return r instanceof Ph?(function(o,u){const f={fields:{[WT]:{stringValue:XT},[JT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Zh(u)),u&&(f.fields[ZT]=u),{mapValue:f}})(n,e):r instanceof ou?yb(r,e):r instanceof lu?_b(r,e):(function(o,u){const f=gb(o,u),m=K0(f)+K0(o.Ae);return Km(f)&&Km(o.Ae)?pb(m):Pp(o.serializer,m)})(r,e)}function OI(r,e,n){return r instanceof ou?yb(r,e):r instanceof lu?_b(r,e):n}function gb(r,e){return r instanceof kh?(function(s){return Km(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ph extends nf{}class ou extends nf{constructor(e){super(),this.elements=e}}function yb(r,e){const n=vb(e);for(const s of r.elements)n.some((o=>zi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends nf{constructor(e){super(),this.elements=e}}function _b(r,e){let n=vb(e);for(const s of r.elements)n=n.filter((o=>!zi(o,s)));return{arrayValue:{values:n}}}class kh extends nf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K0(r){return vt(r.integerValue||r.doubleValue)}function vb(r){return Op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function MI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?vo(s.elements,o.elements,zi):s instanceof kh&&o instanceof kh?zi(s.Ae,o.Ae):s instanceof Ph&&o instanceof Ph})(r.transform,e.transform)}class VI{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rf{}function Eb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new kp(r.key,si.none()):new Eu(r.key,r.data,si.none());{const n=r.data,s=mn.empty();let o=new Pt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ts(r.key,s,new Cn(o.toArray()),si.none())}}function PI(r,e,n){r instanceof Eu?(function(o,u,f){const m=o.value.clone(),p=$0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ts?(function(o,u,f){if(!yh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Tb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Jl(r,e,n,s){return r instanceof Eu?(function(u,f,m,p){if(!yh(u.precondition,f))return m;const g=u.value.clone(),T=X0(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ts?(function(u,f,m,p){if(!yh(u.precondition,f))return m;const g=X0(u.fieldTransforms,p,f),T=f.data;return T.setAll(Tb(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function kI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=gb(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function Y0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,f)=>MI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Eu extends rf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends rf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Tb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function $0(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,OI(f,m,n[o]))}return s}function X0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,DI(u,f,e))}return s}class kp extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LI extends rf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&PI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=mb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Eb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>Y0(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>Y0(n,s)))}}class Lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return RI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Lp(e,n,s,o)}}class UI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zI{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,Ue;function BI(r){switch(r){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function bb(r){if(r===void 0)return gr("GRPC error has no .code"),J.UNKNOWN;switch(r){case It.OK:return J.OK;case It.CANCELLED:return J.CANCELLED;case It.UNKNOWN:return J.UNKNOWN;case It.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case It.INTERNAL:return J.INTERNAL;case It.UNAVAILABLE:return J.UNAVAILABLE;case It.UNAUTHENTICATED:return J.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case It.NOT_FOUND:return J.NOT_FOUND;case It.ALREADY_EXISTS:return J.ALREADY_EXISTS;case It.PERMISSION_DENIED:return J.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case It.ABORTED:return J.ABORTED;case It.OUT_OF_RANGE:return J.OUT_OF_RANGE;case It.UNIMPLEMENTED:return J.UNIMPLEMENTED;case It.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:r})}}(Ue=It||(It={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";function qI(){return new TextEncoder}const HI=new cs([4294967295,4294967295],0);function W0(r){const e=qI().encode(r),n=new jT;return n.update(e),new Uint8Array(n.digest())}function Z0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new cs([n,s],0),new cs([o,u],0)]}class jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=cs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(cs.fromNumber(s)));return o.compare(HI)===1&&(o=new cs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=W0(e),[s,o]=Z0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new jp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=W0(e),[s,o]=Z0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new sf(be.min(),o,new ut(Ve),yr(),Pe())}}class Tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,Pe(),Pe(),Pe())}}class _h{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Sb{constructor(e,n){this.targetId=e,this.Ce=n}}class wb{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class J0{constructor(){this.ve=0,this.Fe=eE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new Tu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=eE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class FI{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.Je=ah(),this.He=ah(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if($m(u))if(s===0){const f=new _e(u.path);this.et(n,f,Zt.newNoDocument(f,be.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ms(s).toUint8Array()}catch(p){if(p instanceof $T)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new jp(f,o,u)}catch(p){return _o(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&$m(m.target)){const p=new _e(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new sf(e,n,this.Ye,this.je,s);return this.je=yr(),this.Je=ah(),this.He=ah(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new J0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ah(){return new ut(_e.comparator)}function eE(){return new ut(_e.comparator)}const GI={asc:"ASCENDING",desc:"DESCENDING"},QI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},KI={and:"AND",or:"OR"};class YI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zm(r,e){return r.useProto3Json||Wh(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ab(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $I(r,e){return Lh(r,e.toTimestamp())}function ki(r){return Qe(!!r,49232),be.fromTimestamp((function(n){const s=ds(n);return new rt(s.seconds,s.nanos)})(r))}function Up(r,e){return Jm(r,e).canonicalString()}function Jm(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function Rb(r){const e=tt.fromString(r);return Qe(Db(e),10190,{key:e.toString()}),e}function ep(r,e){return Up(r.databaseId,e.path)}function Cm(r,e){const n=Rb(e);if(n.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(Cb(n))}function xb(r,e){return Up(r.databaseId,e)}function XI(r){const e=Rb(r);return e.length===4?tt.emptyPath():Cb(e)}function tp(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Cb(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function tE(r,e,n){return{name:ep(r,e),fields:n.value.mapValue.fields}}function WI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Qe(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const T=g.code===void 0?J.UNKNOWN:bb(g.code);return new he(T,g.message||"")})(f);n=new wb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(r,s.document.name),u=ki(s.document.updateTime),f=s.document.createTime?ki(s.document.createTime):be.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new _h(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cm(r,s.document),u=s.readTime?ki(s.readTime):be.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new _h([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cm(r,s.document),u=s.removedTargetIds||[];n=new _h([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new zI(o,u),m=s.targetId;n=new Sb(m,f)}}return n}function ZI(r,e){let n;if(e instanceof Eu)n={update:tE(r,e.key,e.value)};else if(e instanceof kp)n={delete:ep(r,e.key)};else if(e instanceof Ts)n={update:tE(r,e.key,e.data),updateMask:oN(e.fieldMask)};else{if(!(e instanceof LI))return Te(16599,{Vt:e.type});n={verify:ep(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:$I(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function JI(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ki(o.updateTime):ki(u);return f.isEqual(be.min())&&(f=ki(u)),new VI(f,o.transformResults||[])})(n,e)))):[]}function eN(r,e){return{documents:[xb(r,e.path)]}}function tN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=xb(r,o);const u=(function(g){if(g.length!==0)return Nb(oi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((T=>(function(A){return{field:uo(A.field),direction:rN(A.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Zm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function nN(r){let e=XI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const A=Ib(b);return A instanceof oi&&sb(A)?A.getFilters():[A]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((A=>(function(z){return new Vh(co(z.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(z.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let A;return A=typeof b=="object"?b.value:b,Wh(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(b){const A=!!b.before,M=b.values||[];return new Mh(M,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const A=!b.before,M=b.values||[];return new Mh(M,A)})(n.endAt)),TI(e,o,f,u,m,"F",p,g)}function iN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ib(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=co(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return oi.create(n.compositeFilter.filters.map((s=>Ib(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function rN(r){return GI[r]}function sN(r){return QI[r]}function aN(r){return KI[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return Kt.fromServerFormat(r.fieldPath)}function Nb(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(q0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(B0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(B0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:sN(n.op),value:n.value}}})(r):r instanceof oi?(function(n){const s=n.getFilters().map((o=>Nb(o)));return s.length===1?s[0]:{compositeFilter:{op:aN(n.op),filters:s}}})(r):Te(54877,{filter:r})}function oN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Db(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class as{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lN{constructor(e){this.yt=e}}function uN(r){const e=nN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Wm(e,e.limit,"L"):e}class cN{constructor(){this.Cn=new hN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(fs.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class hN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(tt.comparator)).toArray()}}const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ob=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Ob,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}const iE="LruGarbageCollector",fN=1048576;function rE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class dN{constructor(e){this.Ir=e,this.buffer=new Pt(rE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();rE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(iE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?fe(iE,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Vr(3e5)}))}}class pN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Xh.ce);const s=new dN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(nE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),oo()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function gN(r,e){return new pN(r,e)}class yN{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _N{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,Cn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Gl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=yr();const f=Zl(),m=(function(){return Zl()})();return n.forEach(((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof Ts)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Jl(T.mutation,g,T.mutation.getFieldMask(),rt.now())):f.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>f.set(g,T))),n.forEach(((g,T)=>m.set(g,new _N(T,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new ut(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||Cn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=mb();T.forEach((A=>{if(!u.has(A)){const M=Eb(n.get(A),s.get(A));M!==null&&b.set(A,M),u=u.add(A)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return _e.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ub(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(na());let m=iu,p=u;return f.next((g=>te.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?te.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{p=p.insert(T,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((T=>({batchId:m,changes:db(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(b,A){return new Oo(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((T=>{T.forEach(((b,A)=>{f=f.insert(b,A)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))}));let m=Gl();return f.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&Jl(T.mutation,g,Cn.empty(),rt.now()),tf(n,g)&&(m=m.insert(p,g))})),m}))}}class EN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:uN(o.bundledQuery),readTime:ki(o.readTime)}})(n)),te.resolve()}}class TN{constructor(){this.overlays=new ut(_e.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,T)=>g-T));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=na(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new UI(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class bN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class zp{constructor(){this.Qr=new Pt(Ut.$r),this.Ur=new Pt(Ut.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Ut(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new tt([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Ut(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}class SN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(Ut.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jI(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Np:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ve);return n.forEach((o=>{const u=new Ut(o,0),f=new Ut(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Ut(new _e(u),0);let m=new Pt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class wN{constructor(e){this.ri=e,this.docs=(function(){return new ut(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=yr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=yr();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||J2(Z2(T),s)<=0||(o.has(T.key)||tf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new AN(this)}getSize(e){return te.resolve(this.size)}}class AN extends yN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class RN{constructor(e){this.persistence=e,this.si=new ma((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new zp,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class Mb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new bN,this.referenceDelegate=e(this),this.Pi=new RN(this),this.indexManager=new cN,this.remoteDocumentCache=(function(o){return new wN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new lN(n),this.Ii=new EN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new SN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new xN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class xN extends tI{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.Ri=new zp,this.Vi=null}static mi(e){return new Bp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.pi=new ma((s=>rI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=gN(this,n)}static mi(e,n){return new jh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class qp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qp(e,n.fromCache,s,o)}}class CN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class IN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return eR()?8:nI(Jt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new CN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(oo()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(oo()<=Me.DEBUG&&fe("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pi(n))):te.resolve())}ys(e,n){if(Q0(n))return te.resolve(null);let s=Pi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Wm(n,null,"F"),s=Pi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Wm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return Q0(n)||o.isEqual(be.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(oo()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,f,n,W2(o,iu)).next((m=>m)))}))}Ds(e,n){let s=new Pt(hb(e));return n.forEach(((o,u)=>{tf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return oo()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,fs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Hp="LocalStore",NN=3e8;class DN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new ma((u=>Mp(u)),Vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function ON(r,e,n,s){return new DN(r,e,n,s)}async function Vb(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function MN(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const b=g.batch,A=b.keys();let M=te.resolve();return A.forEach((z=>{M=M.next((()=>T.getEntry(p,z))).next((B=>{const U=g.docVersions.get(z);Qe(U!==null,48541),B.version.compareTo(U)<0&&(b.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),T.addEntry(B)))}))})),M.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Pb(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function VN(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,b)=>{const A=o.get(b);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,b))));let M=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(b,M),(function(B,U,Z){return B.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=NN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(A,M,T)&&m.push(n.Pi.updateTargetData(u,M))}));let p=yr(),g=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(PN(u,f,e.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!s.isEqual(be.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function PN(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=yr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(Hp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function kN(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function LN(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new as(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function np(r,e,n){const s=we(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Do(f))throw f;fe(Hp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function sE(r,e,n){const s=we(r);let o=be.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,T){const b=we(p),A=b.xs.get(T);return A!==void 0?te.resolve(b.Ms.get(A)):b.Pi.getTargetData(g,T)})(s,f,Pi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Pe()))).next((m=>(jN(s,SI(e),m),{documents:m,Qs:u})))))}function jN(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class aE{constructor(){this.activeTargetIds=II()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(){this.Mo=new aE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zN{Oo(e){}shutdown(){}}const oE="ConnectivityMonitor";class lE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(oE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let oh=null;function ip(){return oh===null?oh=(function(){return 268435456+Math.round(2147483648*Math.random())})():oh++,"0x"+oh.toString(16)}const Im="RestConnection",BN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=ip(),m=this.zo(e,n.toUriEncodedString());fe(Im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),T=Ro(g);return this.Jo(e,m,p,s,T).then((b=>(fe(Im,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw _o(Im,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=BN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class HN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class FN extends qN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=ip();return new Promise(((m,p)=>{const g=new UT;g.setWithCredentials(!0),g.listenOnce(zT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case mh.NO_ERROR:const b=g.getResponseJson();fe(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case mh.TIMEOUT:fe(Xt,`RPC '${e}' ${f} timed out`),p(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const A=g.getStatus();if(fe(Xt,`RPC '${e}' ${f} failed with status:`,A,"response text:",g.getResponseText()),A>0){let M=g.getResponseJson();Array.isArray(M)&&(M=M[0]);const z=M?.error;if(z&&z.status&&z.message){const B=(function(Z){const ne=Z.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ne)>=0?ne:J.UNKNOWN})(z.status);p(new he(B,z.message))}else p(new he(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(Xt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);fe(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=ip(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=HT(),m=qT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");fe(Xt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);this.I_(b);let A=!1,M=!1;const z=new HN({Yo:U=>{M?fe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(A||(fe(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),A=!0),fe(Xt,`RPC '${e}' stream ${o} sending:`,U),b.send(U))},Zo:()=>b.close()}),B=(U,Z,ne)=>{U.listen(Z,(ie=>{try{ne(ie)}catch(se){setTimeout((()=>{throw se}),0)}}))};return B(b,Fl.EventType.OPEN,(()=>{M||(fe(Xt,`RPC '${e}' stream ${o} transport opened.`),z.o_())})),B(b,Fl.EventType.CLOSE,(()=>{M||(M=!0,fe(Xt,`RPC '${e}' stream ${o} transport closed`),z.a_(),this.E_(b))})),B(b,Fl.EventType.ERROR,(U=>{M||(M=!0,_o(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,U.name,"Message:",U.message),z.a_(new he(J.UNAVAILABLE,"The operation could not be completed")))})),B(b,Fl.EventType.MESSAGE,(U=>{if(!M){const Z=U.data[0];Qe(!!Z,16349);const ne=Z,ie=ne?.error||ne[0]?.error;if(ie){fe(Xt,`RPC '${e}' stream ${o} received error:`,ie);const se=ie.status;let ae=(function(R){const C=It[R];if(C!==void 0)return bb(C)})(se),ce=ie.message;ae===void 0&&(ae=J.INTERNAL,ce="Unknown error status: "+se+" with message "+ie.message),M=!0,z.a_(new he(ae,ce)),b.close()}else fe(Xt,`RPC '${e}' stream ${o} received:`,Z),z.u_(Z)}})),B(m,BT.STAT_EVENT,(U=>{U.stat===Fm.PROXY?fe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Fm.NOPROXY&&fe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{z.__()}),0),z}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}function af(r){return new YI(r,!0)}class kb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const uE="PersistentStream";class Lb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GN extends Lb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=WI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?ki(f.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=tp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=$m(p)?{documents:eN(u,p)}:{query:tN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ab(u,f.resumeToken);const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Lh(u,f.snapshotVersion.toTimestamp());const g=Zm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=iN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.q_(n)}}class QN extends Lb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JI(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=tp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>ZI(this.serializer,s)))};this.q_(n)}}class KN{}class YN extends KN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Jm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Jm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class $N{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class XN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{pa(this)&&(fe(ha,"Restarting streams for network reachability change."),await(async function(p){const g=we(p);g.Ea.add(4),await bu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await of(g)})(this))}))})),this.Ra=new $N(s,o)}}async function of(r){if(pa(r))for(const e of r.da)await e(!0)}async function bu(r){for(const e of r.da)await e(!1)}function jb(r,e){const n=we(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?Qp(n):Mo(n).O_()&&Gp(n,e))}function Fp(r,e){const n=we(r),s=Mo(n);n.Ia.delete(e),s.O_()&&Ub(n,e),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Ra.set("Unknown"))}function Gp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).Y_(e)}function Ub(r,e){r.Va.Ue(e),Mo(r).Z_(e)}function Qp(r){r.Va=new FI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Ra.ua()}function Kp(r){return pa(r)&&!Mo(r).x_()&&r.Ia.size>0}function pa(r){return we(r).Ea.size===0}function zb(r){r.Va=void 0}async function WN(r){r.Ra.set("Online")}async function ZN(r){r.Ia.forEach(((e,n)=>{Gp(r,e)}))}async function JN(r,e){zb(r),Kp(r)?(r.Ra.ha(e),Qp(r)):r.Ra.set("Unknown")}async function eD(r,e,n){if(r.Ra.set("Online"),e instanceof wb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){fe(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Uh(r,s)}else if(e instanceof _h?r.Va.Ze(e):e instanceof Sb?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await Pb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),Ub(u,p);const b=new as(T.target,p,g,T.sequenceNumber);Gp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){fe(ha,"Failed to raise snapshot:",s),await Uh(r,s)}}async function Uh(r,e,n){if(!Do(e))throw e;r.Ea.add(1),await bu(r),r.Ra.set("Offline"),n||(n=()=>Pb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(ha,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await of(r)}))}function Bb(r,e){return e().catch((n=>Uh(r,n,e)))}async function lf(r){const e=we(r),n=gs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;tD(e);)try{const o=await kN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,nD(e,o)}catch(o){await Uh(e,o)}qb(e)&&Hb(e)}function tD(r){return pa(r)&&r.Ta.length<10}function nD(r,e){r.Ta.push(e);const n=gs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function qb(r){return pa(r)&&!gs(r).x_()&&r.Ta.length>0}function Hb(r){gs(r).start()}async function iD(r){gs(r).ra()}async function rD(r){const e=gs(r);for(const n of r.Ta)e.ea(n.mutations)}async function sD(r,e,n){const s=r.Ta.shift(),o=Lp.from(s,e,n);await Bb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await lf(r)}async function aD(r,e){e&&gs(r).X_&&await(async function(s,o){if((function(f){return BI(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();gs(s).B_(),await Bb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await lf(s)}})(r,e),qb(r)&&Hb(r)}async function cE(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),fe(ha,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await bu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await of(n)}async function oD(r,e){const n=we(r);e?(n.Ea.delete(2),await of(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function Mo(r){return r.ma||(r.ma=(function(n,s,o){const u=we(n);return u.sa(),new GN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:WN.bind(null,r),t_:ZN.bind(null,r),r_:JN.bind(null,r),H_:eD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Kp(r)?Qp(r):r.Ra.set("Unknown")):(await r.ma.stop(),zb(r))}))),r.ma}function gs(r){return r.fa||(r.fa=(function(n,s,o){const u=we(n);return u.sa(),new QN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:iD.bind(null,r),r_:aD.bind(null,r),ta:rD.bind(null,r),na:sD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await lf(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(ha,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Yp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Yp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(r,e){if(gr("AsyncQueue",`${e}: ${r}`),Do(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class hE{constructor(){this.ga=new ut(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class So{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new So(e,n,go.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class lD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class uD{constructor(){this.queries=fE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=fE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(J.ABORTED,"Firestore shutting down"))}}function fE(){return new ma((r=>cb(r)),ef)}async function Xp(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new lD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=$p(f,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Zp(n)}async function Wp(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function cD(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Zp(n)}function hD(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Zp(r){r.Ca.forEach((e=>{e.next()}))}var rp,dE;(dE=rp||(rp={})).Ma="default",dE.Cache="cache";class Jp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rp.Cache}}class Fb{constructor(e){this.key=e}}class Gb{constructor(e){this.key=e}}class fD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=hb(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new hE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const A=o.get(T),M=tf(this.query,b)?b:null,z=!!A&&this.mutatedKeys.has(A.key),B=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let U=!1;A&&M?A.data.isEqual(M.data)?z!==B&&(s.track({type:3,doc:M}),U=!0):this.su(A,M)||(s.track({type:2,doc:M}),U=!0,(p&&this.eu(M,p)>0||g&&this.eu(M,g)<0)&&(m=!0)):!A&&M?(s.track({type:0,doc:M}),U=!0):A&&!M&&(s.track({type:1,doc:A}),U=!0,(p||g)&&(m=!0)),U&&(M?(f=f.add(M),u=B?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,b)=>(function(M,z){const B=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:U})}};return B(M)-B(z)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new So(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Gb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Fb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const eg="SyncEngine";class dD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class mD{constructor(e){this.key=e,this.hu=!1}}class pD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ma((m=>cb(m)),ef),this.Iu=new Map,this.Eu=new Set,this.du=new ut(_e.comparator),this.Au=new Map,this.Ru=new zp,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gD(r,e,n=!0){const s=Wb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Qb(s,e,n,!0),o}async function yD(r,e){const n=Wb(r);await Qb(n,e,!0,!1)}async function Qb(r,e,n,s){const o=await LN(r.localStore,Pi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await _D(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&jb(r.remoteStore,o),m}async function _D(r,e,n,s,o){r.pu=(b,A,M)=>(async function(B,U,Z,ne){let ie=U.view.ru(Z);ie.Cs&&(ie=await sE(B.localStore,U.query,!1).then((({documents:x})=>U.view.ru(x,ie))));const se=ne&&ne.targetChanges.get(U.targetId),ae=ne&&ne.targetMismatches.get(U.targetId)!=null,ce=U.view.applyChanges(ie,B.isPrimaryClient,se,ae);return pE(B,U.targetId,ce.au),ce.snapshot})(r,b,A,M);const u=await sE(r.localStore,e,!0),f=new fD(e,u.Qs),m=f.ru(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);pE(r,n,g.au);const T=new dD(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function vD(r,e,n){const s=we(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!ef(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fp(s.remoteStore,o.targetId),sp(s,o.targetId)})).catch(No)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function ED(r,e){const n=we(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fp(n.remoteStore,s.targetId))}async function TD(r,e,n){const s=CD(r);try{const o=await(function(f,m){const p=we(f),g=rt.now(),T=m.reduce(((M,z)=>M.add(z.key)),Pe());let b,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let z=yr(),B=Pe();return p.Ns.getEntries(M,T).next((U=>{z=U,z.forEach(((Z,ne)=>{ne.isValidDocument()||(B=B.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,z))).next((U=>{b=U;const Z=[];for(const ne of m){const ie=kI(ne,b.get(ne.key).overlayedDocument);ie!=null&&Z.push(new Ts(ne.key,ie,nb(ie.value.mapValue),si.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,Z,m)})).next((U=>{A=U;const Z=U.applyToLocalDocumentSet(b,B);return p.documentOverlayCache.saveOverlays(M,U.batchId,Z)}))})).then((()=>({batchId:A.batchId,changes:db(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await lf(s.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function Kb(r,e){const n=we(r);try{const s=await VN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await Su(n,s,e)}catch(s){await No(s)}}function mE(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=we(f);p.onlineState=m;let g=!1;p.queries.forEach(((T,b)=>{for(const A of b.Sa)A.va(m)&&(g=!0)})),g&&Zp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function bD(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(_e.comparator);f=f.insert(u,Zt.newNoDocument(u,be.min()));const m=Pe().add(u),p=new sf(be.min(),new Map,new ut(Ve),f,m);await Kb(s,p),s.du=s.du.remove(u),s.Au.delete(e),tg(s)}else await np(s.localStore,e,!1).then((()=>sp(s,e,n))).catch(No)}async function SD(r,e){const n=we(r),s=e.batch.batchId;try{const o=await MN(n.localStore,e);$b(n,s,null),Yb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await No(o)}}async function wD(r,e,n){const s=we(r);try{const o=await(function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Qe(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(s.localStore,e);$b(s,e,n),Yb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await No(o)}}function Yb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function $b(r,e,n){const s=we(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function sp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Xb(r,s)}))}function Xb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Fp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),tg(r))}function pE(r,e,n){for(const s of n)s instanceof Fb?(r.Ru.addReference(s.key,e),AD(r,s)):s instanceof Gb?(fe(eg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Xb(r,s.key)):Te(19791,{wu:s})}function AD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(fe(eg,"New document in limbo: "+n),r.Eu.add(s),tg(r))}function tg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new mD(n)),r.du=r.du.insert(n,s),jb(r.remoteStore,new as(Pi(Jh(n.path)),s,"TargetPurposeLimboResolution",Xh.ce))}}async function Su(r,e,n){const s=we(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=qp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(g,(A=>te.forEach(A.Es,(M=>T.persistence.referenceDelegate.addReference(b,A.targetId,M))).next((()=>te.forEach(A.ds,(M=>T.persistence.referenceDelegate.removeReference(b,A.targetId,M)))))))))}catch(b){if(!Do(b))throw b;fe(Hp,"Failed to update sequence numbers: "+b)}for(const b of g){const A=b.targetId;if(!b.fromCache){const M=T.Ms.get(A),z=M.snapshotVersion,B=M.withLastLimboFreeSnapshotVersion(z);T.Ms=T.Ms.insert(A,B)}}})(s.localStore,u))}async function RD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){fe(eg,"User change. New user:",e.toKey());const s=await Vb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ls)}}function xD(r,e){const n=we(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Wb(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bD.bind(null,e),e.Pu.H_=cD.bind(null,e.eventManager),e.Pu.yu=hD.bind(null,e.eventManager),e}function CD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wD.bind(null,e),e}class zh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ON(this.persistence,new IN,e.initialUser,this.serializer)}Cu(e){return new Mb(Bp.mi,this.serializer)}Du(e){return new UN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zh.provider={build:()=>new zh};class ID extends zh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new mN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Mb((s=>jh.mi(s,n)),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=RD.bind(null,this.syncEngine),await oD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new uD})()}createDatastore(e){const n=af(e.databaseInfo.databaseId),s=(function(u){return new FN(u)})(e.databaseInfo);return(function(u,f,m,p){return new YN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new XN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>mE(this.syncEngine,n,0)),(function(){return lE.v()?new lE:new zN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,T){const b=new pD(o,u,f,m,p,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=we(n);fe(ha,"RemoteStore shutting down."),s.Ea.add(5),await bu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ap.provider={build:()=>new ap};class ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ys="FirestoreClient";class ND{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{fe(ys,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(ys,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$p(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Dm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(ys,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Vb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function gE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await DD(r);fe(ys,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>cE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>cE(e.remoteStore,o))),r._onlineComponents=e}async function DD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(ys,"Using user provided OfflineComponentProvider");try{await Dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Dm(r,new zh)}}else fe(ys,"Using default OfflineComponentProvider"),await Dm(r,new ID(void 0));return r._offlineComponents}async function Zb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(ys,"Using user provided OnlineComponentProvider"),await gE(r,r._uninitializedComponentsProvider._online)):(fe(ys,"Using default OnlineComponentProvider"),await gE(r,new ap))),r._onlineComponents}function OD(r){return Zb(r).then((e=>e.syncEngine))}async function Bh(r){const e=await Zb(r),n=e.eventManager;return n.onListen=gD.bind(null,e.syncEngine),n.onUnlisten=vD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ED.bind(null,e.syncEngine),n}function MD(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const T=new ng({next:A=>{T.Nu(),f.enqueueAndForget((()=>Wp(u,b)));const M=A.docs.has(m);!M&&A.fromCache?g.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&p&&p.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Jp(Jh(m.path),T,{includeMetadataChanges:!0,qa:!0});return Xp(u,b)})(await Bh(r),r.asyncQueue,e,n,s))),s.promise}function VD(r,e,n={}){const s=new fr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const T=new ng({next:A=>{T.Nu(),f.enqueueAndForget((()=>Wp(u,b))),A.fromCache&&p.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),b=new Jp(m,T,{includeMetadataChanges:!0,qa:!0});return Xp(u,b)})(await Bh(r),r.asyncQueue,e,n,s))),s.promise}function Jb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const yE=new Map;const eS="firestore.googleapis.com",_E=!0;class vE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eS,this.ssl=_E}else this.host=e.host,this.ssl=e.ssl??_E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ob;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fN)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}X2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Jb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wu{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new z2;switch(s.type){case"firstParty":return new F2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=yE.get(n);s&&(fe("ComponentProvider","Removing Datastore"),yE.delete(n),s.terminate())})(this),Promise.resolve()}}function PD(r,e,n,s={}){r=pn(r,wu);const o=Ro(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&($E(`https://${m}`),XE("Firestore",!0)),u.host!==eS&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!sa(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=Wt.MOCK_USER;else{g=GA(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(b)}r._authCredentials=new B2(new GT(g,T))}}class bs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class dt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,dt._jsonSchema))return new dt(e,s||null,new _e(tt.fromString(n.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:Dt("string",dt._jsonSchemaVersion),referencePath:Dt("string")};class hs extends bs{constructor(e,n,s){super(e,n,Jh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new _e(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function uf(r,e,...n){if(r=mt(r),Ip("collection","path",e),r instanceof wu){const s=tt.fromString(e,...n);return O0(s),new hs(r,null,s)}{if(!(r instanceof dt||r instanceof hs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return O0(s),new hs(r.firestore,null,s)}}function kD(r,e){if(r=pn(r,wu),Ip("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bs(r,null,(function(s){return new Oo(tt.emptyPath(),s)})(e))}function Li(r,e,...n){if(r=mt(r),arguments.length===1&&(e=Cp.newId()),Ip("doc","path",e),r instanceof wu){const s=tt.fromString(e,...n);return D0(s),new dt(r,null,new _e(s))}{if(!(r instanceof dt||r instanceof hs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return D0(s),new dt(r.firestore,r instanceof hs?r.converter:null,new _e(s))}}const EE="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kb(this,"async_queue_retry"),this._c=()=>{const s=Nm();s&&fe(EE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;fe(EE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",bE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:bE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function SE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class _s extends wu{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new TE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function LD(r,e){const n=typeof r=="object"?r:eT(),s=typeof r=="string"?r:Dh,o=_p(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=HA("firestore");u&&PD(o,...u)}return o}function cf(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jD(r),r._firestoreClient}function jD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new oI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Jb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new ND(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Yt.fromBase64String(e))}catch(n){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Dt("string",Hn._jsonSchemaVersion),bytes:Dt("string")};class hf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ig{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(vu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Dt("string",ji._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class Ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ui(e.vectorValues);throw new he(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Dt("string",Ui._jsonSchemaVersion),vectorValues:Dt("object")};const UD=/^__.*__$/;class zD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class tS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class rg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nS(this.Ac)&&UD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class BD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||af(e)}Cc(e,n,s,o=!1){return new rg({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function sg(r){const e=r._freezeSettings(),n=af(r._databaseId);return new BD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function qD(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);ag("Data must be an object, but it was:",f,s);const m=iS(s,f);let p,g;if(u.merge)p=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const A=op(e,b,n);if(!f.contains(A))throw new he(J.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);sS(T,A)||T.push(A)}p=new Cn(T),g=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=f.fieldTransforms;return new zD(new mn(m),p,g)}class ff extends ig{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function HD(r,e,n,s){const o=r.Cc(1,e,n);ag("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();Es(s,((p,g)=>{const T=og(e,p,n);g=mt(g);const b=o.yc(T);if(g instanceof ff)u.push(T);else{const A=Au(g,b);A!=null&&(u.push(T),f.set(T,A))}}));const m=new Cn(u);return new tS(f,m,o.fieldTransforms)}function FD(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[op(e,s,n)],p=[o];if(u.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(op(e,u[A])),p.push(u[A+1]);const g=[],T=mn.empty();for(let A=m.length-1;A>=0;--A)if(!sS(g,m[A])){const M=m[A];let z=p[A];z=mt(z);const B=f.yc(M);if(z instanceof ff)g.push(M);else{const U=Au(z,B);U!=null&&(g.push(M),T.set(M,U))}}const b=new Cn(g);return new tS(T,b,f.fieldTransforms)}function GD(r,e,n,s=!1){return Au(n,r.Cc(s?4:3,e))}function Au(r,e){if(rS(r=mt(r)))return ag("Unsupported field value:",e,r),iS(r,e);if(r instanceof ig)return(function(s,o){if(!nS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=Au(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=mt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NI(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Lh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(o.serializer,u)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:Ab(o.serializer,s._byteString)};if(s instanceof dt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ui)return(function(f,m){return{mapValue:{fields:{[eb]:{stringValue:tb},[Oh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${$h(s)}`)})(r,e)}function iS(r,e){const n={};return YT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,((s,o)=>{const u=Au(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function rS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof ji||r instanceof Hn||r instanceof dt||r instanceof ig||r instanceof Ui)}function ag(r,e,n){if(!rS(n)||!QT(n)){const s=$h(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function op(r,e,n){if((e=mt(e))instanceof hf)return e._internalPath;if(typeof e=="string")return og(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const QD=new RegExp("[~\\*/\\[\\]]");function og(r,e,n){if(e.search(QD)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new hf(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(J.INVALID_ARGUMENT,m+r+p)}function sS(r,e){return r.some((n=>n.isEqual(e)))}class aS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(oS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KD extends aS{data(){return super.data()}}function oS(r,e){return typeof e=="string"?og(r,e):e instanceof hf?e._internalPath:e._delegate._internalPath}function lS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class YD extends lg{}function $D(r,e,...n){let s=[];e instanceof lg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof cg)).length,m=u.filter((p=>p instanceof ug)).length;if(f>1||f>0&&m>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class ug extends YD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ug(e,n,s)}_apply(e){const n=this._parse(e);return uS(e._query,n),new bs(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=sg(e.firestore);return(function(u,f,m,p,g,T,b){let A;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){AE(b,T);const z=[];for(const B of b)z.push(wE(p,u,B));A={arrayValue:{values:z}}}else A=wE(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||AE(b,T),A=GD(m,f,b,T==="in"||T==="not-in");return Nt.create(g,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class cg extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new cg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:oi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)uS(f,p),f=Xm(f,p)})(e._query,n),new bs(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function wE(r,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ub(e)&&n.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!_e.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return z0(r,new _e(s))}if(n instanceof dt)return z0(r,n._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$h(n)}.`)}function AE(r,e){if(!Array.isArray(r)||r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XD{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Es(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new Ui(n)}convertGeoPoint(e){return new ji(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=ds(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Qe(Db(s),9688,{name:e});const o=new su(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function WD(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends aS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(oS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Dt("string",ia._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class vh extends ia{data(e={}){return super.data(e)}}class ra{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new vh(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new vh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:ZD(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ZD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}function uu(r){r=pn(r,dt);const e=pn(r.firestore,_s);return MD(cf(e),r._key).then((n=>fS(e,r,n)))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:Dt("string",ra._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class hg extends XD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,n)}}function cu(r){r=pn(r,bs);const e=pn(r.firestore,_s),n=cf(e),s=new hg(e);return lS(r._query),VD(n,r._query).then((o=>new ra(e,s,r,o)))}function df(r,e,n){r=pn(r,dt);const s=pn(r.firestore,_s),o=WD(r.converter,e,n);return fg(s,[qD(sg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,si.none())])}function cS(r,e,n,...s){r=pn(r,dt);const o=pn(r.firestore,_s),u=sg(o);let f;return f=typeof(e=mt(e))=="string"||e instanceof hf?FD(u,"updateDoc",r._key,e,n,s):HD(u,"updateDoc",r._key,e),fg(o,[f.toMutation(r._key,si.exists(!0))])}function hS(r){return fg(pn(r.firestore,_s),[new kp(r._key,si.none())])}function JD(r,...e){r=mt(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||SE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(SE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof dt)f=pn(r.firestore,_s),m=Jh(r._key.path),u={next:p=>{e[s]&&e[s](fS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=pn(r,bs);f=pn(p.firestore,_s),m=p._query;const g=new hg(f);u={next:T=>{e[s]&&e[s](new ra(f,g,p,T))},error:e[s+1],complete:e[s+2]},lS(r._query)}return(function(g,T,b,A){const M=new ng(A),z=new Jp(T,M,b);return g.asyncQueue.enqueueAndForget((async()=>Xp(await Bh(g),z))),()=>{M.Nu(),g.asyncQueue.enqueueAndForget((async()=>Wp(await Bh(g),z)))}})(cf(f),m,o,u)}function fg(r,e){return(function(s,o){const u=new fr;return s.asyncQueue.enqueueAndForget((async()=>TD(await OD(s),o,u))),u.promise})(cf(r),e)}function fS(r,e,n){const s=n.docs.get(e._key),o=new hg(r);return new ia(r,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Io=o})(xo),yo(new aa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _s(new q2(s.getProvider("auth-internal")),new G2(f,s.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),us(x0,C0,e),us(x0,C0,"esm2020")})();const e4={apiKey:"AIzaSyBu3tuozsNFDnkWXYWALNZ3bREBtkiAmAc",authDomain:"anime-project-afaf7.firebaseapp.com",projectId:"anime-project-afaf7",storageBucket:"anime-project-afaf7.firebasestorage.app",messagingSenderId:"726262902044",appId:"1:726262902044:web:8ac376e203a5de15b81ed9"},dS=JE(e4),ea=j2(dS),sn=LD(dS),mS=O.createContext();function t4({children:r}){const[e,n]=O.useState(null),[s,o]=O.useState(!0);function u(b,A){return _C(ea,b,A)}function f(b,A){return vC(ea,b,A)}function m(){return xC(ea)}function p(b){return TC(ea.currentUser,b)}function g(b){return bC(ea.currentUser,b)}function T(b){return SC(ea.currentUser,b)}return O.useEffect(()=>{const b=RC(ea,A=>{n(A),o(!1)});return()=>{b()}},[]),v.jsx(mS.Provider,{value:{signUp:u,logIn:f,logOut:m,updateUserProfile:p,updateUserEmail:g,updateUserPassword:T,user:e,loading:s},children:s?v.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-black",children:v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-[var(--primary)]"})}):r})}function qi(){return O.useContext(mS)}const pS=O.createContext();function n4({children:r}){const[e,n]=O.useState([]),[s,o]=O.useState([]),[u,f]=O.useState([]),[m,p]=O.useState([]),[g,T]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{const A=await cu(uf(sn,"animes")),M=[];A.forEach(ie=>{const se=ie.data();M.push({...se,id:parseInt(ie.id)||ie.id})}),n(M);const z=await cu($D(kD(sn,"progress"))),B={};z.forEach(ie=>{const ae=ie.data().animeId;ae&&(B[ae]=(B[ae]||0)+1)});const U=[...M].filter(ie=>(B[ie.id]||0)>0).sort((ie,se)=>{const ae=B[ie.id]||0;return(B[se.id]||0)-ae});o(U.slice(0,10));const Z=M.filter(ie=>{const se=ae=>{if(!ae)return!1;const ce=new Date(ae),R=(new Date-ce)/(1e3*60*60*24);return R>=0&&R<=7};return se(ie.createdAt)||se(ie.lastEpisodeAt)}).sort((ie,se)=>{const ae=new Date(ie.lastEpisodeAt||ie.createdAt);return new Date(se.lastEpisodeAt||se.createdAt)-ae});f(Z);const ne=M.filter(ie=>ie.featured===!0);p(ne.length>0?ne:[M[0]])}catch(A){console.error("Error fetching anime data:",A)}finally{T(!1)}})()},[]),v.jsx(pS.Provider,{value:{animeList:e,trendingList:s,newReleasesList:u,featuredList:m,loading:g},children:r})}function ga(){return O.useContext(pS)}const i4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),RE=r=>{const e=r4(r);return e.charAt(0).toUpperCase()+e.slice(1)},gS=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),s4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var a4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o4=O.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>O.createElement("svg",{ref:p,...a4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:gS("lucide",o),...!u&&!s4(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,T])=>O.createElement(g,T)),...Array.isArray(u)?u:[u]]));const yn=(r,e)=>{const n=O.forwardRef(({className:s,...o},u)=>O.createElement(o4,{ref:u,iconNode:e,className:gS(`lucide-${i4(RE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=RE(r),n};const l4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],u4=yn("bell",l4);const c4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],h4=yn("check",c4);const f4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],d4=yn("chevron-down",f4);const m4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yS=yn("chevron-right",m4);const p4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dg=yn("chevron-left",p4);const g4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],y4=yn("house",g4);const _4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],v4=yn("info",_4);const E4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Eh=yn("play",E4);const T4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],b4=yn("plus",T4);const S4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],xE=yn("search",S4);const w4=[["path",{d:"M17.971 4.285A2 2 0 0 1 21 6v12a2 2 0 0 1-3.029 1.715l-9.997-5.998a2 2 0 0 1-.003-3.432z",key:"15892j"}],["path",{d:"M3 20V4",key:"1ptbpl"}]],A4=yn("skip-back",w4);const R4=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],x4=yn("skip-forward",R4);const C4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],I4=yn("user",C4);const N4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],D4=yn("x",N4),Tr=()=>{const[r,e]=O.useState(!1),{user:n,logOut:s}=qi(),{animeList:o}=ga(),u=vr(),[f,m]=O.useState(!1),[p,g]=O.useState(null),T=O.useRef(null),b=async()=>{try{await s(),u("/")}catch(se){console.log(se)}};O.useEffect(()=>{const se=()=>{window.scrollY>0?e(!0):e(!1)};return window.addEventListener("scroll",se),()=>window.removeEventListener("scroll",se)},[]),O.useEffect(()=>{const se=ae=>{T.current&&!T.current.contains(ae.target)&&M(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]),O.useEffect(()=>{let se;return n?.email&&(se=JD(Li(sn,"users",n.email),ae=>{ae.exists()&&g(ae.data())})),()=>{se&&se()}},[n]);const[A,M]=O.useState(!1),[z,B]=O.useState(""),[U,Z]=O.useState([]),ne=se=>{const ae=se.target.value;if(B(ae),ae.length>0){const ce=o.filter(x=>x.title.toLowerCase().includes(ae.toLowerCase()));Z(ce)}else Z([])},ie=se=>{se.preventDefault(),M(!1),B(""),Z([]),u(`/search?q=${z}`)};return v.jsxs("nav",{style:{position:"fixed",top:0,width:"100%",zIndex:50,padding:"1rem 4%",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.3s",backgroundColor:r?"var(--background)":"transparent",backgroundImage:r?"none":"linear-gradient(to bottom, rgba(0,0,0,0.7) 10%, rgba(0,0,0,0))"},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:[v.jsx(rn,{to:"/",children:v.jsx("h1",{style:{color:"var(--primary)",fontSize:"1.8rem",fontWeight:"bold",cursor:"pointer"},children:"MIZUPLAY"})}),n?.email&&v.jsxs("ul",{style:{display:"flex",gap:"1.5rem",listStyle:"none",color:"#e5e5e5",fontSize:"0.9rem"},className:"hidden md:flex",children:[v.jsx(rn,{to:"/",children:v.jsx("li",{style:{cursor:"pointer",fontWeight:"bold"},children:"Home"})}),v.jsx(rn,{to:"/series",children:v.jsx("li",{style:{cursor:"pointer"},children:"Series"})}),v.jsx(rn,{to:"/movies",children:v.jsx("li",{style:{cursor:"pointer"},children:"Movies"})}),v.jsx(rn,{to:"/new",children:v.jsx("li",{style:{cursor:"pointer"},children:"New & Popular"})}),v.jsx(rn,{to:"/mylist",children:v.jsx("li",{style:{cursor:"pointer"},children:"My List"})})]})]}),n?.email?v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",color:"white"},children:[v.jsxs("div",{className:"relative flex items-center h-[32px]",ref:T,children:[v.jsxs("div",{className:`flex items-center bg-[var(--background)] transition-all duration-300 rounded-[4px] overflow-hidden ${A?"w-[200px] md:w-[250px] h-full px-2":"w-0 h-full"}`,children:[v.jsx("form",{onSubmit:ie,className:"w-full",children:v.jsx("input",{type:"text",className:"bg-transparent border-none text-white focus:outline-none pl-2 text-sm w-full placeholder:text-gray-500",placeholder:"Titles, people, genres",value:z,onChange:ne})}),z&&v.jsx("span",{className:"cursor-pointer text-xs px-2 text-gray-400 hover:text-white",onClick:()=>{B(""),Z([])},children:"X"}),v.jsx(xE,{size:18,className:"min-w-[18px] cursor-pointer text-gray-400",onClick:()=>M(!1)})]}),!A&&v.jsx(xE,{size:20,className:"cursor-pointer hover:text-gray-400 transition-colors",onClick:()=>M(!0)}),U.length>0&&A&&v.jsxs("div",{className:"absolute top-10 right-0 w-[300px] bg-[var(--background)] shadow-2xl max-h-[350px] overflow-y-auto rounded z-50",children:[U.map(se=>v.jsxs("div",{className:"flex items-center gap-3 p-3 cursor-pointer border-b border-white/5",onClick:()=>{u(`/title/${se.id}`),M(!1),B(""),Z([])},children:[v.jsx("img",{src:se.image,alt:se.title,className:"w-10 h-14 min-w-[40px] object-cover rounded"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:"text-sm font-bold leading-tight mb-1",children:se.title}),v.jsx("p",{className:"text-xs text-gray-400",children:se.category})]})]},se.id)),v.jsxs("div",{className:"p-2 text-center text-xs text-[#141414] bg-[var(--primary)] cursor-pointer hover:opacity-90 font-bold",onClick:se=>ie(se),children:['View all results for "',z,'"']})]})]}),v.jsx(u4,{size:20,style:{cursor:"pointer"}}),v.jsxs("div",{style:{position:"relative"},onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[v.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:v.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"4px",overflow:"hidden",backgroundColor:"#aaa",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:n.photoURL?v.jsx("img",{src:n.photoURL,alt:"Profile",style:{position:"absolute",width:`${(p?.photoZoom||1)*100}%`,height:`${(p?.photoZoom||1)*100}%`,top:`${p?.photoPosition?.y??50}%`,left:`${p?.photoPosition?.x??50}%`,transform:`translate(-${p?.photoPosition?.x??50}%, -${p?.photoPosition?.y??50}%)`,objectFit:"cover",objectPosition:`${p?.photoPosition?.x??50}% ${p?.photoPosition?.y??50}%`}}):v.jsx(I4,{size:20,color:"#141414"})})}),f&&v.jsxs("div",{style:{position:"absolute",top:"32px",right:0,backgroundColor:"rgba(0,0,0,0.9)",border:"1px solid #333",borderRadius:"4px",padding:"10px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"10px"},children:[v.jsx(rn,{to:"/account",style:{fontSize:"0.9rem",color:"#fff",textDecoration:"none"},children:"See Profile"}),n?.email==="mperezpulles@gmail.com"&&v.jsx(rn,{to:"/admin",style:{fontSize:"0.9rem",color:"var(--primary)",textDecoration:"none",fontWeight:"bold"},children:"Admin Panel"}),v.jsx("div",{style:{height:"1px",backgroundColor:"#333"}}),v.jsx("button",{onClick:b,style:{background:"transparent",border:"none",color:"#fff",fontSize:"0.9rem",cursor:"pointer",textAlign:"left",padding:0},children:"Logout"})]})]})]}):v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx(rn,{to:"/login",children:v.jsx("button",{className:"text-white pr-4",children:"Sign In"})}),v.jsx(rn,{to:"/signup",children:v.jsx("button",{className:"bg-[var(--primary)] px-6 py-2 rounded cursor-pointer text-black",children:"Sign Up"})})]})]})},O4=({animes:r=[],onPlay:e})=>{const n=vr(),[s,o]=O.useState(0),[u,f]=O.useState(!1);O.useEffect(()=>{if(r.length<=1)return;const T=setInterval(()=>{m()},15e3);return()=>clearInterval(T)},[r,s]);const m=()=>{f(!0),setTimeout(()=>{o(T=>T===r.length-1?0:T+1),f(!1)},500)},p=()=>{f(!0),setTimeout(()=>{o(T=>T===0?r.length-1:T-1),f(!1)},500)};if(!r||r.length===0)return null;const g=r[s];return v.jsxs("div",{className:"relative w-full h-[70vh] text-white overflow-hidden bg-[var(--background)]",children:[v.jsxs("div",{className:`absolute inset-0 transition-opacity duration-1000 ${u?"opacity-0":"opacity-100"}`,children:[v.jsx("div",{className:"absolute w-full h-full bg-gradient-to-r from-black via-transparent to-transparent z-10"}),v.jsx("div",{className:"absolute w-full h-full bg-gradient-to-b from-transparent via-transparent to-[#141414] z-10 bottom-0"}),v.jsx("img",{className:"w-full h-full object-cover",src:g.image,alt:g.title})]}),v.jsxs("div",{className:`absolute w-full top-[30%] md:top-[25%] p-4 md:p-8 md:pl-16 z-20 transition-all duration-700 transform ${u?"opacity-0 translate-y-4":"opacity-100 translate-y-0"}`,children:[v.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold max-w-[90%] md:max-w-[70%] drop-shadow-2xl",children:g.title}),v.jsxs("div",{className:"my-6 flex gap-4",children:[v.jsxs("button",{onClick:()=>e(g),className:"bg-[var(--primary)] text-black py-2 px-6 rounded font-bold flex items-center gap-2 hover:bg-opacity-80 transition active:scale-95",children:[v.jsx(Eh,{size:24,fill:"black"})," Play"]}),v.jsxs("button",{onClick:()=>n(`/title/${g.id}`),className:"bg-[#9c7880]/60 text-white py-2 px-6 rounded font-bold flex items-center gap-2 hover:bg-[#8a6a72] transition backdrop-blur-md active:scale-95 border border-white/20",children:[v.jsx(v4,{size:24}),"More Info"]})]}),v.jsxs("p",{className:"text-gray-300 text-sm mb-2 font-semibold",children:[g.year||"2024","  ",g.category,"  ",g.genres?.slice(0,3).join(", ")]}),v.jsx("p",{className:"w-full md:max-w-[70%] lg:max-w-[50%] xl:max-w-[40%] text-gray-200 drop-shadow-md text-sm md:text-lg leading-relaxed line-clamp-3",children:g.description})]}),r.length>1&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:p,className:"absolute left-2 top-1/2 -translate-y-1/2 z-30 p-1 rounded-full hover:bg-black/40 transition-all hidden md:block text-white/20 hover:text-white",children:v.jsx(dg,{size:44})}),v.jsx("button",{onClick:m,className:"absolute right-2 top-1/2 -translate-y-1/2 z-30 p-1 rounded-full hover:bg-black/40 transition-all hidden md:block text-white/20 hover:text-white",children:v.jsx(yS,{size:44})}),v.jsx("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 z-30 flex gap-2",children:r.map((T,b)=>v.jsx("button",{onClick:()=>{f(!0),setTimeout(()=>{o(b),f(!1)},500)},className:`h-1.5 transition-all duration-300 rounded-full ${b===s?"w-8 bg-[var(--primary)]":"w-2 bg-gray-500 hover:bg-gray-300"}`,"aria-label":`Go to slide ${b+1}`},b))})]})]})},ri=({title:r,animes:e,onPlay:n,isPlayableCard:s,showRank:o})=>{const u=O.useRef(null),f=vr(),m=p=>{if(u.current){const{scrollLeft:g,clientWidth:T}=u.current,b=p==="left"?g-T/2:g+T/2;u.current.scrollTo({left:b,behavior:"smooth"})}};return v.jsxs("div",{style:{marginBottom:"3rem",padding:"0 4%"},children:[v.jsx("h2",{style:{color:"#e5e5e5",marginBottom:"1rem",fontSize:"1.5rem",fontWeight:"600"},children:r}),v.jsxs("div",{style:{position:"relative",group:"row"},children:[v.jsx("button",{onClick:()=>m("left"),style:{position:"absolute",left:0,top:0,bottom:0,zIndex:40,backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",padding:"0 0.5rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s"},onMouseEnter:p=>p.currentTarget.style.opacity=1,onMouseLeave:p=>p.currentTarget.style.opacity=0,children:v.jsx(dg,{size:40})}),v.jsx("div",{ref:u,style:{display:"flex",gap:o?"3.5rem":"0.5rem",overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none",padding:o?"1rem 2.5rem":"1rem 1rem",scrollBehavior:"smooth"},className:"no-scrollbar",children:e.map((p,g)=>{const T=M=>{if(!M)return!1;const z=new Date(M),U=(new Date-z)/(1e3*60*60*24);return U>=0&&U<=7},b=T(p.createdAt)&&p.category==="Movie",A=T(p.lastEpisodeAt)&&p.category==="Series";return v.jsxs("div",{onClick:()=>s?n(p):f(`/title/${p.id}`),className:"anime-card",style:{flex:"0 0 auto",width:"250px",cursor:"pointer",position:"relative"},children:[b&&v.jsx("div",{style:{position:"absolute",top:"12px",left:"12px",backgroundColor:"#f2c2cb",color:"#141414",padding:"2px 9px",fontSize:"0.7rem",fontWeight:"800",borderRadius:"2px",zIndex:30,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.5)",letterSpacing:"0.2px",textTransform:"uppercase",fontFamily:"var(--font-main)"},children:"New"}),A&&v.jsx("div",{style:{position:"absolute",top:"12px",left:"12px",backgroundColor:"#f2c2cb",color:"#141414",padding:"2px 9px",fontSize:"0.7rem",fontWeight:"800",borderRadius:"2px",zIndex:30,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.5)",letterSpacing:"0.2px",textTransform:"uppercase",fontFamily:"var(--font-main)"},children:"New epis."}),o&&v.jsx("div",{className:"rank-number",style:{position:"absolute",left:"-2.5rem",bottom:"14px",zIndex:20,fontSize:"8rem",fontWeight:"900",background:"linear-gradient(to right, rgba(0, 0, 0, 1) 45%, rgba(0, 0, 0, 0.3) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",WebkitTextStroke:"2px #FFB6C1",width:"fit-content",height:"auto",padding:"0.2rem 0.5rem",userSelect:"none",pointerEvents:"none",lineHeight:"1",fontFamily:"system-ui, sans-serif",transition:"all 0.3s ease",overflow:"visible"},children:g+1}),v.jsxs("div",{className:"anime-image",style:{position:"relative",overflow:"hidden",borderRadius:"4px",height:"140px"},children:[v.jsx("img",{src:p.image,alt:p.title,style:{width:"100%",height:"100%",objectFit:"cover",position:"relative",zIndex:10}}),s&&v.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"40px",background:"linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 100%)",zIndex:15}}),s&&p.timestamp&&p.duration&&v.jsx("div",{style:{position:"absolute",bottom:0,left:0,width:"100%",height:"3px",backgroundColor:"rgba(255,255,255,0.2)",zIndex:20},children:v.jsx("div",{style:{width:`${p.timestamp/p.duration*100}%`,height:"100%",backgroundColor:"var(--primary)"}})})]}),v.jsx("p",{style:{marginTop:"0.5rem",color:"#999",fontSize:"0.9rem",fontWeight:"500",paddingLeft:"0.5rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:s&&p.category==="Series"&&p.season?v.jsxs(v.Fragment,{children:[v.jsxs("span",{className:"font-bold text-gray-200",children:["T",p.season,", E",p.episodeNo]})," ",p.title]}):p.title})]},p.id)})}),v.jsx("button",{onClick:()=>m("right"),style:{position:"absolute",right:0,top:0,bottom:0,zIndex:40,backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",padding:"0 0.5rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s"},onMouseEnter:p=>p.currentTarget.style.opacity=1,onMouseLeave:p=>p.currentTarget.style.opacity=0,children:v.jsx(yS,{size:40})})]})]})},Vo=({anime:r,onClose:e,videoUrl:n})=>{const s=O.useRef(null),{user:o}=qi(),[u,f]=O.useState(null),[m,p]=O.useState(n||r?.video),[g,T]=O.useState(null),[b,A]=O.useState(!1),M=r?.id||r?.animeId,z=ae=>{if(!ae)return ae;const ce=/drive\.google\.com\/(?:file\/d\/|open\?id=)([\w-]+)/,x=ae.match(ce);return x&&x[1]?`https://drive.google.com/u/0/uc?id=${x[1]}&export=media`:ae};O.useEffect(()=>{if(r.category==="Series"&&r.seasons)for(let ae of r.seasons){const ce=ae.episodes.find(x=>x.video===m);if(ce){T({...ce,season:ae.season});return}}T(null)},[m,r]);const B=async()=>{if(o?.email&&M){const ae=Li(sn,"users",o.email,"progress",M.toString());try{const ce=await uu(ae);if(ce.exists()){const x=ce.data();if(x.video===m&&x.timestamp){const R=Math.max(0,x.timestamp-5);f(R)}else f(0)}else f(0)}catch(ce){console.error("Player: Error loading progress",ce)}}};O.useEffect(()=>{B()},[M,o,m]);const U=async()=>{if(!b&&o?.email&&M&&s.current){const ae=s.current.currentTime,ce=s.current.duration;if(isNaN(ce))return;try{await df(Li(sn,"users",o.email,"progress",M.toString()),{animeId:M,title:g?g.title:r.title,image:r.image,video:m,timestamp:ae,lastWatched:new Date,duration:ce,category:r.category,season:g?g.season:1,episodeNo:g?g.id:1,animeTitle:r.title})}catch(x){console.error("Player: Error saving progress",x)}}},Z=async()=>{if(o?.email&&M){const ae=Li(sn,"users",o.email,"progress",M.toString());try{await hS(ae),console.log("Player: Progress cleared for",M)}catch(ce){console.error("Player: Error clearing progress",ce)}}};O.useEffect(()=>{const ae=setInterval(U,1e4);return()=>clearInterval(ae)},[M,o,m,g]);const ne=ae=>{if(!(r.category!=="Series"||!r.seasons))for(let ce=0;ce<r.seasons.length;ce++){const x=r.seasons[ce],R=x.episodes.findIndex(C=>C.video===m);if(R!==-1){if(ae==="next")R<x.episodes.length-1?(U(),p(x.episodes[R+1].video)):ce<r.seasons.length-1?(U(),p(r.seasons[ce+1].episodes[0].video)):(U(),Z(),A(!0));else if(R>0)U(),p(x.episodes[R-1].video);else if(ce>0){U();const C=r.seasons[ce-1];p(C.episodes[C.episodes.length-1].video)}break}}},ie=()=>{r.category==="Series"?ne("next"):(Z(),A(!0))},se=async()=>{b||await U(),e()};return O.useEffect(()=>{u!==null&&s.current&&(s.current.currentTime=u)},[u]),r?v.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"black",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:[v.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",padding:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"linear-gradient(to bottom, rgba(0,0,0,0.7) 0%, transparent 100%)",zIndex:110},children:[v.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[v.jsx("button",{onClick:se,style:{background:"transparent",color:"white",border:"none",cursor:"pointer"},children:v.jsx(dg,{size:40})}),v.jsxs("div",{children:[v.jsx("h2",{style:{color:"white",fontSize:"1.2rem",margin:0},children:r.title}),g&&v.jsxs("p",{style:{color:"#ccc",margin:0,fontSize:"0.9rem"},children:["Season ",g.season,", Episode ",g.id,": ",g.title]})]})]}),v.jsx("button",{onClick:se,style:{background:"transparent",color:"white",border:"none",cursor:"pointer"},children:v.jsx(D4,{size:40})})]}),v.jsx("video",{ref:s,controls:!0,autoPlay:!0,crossOrigin:"anonymous",onLoadedMetadata:()=>{u!==null&&(s.current.currentTime=u)},onEnded:ie,style:{width:"100%",height:"100%",maxHeight:"100vh"},src:z(m)}),v.jsx("div",{className:"player-nav-container",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:105,pointerEvents:"none"},children:r.category==="Series"&&v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>ne("prev"),style:{position:"absolute",left:"4rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"auto",background:"rgba(0,0,0,0.4)",border:"none",color:"white",borderRadius:"50%",padding:"1rem",cursor:"pointer",transition:"all 0.2s ease",opacity:0},className:"nav-btn",children:v.jsx(A4,{size:40})}),v.jsx("button",{onClick:()=>ne("next"),style:{position:"absolute",right:"4rem",top:"50%",transform:"translateY(-50%)",pointerEvents:"auto",background:"rgba(0,0,0,0.4)",border:"none",color:"white",borderRadius:"50%",padding:"1rem",cursor:"pointer",transition:"all 0.2s ease",opacity:0},className:"nav-btn",children:v.jsx(x4,{size:40})})]})}),b&&v.jsxs("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.9)",zIndex:120,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",color:"white",padding:"2rem"},children:[v.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem"},children:r.category==="Series"?"Has terminado la serie!":"Fin de la pelcula!"}),v.jsx("p",{style:{fontSize:"1.2rem",color:"#999",marginBottom:"3rem"},children:r.category==="Series"?"No hay ms captulos disponibles por ahora.":"Esperamos que hayas disfrutado de la pelcula."}),v.jsxs("button",{onClick:se,style:{display:"flex",alignItems:"center",gap:"1rem",backgroundColor:"white",color:"black",padding:"1rem 2.5rem",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",border:"none",cursor:"pointer",transition:"transform 0.2s"},onMouseEnter:ae=>ae.currentTarget.style.transform="scale(1.05)",onMouseLeave:ae=>ae.currentTarget.style.transform="scale(1)",children:[v.jsx(y4,{size:24}),"Volver al inicio"]})]}),v.jsx("style",{children:`
                .player-nav-container:hover .nav-btn {
                    opacity: 1 !important;
                }
                .nav-btn:hover {
                    background: rgba(255,255,255,0.2) !important;
                    transform: scale(1.1) translateY(-50%) !important;
                }
            `})]}):null},M4=()=>{const[r,e]=O.useState(null),[n,s]=O.useState([]),{user:o}=qi(),{animeList:u,trendingList:f,newReleasesList:m,featuredList:p,loading:g}=ga();O.useEffect(()=>{(async()=>{if(o?.email){const U=(await cu(uf(sn,"users",o.email,"progress"))).docs.map(Z=>({...Z.data(),id:Z.data().animeId}));s(U)}})()},[o,r]);const T=z=>{const B=u.find(U=>U.id===(z.id||z.animeId));e(B?{...B,currentVideo:z.video}:z)},b=()=>{e(null)};if(g)return v.jsx("div",{className:"text-white pt-20 pl-10",children:"Loading..."});const A={};u.forEach(z=>{z.genres?.forEach(B=>{const U=B.toLowerCase().trim();A[U]=(A[U]||0)+1})});const M=Object.keys(A).filter(z=>A[z]>=3).sort((z,B)=>A[B]-A[z]);return v.jsxs(v.Fragment,{children:[v.jsx(Tr,{}),v.jsx(O4,{animes:p,onPlay:T}),v.jsxs("div",{style:{marginTop:"-120px",position:"relative",zIndex:10},children:[n.length>0&&v.jsx(ri,{title:"Continue Watching",animes:n,onPlay:T,isPlayableCard:!0}),v.jsx(ri,{title:"Trending Now",animes:f,onPlay:T,showRank:!0}),m.length>0&&v.jsx(ri,{title:"New Releases",animes:m,onPlay:T}),M.map(z=>v.jsx(ri,{title:z.charAt(0).toUpperCase()+z.slice(1),animes:u.filter(B=>B.genres?.some(U=>U.toLowerCase().trim()===z)),onPlay:T},z))]}),r&&v.jsx(Vo,{anime:r,onClose:b,videoUrl:r.currentVideo})]})},_S="/mizu-play/assets/door-DVRtoP7x.png",V4=()=>{const[r,e]=O.useState(""),[n,s]=O.useState(""),[o,u]=O.useState(""),[f,m]=O.useState(!1),{logIn:p}=qi(),g=vr(),T=async b=>{b.preventDefault(),u(""),m(!0);try{await p(r,n),g("/")}catch(A){console.log(A),u(A.message),m(!1)}};return v.jsxs("div",{className:"w-full h-screen overflow-hidden",children:[v.jsx("img",{className:"absolute w-full h-full object-cover",src:_S,alt:"/"}),v.jsx("div",{className:"bg-black/60 fixed top-0 left-0 w-full h-screen"}),v.jsx("div",{className:"fixed w-full px-4 py-24 z-50",children:v.jsx("div",{className:"max-w-[450px] h-[600px] mx-auto bg-black/75 text-white rounded-lg",children:v.jsxs("div",{className:"max-w-[320px] mx-auto py-16",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Sign In"}),o?v.jsx("p",{className:"p-3 bg-red-400 my-2",children:o}):null,v.jsxs("form",{onSubmit:T,className:"w-full flex flex-col py-4",children:[v.jsx("input",{onChange:b=>e(b.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"email",placeholder:"Email",autoComplete:"email"}),v.jsx("input",{onChange:b=>s(b.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"password",placeholder:"Password",autoComplete:"current-password"}),v.jsx("button",{disabled:f,className:"bg-[var(--primary)] py-3 my-6 rounded font-bold text-black flex justify-center items-center",children:f?v.jsx("div",{className:"w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}):"Sign In"}),v.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[v.jsxs("p",{children:[v.jsx("input",{className:"mr-2",type:"checkbox"}),"Remember me"]}),v.jsx("p",{children:"Need Help?"})]}),v.jsxs("p",{className:"py-8",children:[v.jsx("span",{className:"text-gray-600",children:"New to Mizuplay?"})," ",v.jsx(rn,{to:"/signup",children:"Sign Up"})]})]})]})})})]})},P4=()=>{const[r,e]=O.useState(""),[n,s]=O.useState(""),{signUp:o}=qi(),u=vr(),f=async m=>{m.preventDefault();try{await o(r,n),u("/")}catch(p){console.log(p)}};return v.jsx(v.Fragment,{children:v.jsxs("div",{className:"w-full h-screen",children:[v.jsx("img",{className:"absolute w-full h-full object-cover",src:_S,alt:"/"}),v.jsx("div",{className:"bg-black/60 fixed top-0 left-0 w-full h-screen"}),v.jsx("div",{className:"fixed w-full px-4 py-24 z-50",children:v.jsx("div",{className:"max-w-[450px] h-[600px] mx-auto bg-black/75 text-white rounded-lg",children:v.jsxs("div",{className:"max-w-[320px] mx-auto py-16",children:[v.jsx("h1",{className:"text-3xl font-bold",children:"Sign Up"}),v.jsxs("form",{onSubmit:f,className:"w-full flex flex-col py-4",children:[v.jsx("input",{onChange:m=>e(m.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"email",placeholder:"Email",autoComplete:"email"}),v.jsx("input",{onChange:m=>s(m.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"password",placeholder:"Password",autoComplete:"new-password"}),v.jsx("button",{className:"bg-[var(--primary)] py-3 my-6 rounded font-bold text-black",children:"Sign Up"}),v.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[v.jsxs("p",{children:[v.jsx("input",{className:"mr-2",type:"checkbox"}),"Remember me"]}),v.jsx("p",{children:"Need Help?"})]}),v.jsxs("p",{className:"py-8",children:[v.jsx("span",{className:"text-gray-600",children:"Already subscribed to Mizuplay?"})," ",v.jsx(rn,{to:"/login",children:"Sign In"})]})]})]})})})]})})},CE="/mizu-play/assets/profile_default_banner-BwOa1bDb.png",k4=()=>{const{user:r,logOut:e,updateUserProfile:n,updateUserEmail:s,updateUserPassword:o}=qi(),u=vr(),[f,m]=O.useState(!1),[p,g]=O.useState(r?.displayName||""),[T,b]=O.useState(r?.photoURL||""),[A,M]=O.useState(r?.email||""),[z,B]=O.useState(""),[U,Z]=O.useState(""),[ne,ie]=O.useState(""),[se,ae]=O.useState(""),[ce,x]=O.useState(""),[R,C]=O.useState({x:50,y:100}),[P,D]=O.useState(1),[L,I]=O.useState({x:50,y:50}),[ze,ct]=O.useState(1),[Q,ue]=O.useState(null),[ge,ke]=O.useState([]);J1.useEffect(()=>{(async()=>{if(r?.email){try{const re=Li(sn,"users",r.email),le=await uu(re);if(le.exists()){const de=le.data();de.bannerURL&&(x(de.bannerURL),ae(de.bannerURL)),de.bannerPosition!==void 0&&(typeof de.bannerPosition=="number"?C({x:50,y:de.bannerPosition}):C(de.bannerPosition)),de.bannerZoom!==void 0&&D(de.bannerZoom),de.photoPosition!==void 0&&I(de.photoPosition),de.photoZoom!==void 0&&ct(de.photoZoom)}}catch(re){console.log("Error fetching user data:",re)}try{const le=(await cu(uf(sn,"users",r.email,"savedShows"))).docs.map(de=>de.data());ke(le)}catch(re){console.log("Error fetching my list:",re)}}})()},[r]);const He=async()=>{try{await e(),u("/")}catch(Y){console.log(Y)}},k=async Y=>{Y.preventDefault(),Z(""),ie("");try{(p!==r.displayName||T!==r.photoURL)&&await n({displayName:p,photoURL:T}),A!==r.email&&await s(A),z&&await o(z);const re=Li(sn,"users",r.email),le=await uu(re),de={bannerURL:se,bannerPosition:R,bannerZoom:P,photoPosition:L,photoZoom:ze};le.exists()?await cS(re,de):await df(re,de,{merge:!0}),x(se),ie("Profile updated successfully!"),m(!1)}catch(re){Z("Failed to update profile. "+re.message)}};return v.jsxs("div",{className:"w-full text-white bg-[#141414] min-h-screen",children:[v.jsx(Tr,{}),v.jsxs("div",{className:"relative w-full h-[450px] overflow-hidden",children:[v.jsx("img",{className:"absolute object-cover",src:ce||CE,alt:"/",style:{width:`${ce?P*100:100}%`,height:`${ce?P*100:100}%`,top:`${ce?R.y:100}%`,left:`${ce?R.x:50}%`,transform:`translate(-${ce?R.x:50}%, -${ce?R.y:100}%)`,objectPosition:ce?`${R.x}% ${R.y}%`:"center bottom"}}),v.jsx("div",{className:"absolute w-full h-full top-0 left-0 bg-gradient-to-t from-[#141414] via-transparent to-transparent"})]}),v.jsxs("div",{className:"px-[4%] py-8 relative -mt-32 z-20 w-full max-w-[600px]",children:[v.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-8",children:"My Account"}),ne&&v.jsx("p",{className:"p-3 bg-green-500 my-2 rounded",children:ne}),U&&v.jsx("p",{className:"p-3 bg-red-500 my-2 rounded",children:U}),f?v.jsx("form",{onSubmit:k,className:"bg-black/80 p-8 rounded",children:v.jsxs("div",{className:"flex flex-col gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Display Name"}),v.jsx("input",{type:"text",value:p,onChange:Y=>g(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Photo URL"}),v.jsx("input",{type:"text",value:T,onChange:Y=>b(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"https://example.com/photo.jpg"}),T&&v.jsx("button",{type:"button",onClick:()=>ue("photo"),className:"mt-2 text-sm text-[var(--primary)] hover:underline",children:"Adjust Photo Position"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Banner URL"}),v.jsx("input",{type:"text",value:se,onChange:Y=>ae(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"https://example.com/banner.jpg"}),se&&v.jsx("button",{type:"button",onClick:()=>ue("banner"),className:"mt-2 text-sm text-[var(--primary)] hover:underline",children:"Adjust Banner Position"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Email"}),v.jsx("input",{type:"email",value:A,onChange:Y=>M(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"New Password (leave blank to keep current)"}),v.jsx("input",{type:"password",value:z,onChange:Y=>B(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"New Password"})]}),v.jsxs("div",{className:"flex gap-4 mt-4",children:[v.jsx("button",{type:"submit",className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Save"}),v.jsx("button",{type:"button",onClick:()=>m(!1),className:"border border-gray-500 px-6 py-2 font-bold rounded hover:bg-gray-800 transition",children:"Cancel"})]})]})}):v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[v.jsx("div",{className:"w-20 h-20 bg-gray-500 rounded overflow-hidden relative",children:r?.photoURL?v.jsx("img",{src:r.photoURL,alt:"Profile",className:"absolute object-cover",style:{width:`${ze*100}%`,height:`${ze*100}%`,top:`${L.y}%`,left:`${L.x}%`,transform:`translate(-${L.x}%, -${L.y}%)`,objectPosition:`${L.x}% ${L.y}%`}}):v.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:r?.email?.[0]?.toUpperCase()})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold",children:r?.displayName||"User"}),v.jsx("p",{className:"text-gray-400",children:r?.email})]})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsx("button",{onClick:()=>m(!0),className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Edit Profile"}),v.jsx("button",{onClick:He,className:"bg-[#9c7880]/90 text-white px-6 py-2 font-bold rounded hover:bg-[#8a6a72] transition",children:"Logout"})]}),v.jsxs("div",{className:"mt-12",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"My List"}),v.jsxs("div",{className:"flex overflow-x-scroll whitespace-nowrap scrollbar-hide gap-4 pb-4",children:[ge.map((Y,re)=>v.jsxs("div",{className:"w-[160px] sm:w-[200px] inline-block cursor-pointer relative p-2 anime-card",onClick:()=>u(`/title/${Y.id}`),children:[v.jsx("img",{className:"w-full h-auto block rounded anime-image",src:Y.image,alt:Y.title}),v.jsx("p",{className:"text-sm mt-2 text-gray-300 truncate",children:Y.title})]},re)),ge.length===0&&v.jsx("p",{className:"text-gray-500",children:"Your list is empty."})]})]})]})]}),Q&&v.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-[#181818] w-full max-w-[800px] rounded-lg overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[v.jsxs("h3",{className:"text-xl font-bold",children:["Adjust ",Q==="banner"?"Banner":"Photo"," Position"]}),v.jsx("button",{onClick:()=>ue(null),className:"text-gray-400 hover:text-white",children:""})]}),v.jsxs("div",{className:"flex-1 relative bg-black flex flex-col items-center justify-center overflow-hidden p-8",children:[v.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Drag the sliders to adjust the position"}),v.jsxs("div",{className:`relative ${Q==="banner"?"w-full h-[200px]":"w-[200px] h-[200px] rounded-full"} border border-gray-700 overflow-hidden`,children:[v.jsx("img",{src:Q==="banner"?se||CE:T||r?.photoURL,alt:"Preview",className:"absolute object-cover",style:{width:`${(Q==="banner"?P:ze)*100}%`,height:`${(Q==="banner"?P:ze)*100}%`,top:`${Q==="banner"?R.y:L.y}%`,left:`${Q==="banner"?R.x:L.x}%`,transform:`translate(-${Q==="banner"?R.x:L.x}%, -${Q==="banner"?R.y:L.y}%)`,objectPosition:Q==="banner"?`${R.x}% ${R.y}%`:`${L.x}% ${L.y}%`}}),v.jsx("div",{className:`absolute inset-0 pointer-events-none border-x-4 border-y-4 border-[var(--primary)]/30 ${Q==="photo"?"rounded-full":""}`})]}),v.jsxs("div",{className:"mt-8 w-full max-w-[400px] flex flex-col gap-6",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[v.jsx("span",{children:"Horizontal"}),v.jsxs("span",{children:[Q==="banner"?R.x:L.x,"%"]})]}),v.jsx("input",{type:"range",min:"0",max:"100",value:Q==="banner"?R.x:L.x,onChange:Y=>{const re=Number(Y.target.value);Q==="banner"?C(le=>({...le,x:re})):I(le=>({...le,x:re}))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),v.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[v.jsx("span",{children:"Left"}),v.jsx("span",{children:"Right"})]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[v.jsx("span",{children:"Vertical"}),v.jsxs("span",{children:[Q==="banner"?R.y:L.y,"%"]})]}),v.jsx("input",{type:"range",min:"0",max:"100",value:Q==="banner"?R.y:L.y,onChange:Y=>{const re=Number(Y.target.value);Q==="banner"?C(le=>({...le,y:re})):I(le=>({...le,y:re}))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),v.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[v.jsx("span",{children:"Top"}),v.jsx("span",{children:"Bottom"})]})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[v.jsx("span",{children:"Zoom"}),v.jsxs("span",{children:[Q==="banner"?P.toFixed(1):ze.toFixed(1),"x"]})]}),v.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:Q==="banner"?P:ze,onChange:Y=>{const re=Number(Y.target.value);Q==="banner"?D(re):ct(re)},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),v.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[v.jsx("span",{children:"Far"}),v.jsx("span",{children:"Near"})]})]})]})]}),v.jsx("div",{className:"p-4 border-t border-gray-800 flex justify-end gap-4",children:v.jsx("button",{onClick:()=>ue(null),className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Done"})})]})})]})},L4=()=>{const[r,e]=O.useState(null),{animeList:n,loading:s}=ga();if(s)return v.jsx("div",{className:"text-white pt-20 pl-[4%]",children:"Loading..."});const o=n.filter(m=>m.category==="Series"),u={};o.forEach(m=>{m.genres?.forEach(p=>{const g=p.toLowerCase().trim();u[g]=(u[g]||0)+1})});const f=Object.keys(u).filter(m=>u[m]>=3).sort((m,p)=>u[p]-u[m]);return v.jsxs(v.Fragment,{children:[v.jsx(Tr,{}),v.jsxs("div",{className:"w-full text-white pt-[100px]",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"TV Series"}),f.map(m=>v.jsx(ri,{title:m.charAt(0).toUpperCase()+m.slice(1),animes:o.filter(p=>p.genres?.some(g=>g.toLowerCase().trim()===m)),onPlay:e},m)),v.jsx(ri,{title:"All Series",animes:o,onPlay:e})]}),r&&v.jsx(Vo,{anime:r,onClose:()=>e(null)})]})},j4=()=>{const[r,e]=O.useState(null),{animeList:n,loading:s}=ga();if(s)return v.jsx("div",{className:"text-white pt-20 pl-[4%]",children:"Loading..."});const o=n.filter(m=>m.category==="Movie"),u={};o.forEach(m=>{m.genres?.forEach(p=>{const g=p.toLowerCase().trim();u[g]=(u[g]||0)+1})});const f=Object.keys(u).sort((m,p)=>u[p]-u[m]);return v.jsxs(v.Fragment,{children:[v.jsx(Tr,{}),v.jsxs("div",{className:"w-full text-white pt-[100px]",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"Movies"}),f.map(m=>v.jsx(ri,{title:m.charAt(0).toUpperCase()+m.slice(1),animes:o.filter(p=>p.genres?.some(g=>g.toLowerCase().trim()===m)),onPlay:e},m)),v.jsx(ri,{title:"All Movies",animes:o,onPlay:e})]}),r&&v.jsx(Vo,{anime:r,onClose:()=>e(null)})]})},U4=()=>{const[r,e]=O.useState(null),{animeList:n,trendingList:s,newReleasesList:o,loading:u}=ga();return u?v.jsx("div",{className:"text-white pt-20 pl-[4%]",children:"Loading..."}):v.jsxs(v.Fragment,{children:[v.jsx(Tr,{}),v.jsxs("div",{className:"w-full text-white pt-[100px]",children:[v.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"New & Popular"}),v.jsx(ri,{title:"New Releases",animes:o,onPlay:e}),v.jsx(ri,{title:"Trending Now",animes:s,onPlay:e})]}),r&&v.jsx(Vo,{anime:r,onClose:()=>e(null)})]})},z4=()=>{const[r,e]=O.useState(null),[n,s]=O.useState([]),{user:o}=qi();return O.useEffect(()=>{(async()=>{if(o?.email){const m=(await cu(uf(sn,"users",o.email,"savedShows"))).docs.map(p=>p.data());s(m)}})()},[o,r]),v.jsxs(v.Fragment,{children:[v.jsx(Tr,{}),v.jsxs("div",{className:"w-full text-white pt-[100px]",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 px-[4%]",children:"My List"}),n.length>0?v.jsx(ri,{title:"Saved Shows",animes:n,onPlay:e}):v.jsx("p",{className:"text-gray-500 px-[4%]",children:"You haven't added anything to your list yet."})]}),r&&v.jsx(Vo,{anime:r,onClose:()=>e(null)})]})},B4=()=>{const[r]=IA(),e=r.get("q"),[n,s]=O.useState([]),{animeList:o}=ga();return O.useEffect(()=>{if(e&&o.length>0){const u=o.filter(f=>f.title.toLowerCase().includes(e.toLowerCase())||f.genres?.some(m=>m.toLowerCase().includes(e.toLowerCase())));s(u)}else s([])},[e]),v.jsxs("div",{className:"w-full min-h-screen bg-black text-white",children:[v.jsx(Tr,{}),v.jsxs("div",{className:"pt-[100px] px-[4%] pb-20",children:[v.jsxs("h2",{className:"text-2xl font-bold mb-8 text-[#e5e5e5]",children:['Results for "',e,'"']}),n.length>0?v.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-8 gap-x-2 gap-y-10",children:n.map(u=>{const f=g=>{if(!g)return!1;const T=new Date(g),A=(new Date-T)/(1e3*60*60*24);return A>=0&&A<=7},m=f(u.createdAt)&&u.category==="Movie",p=f(u.lastEpisodeAt)&&u.category==="Series";return v.jsxs(rn,{to:`/title/${u.id}`,className:"anime-card",style:{cursor:"pointer",position:"relative",width:"100%"},children:[m&&v.jsx("div",{style:{position:"absolute",top:"12px",left:"12px",backgroundColor:"#f2c2cb",color:"#141414",padding:"2px 9px",fontSize:"0.7rem",fontWeight:"800",borderRadius:"2px",zIndex:30,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.5)",letterSpacing:"0.2px",textTransform:"uppercase",fontFamily:"var(--font-main)"},children:"New"}),p&&v.jsx("div",{style:{position:"absolute",top:"12px",left:"12px",backgroundColor:"#f2c2cb",color:"#141414",padding:"2px 9px",fontSize:"0.7rem",fontWeight:"800",borderRadius:"2px",zIndex:30,boxShadow:"0 2px 4px rgba(0, 0, 0, 0.5)",letterSpacing:"0.2px",textTransform:"uppercase",fontFamily:"var(--font-main)"},children:"New epis."}),v.jsx("div",{className:"anime-image",style:{position:"relative",overflow:"hidden",borderRadius:"4px",height:"140px",transition:"all 0.3s ease"},children:v.jsx("img",{src:u.image,alt:u.title,style:{width:"100%",height:"100%",objectFit:"cover",position:"relative",zIndex:10}})}),v.jsx("p",{style:{marginTop:"0.5rem",color:"#999",fontSize:"0.9rem",fontWeight:"500",paddingLeft:"0.5rem",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:u.title})]},u.id)})}):v.jsx("p",{className:"text-gray-400",children:"No matches found."})]})]})},q4=()=>{const{id:r}=jw(),{user:e}=qi(),{animeList:n,featuredAnime:s}=ga(),[o,u]=O.useState(null),[f,m]=O.useState(!1),[p,g]=O.useState(null),[T,b]=O.useState(!1),[A,M]=O.useState(1);O.useEffect(()=>{if(!n||n.length===0)return;const B=n.find(Z=>Z.id.toString()===r);B?u(B):s&&s.id.toString()===r&&u(s),window.scrollTo(0,0),(async()=>{if(e?.email&&r){const Z=Li(sn,"users",e.email,"savedShows",r);(await uu(Z)).exists()?b(!0):b(!1)}})()},[r,n,s,e]);const z=async()=>{if(!e?.email||!o)return;const B=o.id.toString(),U=Li(sn,"users",e.email,"savedShows",B);T?(await hS(U),b(!1)):(await df(U,{id:B,title:o.title,image:o.image,category:o.category||"Series"}),b(!0))};return o?v.jsxs("div",{className:"bg-[#141414] min-h-screen text-white",children:[v.jsx(Tr,{}),v.jsxs("div",{className:"relative w-full h-[70vh]",children:[v.jsx("div",{className:"absolute w-full h-full bg-gradient-to-r from-black via-transparent to-transparent z-10"}),v.jsx("div",{className:"absolute w-full h-full bg-gradient-to-b from-transparent via-[#141414]/50 to-[#141414] z-10 bottom-0"}),v.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"}),v.jsxs("div",{className:"absolute top-[30%] lg:top-[40%] pl-[4%] z-20 max-w-[90%] md:max-w-[50%]",children:[v.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 drop-shadow-lg",children:o.title}),v.jsxs("div",{className:"flex items-center gap-4 text-gray-300 mb-6 text-sm md:text-base",children:[v.jsx("span",{className:"text-green-400 font-bold",children:"98% Match"}),v.jsx("span",{children:"2024"}),v.jsx("span",{className:"border border-gray-500 px-2 py-0.5 text-xs",children:"16+"}),v.jsx("span",{children:o.category==="Movie"?"1h 55m":"1 Season"})]}),v.jsxs("div",{className:"flex gap-4 mb-4",children:[v.jsxs("button",{onClick:()=>{if(o.category==="Movie")g(null);else if(o.seasons){const B=o.seasons.find(U=>U.season===A)||o.seasons[0];B.episodes[0]&&g(B.episodes[0])}m(!0)},className:"bg-[var(--primary)] text-black px-6 py-2 rounded font-bold flex items-center gap-2 hover:bg-opacity-80 transition",children:[v.jsx(Eh,{size:24,fill:"black"})," Play"]}),v.jsxs("button",{onClick:z,className:"bg-[#9c7880]/90 text-white px-6 py-2 rounded font-bold flex items-center gap-2 hover:bg-[#8a6a72] transition",children:[T?v.jsx(h4,{size:24}):v.jsx(b4,{size:24}),T?"In List":"My List"]})]}),v.jsx("p",{className:"text-gray-300 text-sm md:text-lg drop-shadow-md",children:o.description||"Join the adventure in this critically acclaimed series."})]})]}),v.jsxs("div",{className:"px-[4%] pt-6 pb-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[v.jsx("div",{className:"md:col-span-2",children:o.category==="Movie"?v.jsxs("div",{className:"mt-4",children:[v.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Watch Movie"}),v.jsxs("div",{className:"flex items-center gap-6 p-6 bg-[#222] hover:bg-[#333] rounded-lg cursor-pointer transition group border border-gray-800",onClick:()=>{g(null),m(!0)},children:[v.jsxs("div",{className:"relative w-48 h-28 bg-gray-700 rounded overflow-hidden flex-shrink-0 shadow-lg",children:[v.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition"}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-transparent transition",children:v.jsx("div",{className:"bg-white/20 p-3 rounded-full backdrop-blur-sm group-hover:scale-110 transition",children:v.jsx(Eh,{size:30,className:"text-white",fill:"white"})})})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:o.title}),v.jsx("p",{className:"text-gray-400 text-sm mb-2",children:o.genre}),v.jsx("span",{className:"text-sm font-semibold bg-[var(--primary)] px-2 py-1 rounded text-black",children:"Full Movie"})]})]})]}):o.seasons?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"mb-8 relative inline-block group",children:v.jsxs("div",{className:"relative",children:[v.jsx("select",{className:"appearance-none bg-[#242424] text-white rounded px-4 py-2 pr-10 text-lg font-bold focus:outline-none cursor-pointer min-w-[160px] hover:bg-[#333] transition-colors",value:A,onChange:B=>M(parseInt(B.target.value)),children:o.seasons.map(B=>v.jsxs("option",{value:B.season,children:["Season ",B.season]},B.season))}),v.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none text-white",children:v.jsx(d4,{size:20})})]})}),v.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-2",children:[v.jsx("h3",{className:"text-2xl font-bold",children:"Episodes"}),v.jsxs("span",{className:"text-lg text-gray-400",children:[o.seasons.find(B=>B.season===A)?.episodes.length||0," Episodes"]})]}),v.jsx("div",{className:"space-y-4",children:(o.seasons.find(B=>B.season===A)?.episodes||[]).map(B=>v.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-[#333] rounded cursor-pointer transition group",onClick:()=>{g(B),m(!0)},children:[v.jsx("span",{className:"text-2xl text-gray-500 font-bold w-6",children:B.id}),v.jsxs("div",{className:"relative w-32 h-20 bg-gray-700 rounded overflow-hidden flex-shrink-0",children:[v.jsx("img",{src:o.image,alt:`Ep ${B.id}`,className:"w-full h-full object-cover opacity-70 group-hover:opacity-100"}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:v.jsx(Eh,{size:20,className:"invisible group-hover:visible",fill:"white"})})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-sm md:text-base",children:B.title}),v.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:B.duration})]})]},B.id))})]}):null}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("span",{className:"text-gray-500 block text-sm",children:"Genre:"}),v.jsx("span",{className:"text-white text-sm",children:o.genre||"Anime"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-gray-500 block text-sm",children:"Cast:"}),v.jsx("span",{className:"text-white text-sm",children:"Voice Actor 1, Voice Actor 2"})]}),v.jsxs("div",{children:[v.jsx("span",{className:"text-gray-500 block text-sm",children:"Maturity Rating:"}),v.jsx("span",{className:"border border-white/40 px-2 py-0.5 text-xs inline-block mt-1",children:"TV-MA"}),v.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Violence, Language"})]})]})]}),f&&v.jsx(Vo,{anime:o,onClose:()=>{m(!1),g(null)},videoUrl:p?.video})]}):v.jsx("div",{className:"text-white pt-20",children:"Loading..."})},H4=()=>{const{user:r}=qi(),e="mperezpulles@gmail.com",[n,s]=O.useState({id:"",title:"",category:"Series",description:"",image:"",genres:"",isNew:!1,featured:!1,video:"",genre:""}),[o,u]=O.useState({animeId:"",season:1,episodeId:"",episodeTitle:"",videoUrl:"",duration:"24m"}),[f,m]=O.useState("");if(r?.email!==e)return v.jsx("div",{className:"bg-[#141414] min-h-screen text-white flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Acceso Denegado"}),v.jsx("p",{children:"No tienes permisos para ver esta pgina."})]})});const p=async T=>{T.preventDefault(),m("Guardando anime...");try{const b=n.genres.split(",").map(M=>M.trim()),A={...n,id:parseInt(n.id),genres:b,createdAt:new Date().toISOString(),seasons:n.category==="Series"?[{season:1,episodes:[]}]:null};await df(Li(sn,"animes",n.id.toString()),A),m("Anime guardado con xito!"),s({id:"",title:"",category:"Series",description:"",image:"",genres:"",isNew:!1,featured:!1,video:"",genre:""})}catch(b){m("Error: "+b.message)}},g=async T=>{T.preventDefault(),m("Aadiendo episodio...");try{const b=Li(sn,"animes",o.animeId.toString()),A=await uu(b);if(!A.exists())throw new Error("No se encontr el anime con ese ID");const z=A.data().seasons||[];let B=z.findIndex(ne=>ne.season===parseInt(o.season));B===-1&&(z.push({season:parseInt(o.season),episodes:[]}),B=z.length-1);const U={id:parseInt(o.episodeId),title:o.episodeTitle,video:o.videoUrl,duration:o.duration};if(z[B].episodes.some(ne=>ne.id===U.id))throw new Error("Ese nmero de episodio ya existe en esta temporada");z[B].episodes.push(U),z[B].episodes.sort((ne,ie)=>ne.id-ie.id),await cS(b,{seasons:z,lastEpisodeAt:new Date().toISOString()}),m("Episodio aadido con xito!"),u({...o,episodeId:"",episodeTitle:"",videoUrl:""})}catch(b){m("Error: "+b.message)}};return v.jsxs("div",{className:"bg-[#141414] min-h-screen text-white",children:[v.jsx(Tr,{}),v.jsxs("div",{className:"pt-24 px-[4%] max-w-4xl mx-auto",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8 text-[var(--primary)]",children:"Panel de Administrador"}),f&&v.jsx("div",{className:"bg-blue-600/20 border border-blue-500 p-4 rounded mb-8 text-center",children:f}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[v.jsxs("section",{className:"bg-[#222] p-6 rounded-lg border border-gray-800",children:[v.jsx("h2",{className:"text-xl font-bold mb-6",children:"Aadir Nuevo Anime / Pelcula"}),v.jsxs("form",{onSubmit:p,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ID (Nmero nico)"}),v.jsx("input",{required:!0,type:"number",value:n.id,onChange:T=>s({...n,id:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",placeholder:"Ej: 15"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ttulo"}),v.jsx("input",{required:!0,type:"text",value:n.title,onChange:T=>s({...n,title:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Categora"}),v.jsxs("select",{value:n.category,onChange:T=>s({...n,category:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",children:[v.jsx("option",{value:"Series",children:"Series"}),v.jsx("option",{value:"Movie",children:"Movie"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Imagen (URL)"}),v.jsx("input",{required:!0,type:"text",value:n.image,onChange:T=>s({...n,image:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Gneros (Separados por comas)"}),v.jsx("input",{required:!0,type:"text",value:n.genres,onChange:T=>s({...n,genres:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",placeholder:"Action, Fantasy, Comedy"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Descripcin"}),v.jsx("textarea",{required:!0,value:n.description,onChange:T=>s({...n,description:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none h-24"})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.isNew,onChange:T=>s({...n,isNew:T.target.checked}),className:"accent-[var(--primary)]"}),v.jsx("span",{children:"Marcar como Nuevo"})]}),v.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:n.featured,onChange:T=>s({...n,featured:T.target.checked}),className:"accent-[var(--primary)]"}),v.jsx("span",{children:"Destacado (Hero)"})]})]}),v.jsx("button",{type:"submit",className:"w-full bg-[var(--primary)] text-black font-bold py-2 rounded hover:bg-opacity-80 transition mt-4",children:"Guardar Anime"})]})]}),v.jsxs("section",{className:"bg-[#222] p-6 rounded-lg border border-gray-800",children:[v.jsx("h2",{className:"text-xl font-bold mb-6",children:"Aadir Episodio a Serie"}),v.jsxs("form",{onSubmit:g,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ID del Anime (al que aadir)"}),v.jsx("input",{required:!0,type:"number",value:o.animeId,onChange:T=>u({...o,animeId:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",placeholder:"ID numrico"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Temporada"}),v.jsx("input",{required:!0,type:"number",value:o.season,onChange:T=>u({...o,season:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nmero de Episodio"}),v.jsx("input",{required:!0,type:"number",value:o.episodeId,onChange:T=>u({...o,episodeId:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ttulo del Episodio"}),v.jsx("input",{required:!0,type:"text",value:o.episodeTitle,onChange:T=>u({...o,episodeTitle:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",placeholder:"Ej: El reencuentro"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"URL de Vdeo (Cloudflare / Drive)"}),v.jsx("input",{required:!0,type:"text",value:o.videoUrl,onChange:T=>u({...o,videoUrl:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Duracin"}),v.jsx("input",{required:!0,type:"text",value:o.duration,onChange:T=>u({...o,duration:T.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),v.jsx("button",{type:"submit",className:"w-full bg-[var(--primary)] text-black font-bold py-2 rounded hover:bg-opacity-80 transition mt-4",children:"Aadir Episodio"})]})]})]})]})]})},lr=({children:r})=>{const{user:e,loading:n}=qi();return n?null:e?r:v.jsx(Zw,{to:"/login"})};function F4(){return v.jsx("div",{className:"app",children:v.jsx(t4,{children:v.jsx(n4,{children:v.jsx(wA,{children:v.jsxs(eA,{children:[v.jsx(qn,{path:"/login",element:v.jsx(V4,{})}),v.jsx(qn,{path:"/signup",element:v.jsx(P4,{})}),v.jsx(qn,{path:"/",element:v.jsx(lr,{children:v.jsx(M4,{})})}),v.jsx(qn,{path:"/series",element:v.jsx(lr,{children:v.jsx(L4,{})})}),v.jsx(qn,{path:"/movies",element:v.jsx(lr,{children:v.jsx(j4,{})})}),v.jsx(qn,{path:"/new",element:v.jsx(lr,{children:v.jsx(U4,{})})}),v.jsx(qn,{path:"/mylist",element:v.jsx(lr,{children:v.jsx(z4,{})})}),v.jsx(qn,{path:"/search",element:v.jsx(lr,{children:v.jsx(B4,{})})}),v.jsx(qn,{path:"/title/:id",element:v.jsx(lr,{children:v.jsx(q4,{})})}),v.jsx(qn,{path:"/account",element:v.jsx(lr,{children:v.jsx(k4,{})})}),v.jsx(qn,{path:"/admin",element:v.jsx(lr,{children:v.jsx(H4,{})})})]})})})})})}aw.createRoot(document.getElementById("root")).render(v.jsx(O.StrictMode,{children:v.jsx(F4,{})}));
