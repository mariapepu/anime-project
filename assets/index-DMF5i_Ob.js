(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function zA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var hm={exports:{}},kl={};var Av;function BA(){if(Av)return kl;Av=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var wv;function HA(){return wv||(wv=1,hm.exports=BA()),hm.exports}var b=HA(),fm={exports:{}},be={};var Rv;function qA(){if(Rv)return be;Rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,q={};function Z(V,Y,ie){this.props=V,this.context=Y,this.refs=q,this.updater=ie||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},Z.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function ne(){}ne.prototype=Z.prototype;function re(V,Y,ie){this.props=V,this.context=Y,this.refs=q,this.updater=ie||G}var ge=re.prototype=new ne;ge.constructor=re,$(ge,Z.prototype),ge.isPureReactComponent=!0;var Re=Array.isArray;function _e(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,Y,ie){var ae=ie.ref;return{$$typeof:r,type:V,key:Y,ref:ae!==void 0?ae:null,props:ie}}function M(V,Y){return C(V.type,Y,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function P(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return Y[ie]})}var I=/\/+/g;function ze(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?P(""+V.key):Y.toString(36)}function ct(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(_e,_e):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function F(V,Y,ie,ae,ue){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,F(Ue(V._payload),Y,ie,ae,ue)}}if(Ue)return ue=ue(V),Ue=ae===""?"."+ze(V,0):ae,Re(ue)?(ie="",Ue!=null&&(ie=Ue.replace(I,"$&/")+"/"),F(ue,Y,ie,"",function(Es){return Es})):ue!=null&&(D(ue)&&(ue=M(ue,ie+(ue.key==null||V&&V.key===ue.key?"":(""+ue.key).replace(I,"$&/")+"/")+Ue)),Y.push(ue)),1;Ue=0;var Dt=ae===""?".":ae+":";if(Re(V))for(var st=0;st<V.length;st++)ae=V[st],Ce=Dt+ze(ae,st),Ue+=F(ae,Y,ie,Ce,ue);else if(st=k(V),typeof st=="function")for(V=st.call(V),st=0;!(ae=V.next()).done;)ae=ae.value,Ce=Dt+ze(ae,st++),Ue+=F(ae,Y,ie,Ce,ue);else if(Ce==="object"){if(typeof V.then=="function")return F(ct(V),Y,ie,ae,ue);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(V,Y,ie){if(V==null)return V;var ae=[],ue=0;return F(V,ae,"","",function(Ce){return Y.call(ie,Ce,ue++)}),ae}function de(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var ke=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},qe={map:oe,forEach:function(V,Y,ie){oe(V,function(){Y.apply(this,arguments)},ie)},count:function(V){var Y=0;return oe(V,function(){Y++}),Y},toArray:function(V){return oe(V,function(Y){return Y})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return be.Activity=T,be.Children=qe,be.Component=Z,be.Fragment=n,be.Profiler=o,be.PureComponent=re,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},be.cache=function(V){return function(){return V.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(V,Y,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=$({},V.props),ue=V.key;if(Y!=null)for(Ce in Y.key!==void 0&&(ue=""+Y.key),Y)!R.call(Y,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&Y.ref===void 0||(ae[Ce]=Y[Ce]);var Ce=arguments.length-2;if(Ce===1)ae.children=ie;else if(1<Ce){for(var Ue=Array(Ce),Dt=0;Dt<Ce;Dt++)Ue[Dt]=arguments[Dt+2];ae.children=Ue}return C(V.type,ue,ae)},be.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},be.createElement=function(V,Y,ie){var ae,ue={},Ce=null;if(Y!=null)for(ae in Y.key!==void 0&&(Ce=""+Y.key),Y)R.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ue[ae]=Y[ae]);var Ue=arguments.length-2;if(Ue===1)ue.children=ie;else if(1<Ue){for(var Dt=Array(Ue),st=0;st<Ue;st++)Dt[st]=arguments[st+2];ue.children=Dt}if(V&&V.defaultProps)for(ae in Ue=V.defaultProps,Ue)ue[ae]===void 0&&(ue[ae]=Ue[ae]);return C(V,Ce,ue)},be.createRef=function(){return{current:null}},be.forwardRef=function(V){return{$$typeof:m,render:V}},be.isValidElement=D,be.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:de}},be.memo=function(V,Y){return{$$typeof:g,type:V,compare:Y===void 0?null:Y}},be.startTransition=function(V){var Y=x.T,ie={};x.T=ie;try{var ae=V(),ue=x.S;ue!==null&&ue(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(_e,ke)}catch(Ce){ke(Ce)}finally{Y!==null&&ie.types!==null&&(Y.types=ie.types),x.T=Y}},be.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},be.use=function(V){return x.H.use(V)},be.useActionState=function(V,Y,ie){return x.H.useActionState(V,Y,ie)},be.useCallback=function(V,Y){return x.H.useCallback(V,Y)},be.useContext=function(V){return x.H.useContext(V)},be.useDebugValue=function(){},be.useDeferredValue=function(V,Y){return x.H.useDeferredValue(V,Y)},be.useEffect=function(V,Y){return x.H.useEffect(V,Y)},be.useEffectEvent=function(V){return x.H.useEffectEvent(V)},be.useId=function(){return x.H.useId()},be.useImperativeHandle=function(V,Y,ie){return x.H.useImperativeHandle(V,Y,ie)},be.useInsertionEffect=function(V,Y){return x.H.useInsertionEffect(V,Y)},be.useLayoutEffect=function(V,Y){return x.H.useLayoutEffect(V,Y)},be.useMemo=function(V,Y){return x.H.useMemo(V,Y)},be.useOptimistic=function(V,Y){return x.H.useOptimistic(V,Y)},be.useReducer=function(V,Y,ie){return x.H.useReducer(V,Y,ie)},be.useRef=function(V){return x.H.useRef(V)},be.useState=function(V){return x.H.useState(V)},be.useSyncExternalStore=function(V,Y,ie){return x.H.useSyncExternalStore(V,Y,ie)},be.useTransition=function(){return x.H.useTransition()},be.version="19.2.1",be}var Cv;function op(){return Cv||(Cv=1,fm.exports=qA()),fm.exports}var L=op();const FA=zA(L);var dm={exports:{}},Ll={},mm={exports:{}},pm={};var Iv;function GA(){return Iv||(Iv=1,(function(r){function e(F,oe){var de=F.length;F.push(oe);e:for(;0<de;){var ke=de-1>>>1,qe=F[ke];if(0<o(qe,oe))F[ke]=oe,F[de]=qe,de=ke;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var oe=F[0],de=F.pop();if(de!==oe){F[0]=de;e:for(var ke=0,qe=F.length,V=qe>>>1;ke<V;){var Y=2*(ke+1)-1,ie=F[Y],ae=Y+1,ue=F[ae];if(0>o(ie,de))ae<qe&&0>o(ue,ie)?(F[ke]=ue,F[ae]=de,ke=ae):(F[ke]=ie,F[Y]=de,ke=Y);else if(ae<qe&&0>o(ue,de))F[ke]=ue,F[ae]=de,ke=ae;else break e}}return oe}function o(F,oe){var de=F.sortIndex-oe.sortIndex;return de!==0?de:F.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,w=3,k=!1,G=!1,$=!1,q=!1,Z=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ge(F){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=F)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function Re(F){if($=!1,ge(F),!G)if(n(p)!==null)G=!0,_e||(_e=!0,P());else{var oe=n(g);oe!==null&&ct(Re,oe.startTime-F)}}var _e=!1,x=-1,R=5,C=-1;function M(){return q?!0:!(r.unstable_now()-C<R)}function D(){if(q=!1,_e){var F=r.unstable_now();C=F;var oe=!0;try{e:{G=!1,$&&($=!1,ne(x),x=-1),k=!0;var de=w;try{t:{for(ge(F),T=n(p);T!==null&&!(T.expirationTime>F&&M());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,w=T.priorityLevel;var qe=ke(T.expirationTime<=F);if(F=r.unstable_now(),typeof qe=="function"){T.callback=qe,ge(F),oe=!0;break t}T===n(p)&&s(p),ge(F)}else s(p);T=n(p)}if(T!==null)oe=!0;else{var V=n(g);V!==null&&ct(Re,V.startTime-F),oe=!1}}break e}finally{T=null,w=de,k=!1}oe=void 0}}finally{oe?P():_e=!1}}}var P;if(typeof re=="function")P=function(){re(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ze=I.port2;I.port1.onmessage=D,P=function(){ze.postMessage(null)}}else P=function(){Z(D,0)};function ct(F,oe){x=Z(function(){F(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(F){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var de=w;w=oe;try{return F()}finally{w=de}},r.unstable_requestPaint=function(){q=!0},r.unstable_runWithPriority=function(F,oe){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var de=w;w=F;try{return oe()}finally{w=de}},r.unstable_scheduleCallback=function(F,oe,de){var ke=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,F){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=de+qe,F={id:E++,callback:oe,priorityLevel:F,startTime:de,expirationTime:qe,sortIndex:-1},de>ke?(F.sortIndex=de,e(g,F),n(p)===null&&F===n(g)&&($?(ne(x),x=-1):$=!0,ct(Re,de-ke))):(F.sortIndex=qe,e(p,F),G||k||(G=!0,_e||(_e=!0,P()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var oe=w;return function(){var de=w;w=oe;try{return F.apply(this,arguments)}finally{w=de}}}})(pm)),pm}var xv;function KA(){return xv||(xv=1,mm.exports=GA()),mm.exports}var gm={exports:{}},Xt={};var Nv;function YA(){if(Nv)return Xt;Nv=1;var r=op();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.1",Xt}var Dv;function QA(){if(Dv)return gm.exports;Dv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=YA(),gm.exports}var Ov;function XA(){if(Ov)return Ll;Ov=1;var r=KA(),e=op(),n=QA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),Re=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Z:return"Profiler";case q:return"StrictMode";case Re:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case re:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case ge:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:ze(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ze(t(i))}catch{}}return null}var ct=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],qe=-1;function V(t){return{current:t}}function Y(t){0>qe||(t.current=ke[qe],ke[qe]=null,qe--)}function ie(t,i){qe++,ke[qe]=t.current,t.current=i}var ae=V(null),ue=V(null),Ce=V(null),Ue=V(null);function Dt(t,i){switch(ie(Ce,i),ie(ue,t),ie(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Y_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Y_(i),t=Q_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),ie(ae,t)}function st(){Y(ae),Y(ue),Y(Ce)}function Es(t){t.memoizedState!==null&&ie(Ue,t);var i=ae.current,a=Q_(i,t.type);i!==a&&(ie(ue,t),ie(ae,a))}function da(t){ue.current===t&&(Y(ae),Y(ue)),Ue.current===t&&(Y(Ue),Ol._currentValue=de)}var ma,pa;function si(t){if(ma===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ma=i&&i[1]||"",pa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ma+t+pa}var Oo=!1;function Ts(t,i){if(!t||Oo)return"";Oo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var H=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){H=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){H=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&H&&typeof Q.stack=="string")return[Q.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),B=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Oo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?si(a):""}function Mo(t,i){switch(t.tag){case 26:case 27:case 5:return si(t.type);case 16:return si("Lazy");case 13:return t.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return Ts(t.type,!1);case 11:return Ts(t.type.render,!1);case 1:return Ts(t.type,!0);case 31:return si("Activity");default:return""}}function Vo(t){try{var i="",a=null;do i+=Mo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vt=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,vr=r.unstable_cancelCallback,df=r.unstable_shouldYield,Eu=r.unstable_requestPaint,en=r.unstable_now,bs=r.unstable_getCurrentPriorityLevel,Po=r.unstable_ImmediatePriority,ko=r.unstable_UserBlockingPriority,Er=r.unstable_NormalPriority,mf=r.unstable_LowPriority,Tu=r.unstable_IdlePriority,bu=r.log,Su=r.unstable_setDisableYieldValue,Hn=null,zt=null;function Cn(t){if(typeof bu=="function"&&Su(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Hn,t)}catch{}}var mt=Math.clz32?Math.clz32:wu,Au=Math.log,ga=Math.LN2;function wu(t){return t>>>=0,t===0?32:31-(Au(t)/ga|0)|0}var ai=256,Ss=262144,Et=4194304;function oi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function li(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=oi(l):(_&=S,_!==0?h=oi(_):a||(a=S&~t,a!==0&&(h=oi(a))))):(S=l&~d,S!==0?h=oi(S):_!==0?h=oi(_):a||(a=l&~t,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function ui(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function As(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function gf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-mt(a),J=1<<X;S[X]=0,N[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var Q=H[X];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&ws(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ws(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Uo(t,i){var a=i&-i;return a=(a&42)!==0?1:Rs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:yv(t.type))}function Fn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Gn=Math.random().toString(36).slice(2),Tt="__reactFiber$"+Gn,kt="__reactProps$"+Gn,ci="__reactContainer$"+Gn,ya="__reactEvents$"+Gn,yf="__reactListeners$"+Gn,Iu="__reactHandles$"+Gn,xu="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function _a(t){delete t[Tt],delete t[kt],delete t[ya],delete t[yf],delete t[Iu]}function fi(t){var i=t[Tt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ci]||a[Tt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=tv(t);t!==null;){if(a=t[Tt])return a;t=tv(t)}return i}t=a,a=t.parentNode}return null}function In(t){if(t=t[Tt]||t[ci]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function di(t){var i=t[xu];return i||(i=t[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function bt(t){t[hi]=!0}var jo=new Set,zo={};function mi(t,i){pi(t,i),pi(t+"Capture",i)}function pi(t,i){for(zo[t]=i,t=0;t<i.length;t++)jo.add(i[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},qo={};function Nu(t){return vt.call(qo,t)?!0:vt.call(Ho,t)?!1:Bo.test(t)?qo[t]=!0:(Ho[t]=!0,!1)}function va(t,i,a){if(Nu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function yn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Tr(t)?"checked":"value";t._valueTracker=Fo(t,i,""+t[i])}}function Cs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Tr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Is=/[\n"\\]/g;function rn(t){return t.replace(Is,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Go(t,_,Lt(i)):a!=null?Go(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Lt(S):t.removeAttribute("name")}function Du(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Go(t,i,a){i==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function br(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ou(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Sr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ct(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ye(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Mu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ko(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ko(t,d,i[d])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ar=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ba(t){return Ar.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Qo=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,yi=null;function xs(t){var i=In(t);if(i&&(t=i.stateNode)){var a=t[kt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[kt]||null;if(!h)throw Error(s(90));Ea(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Cs(l)}break e;case"textarea":Ou(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&br(t,!!a.multiple,i,!1)}}}var Sa=!1;function Rr(t,i,a){if(Sa)return t(i,a);Sa=!0;try{var l=t(i);return l}finally{if(Sa=!1,(wr!==null||yi!==null)&&(Cc(),wr&&(i=wr,t=yi,yi=wr=null,xs(i),t)))for(i=0;i<t.length;i++)xs(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[kt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(Nn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ns=!1}var _i=null,Xo=null,Ds=null;function $o(){if(Ds)return Ds;var t,i=Xo,a=i.length,l,h="value"in _i?_i.value:_i.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ds=h.slice(t,1<l?1-l:void 0)}function Os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Qn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Qn,this.isPropagationStopped=Qn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Bt(Hi),Cr=T({},Hi,{view:0,detail:0}),Wo=Bt(Cr),Ir,Aa,Ei,wa=T({},Cr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ei&&(Ei&&t.type==="mousemove"?(Ir=t.screenX-Ei.screenX,Aa=t.screenY-Ei.screenY):Aa=Ir=0,Ei=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Zo=Bt(wa),Ms=T({},wa,{dataTransfer:0}),Pu=Bt(Ms),ku=T({},Cr,{relatedTarget:0}),Vs=Bt(ku),Jo=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Lu=Bt(Jo),Ra=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uu=Bt(Ra),ju=T({},Hi,{data:0}),Ti=Bt(ju),zu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function xr(){return qu}var tn=T({},Cr,{key:function(t){if(t.key){var i=zu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fu=Bt(tn),Gu=T({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Bt(Gu),c=T({},Cr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=Bt(c),v=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),j=T({},wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Bt(j),se=T({},Hi,{newState:0,oldState:0}),Ae=Bt(se),pt=[9,13,27,32],Fe=Nn&&"CompositionEvent"in window,at=null;Nn&&"documentMode"in document&&(at=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!at,bi=Nn&&(!Fe||at&&8<at&&11>=at),Xn=" ",$n=!1;function Ps(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function cS(t,i){switch(t){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function hS(t,i){if(Ia)return t==="compositionend"||!Fe&&Ps(t,i)?(t=$o(),Ds=Xo=_i=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!fS[t.type]:i==="textarea"}function sg(t,i,a,l){wr?yi?yi.push(l):yi=[l]:wr=l,i=Vc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var el=null,tl=null;function dS(t){B_(t,0)}function Ku(t){var i=gn(t);if(Cs(i))return t}function ag(t,i){if(t==="change")return i}var og=!1;if(Nn){var _f;if(Nn){var vf="oninput"in document;if(!vf){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),vf=typeof lg.oninput=="function"}_f=vf}else _f=!1;og=_f&&(!document.documentMode||9<document.documentMode)}function ug(){el&&(el.detachEvent("onpropertychange",cg),tl=el=null)}function cg(t){if(t.propertyName==="value"&&Ku(tl)){var i=[];sg(i,tl,t,xn(t)),Rr(dS,i)}}function mS(t,i,a){t==="focusin"?(ug(),el=i,tl=a,el.attachEvent("onpropertychange",cg)):t==="focusout"&&ug()}function pS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ku(tl)}function gS(t,i){if(t==="click")return Ku(i)}function yS(t,i){if(t==="input"||t==="change")return Ku(i)}function _S(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _n=typeof Object.is=="function"?Object.is:_S;function nl(t,i){if(_n(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vt.call(i,h)||!_n(t[h],i[h]))return!1}return!0}function hg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fg(t,i){var a=hg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hg(a)}}function dg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?dg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function mg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gi(t.document)}return i}function Ef(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var vS=Nn&&"documentMode"in document&&11>=document.documentMode,xa=null,Tf=null,il=null,bf=!1;function pg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;bf||xa==null||xa!==gi(l)||(l=xa,"selectionStart"in l&&Ef(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Vc(Tf,"onSelect"),0<l.length&&(i=new vi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=xa)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Na={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Sf={},gg={};Nn&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Ls(t){if(Sf[t])return Sf[t];if(!Na[t])return t;var i=Na[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in gg)return Sf[t]=i[a];return t}var yg=Ls("animationend"),_g=Ls("animationiteration"),vg=Ls("animationstart"),ES=Ls("transitionrun"),TS=Ls("transitionstart"),bS=Ls("transitioncancel"),Eg=Ls("transitionend"),Tg=new Map,Af="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Af.push("scrollEnd");function Wn(t,i){Tg.set(t,i),mi(i,[t])}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Da=0,wf=0;function Qu(){for(var t=Da,i=wf=Da=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&bg(a,h,d)}}function Xu(t,i,a,l){On[Da++]=t,On[Da++]=i,On[Da++]=a,On[Da++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Rf(t,i,a,l){return Xu(t,i,a,l),$u(t)}function Us(t,i){return Xu(t,null,null,i),$u(t)}function bg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function $u(t){if(50<wl)throw wl=0,Pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function SS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new SS(t,i,a,l)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Sg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Wu(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Cf(t)&&(_=1);else if(typeof t=="string")_=IA(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=vn(31,a,i,h),t.elementType=C,t.lanes=d,t;case $:return js(a.children,h,d,i);case q:_=8,h|=24;break;case Z:return t=vn(12,a,i,h|2),t.elementType=Z,t.lanes=d,t;case Re:return t=vn(13,a,i,h),t.elementType=Re,t.lanes=d,t;case _e:return t=vn(19,a,i,h),t.elementType=_e,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case ne:_=9;break e;case ge:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function js(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function If(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function Ag(t){var i=vn(18,null,null,0);return i.stateNode=t,i}function xf(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var wg=new WeakMap;function Mn(t,i){if(typeof t=="object"&&t!==null){var a=wg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Vo(i)},wg.set(t,i),i)}return{value:t,source:i,stack:Vo(i)}}var Ma=[],Va=0,Zu=null,rl=0,Vn=[],Pn=0,Nr=null,Si=1,Ai="";function Gi(t,i){Ma[Va++]=rl,Ma[Va++]=Zu,Zu=t,rl=i}function Rg(t,i,a){Vn[Pn++]=Si,Vn[Pn++]=Ai,Vn[Pn++]=Nr,Nr=t;var l=Si;t=Ai;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Si=1<<32-mt(i)+h|a<<h|l,Ai=d+t}else Si=1<<d|a<<h|l,Ai=t}function Nf(t){t.return!==null&&(Gi(t,1),Rg(t,1,0))}function Df(t){for(;t===Zu;)Zu=Ma[--Va],Ma[Va]=null,rl=Ma[--Va],Ma[Va]=null;for(;t===Nr;)Nr=Vn[--Pn],Vn[Pn]=null,Ai=Vn[--Pn],Vn[Pn]=null,Si=Vn[--Pn],Vn[Pn]=null}function Cg(t,i){Vn[Pn++]=Si,Vn[Pn++]=Ai,Vn[Pn++]=Nr,Si=i.id,Ai=i.overflow,Nr=t}var Ht=null,tt=null,Le=!1,Dr=null,kn=!1,Of=Error(s(519));function Or(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Mn(i,t)),Of}function Ig(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Tt]=t,i[kt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Cl.length;a++)Ne(Cl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Du(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Sr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||G_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Or(t,!0)}function xg(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ht=Ht.return}}function Pa(t){if(t!==Ht)return!1;if(!Le)return xg(t),Le=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$d(t.type,t.memoizedProps)),a=!a),a&&tt&&Or(t),xg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=ev(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=ev(t)}else i===27?(i=tt,Kr(t.type)?(t=tm,tm=null,tt=t):tt=i):tt=Ht?Un(t.stateNode.nextSibling):null;return!0}function zs(){tt=Ht=null,Le=!1}function Mf(){var t=Dr;return t!==null&&(un===null?un=t:un.push.apply(un,t),Dr=null),t}function sl(t){Dr===null?Dr=[t]:Dr.push(t)}var Vf=V(null),Bs=null,Ki=null;function Mr(t,i,a){ie(Vf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Vf.current,Y(Vf)}function Pf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function kf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Pf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Pf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ka(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;_n(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&kf(i,t,a,l),i.flags|=262144}function Ju(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){Bs=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qt(t){return Ng(Bs,t)}function ec(t,i){return Bs===null&&Hs(t),Ng(t,i)}function Ng(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var AS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},wS=r.unstable_scheduleCallback,RS=r.unstable_NormalPriority,At={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lf(){return{controller:new AS,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&wS(RS,function(){t.controller.abort()})}var ol=null,Uf=0,La=0,Ua=null;function CS(t,i){if(ol===null){var a=ol=[];Uf=0,La=Bd(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Uf++,i.then(Dg,Dg),i}function Dg(){if(--Uf===0&&ol!==null){Ua!==null&&(Ua.status="fulfilled");var t=ol;ol=null,La=0,Ua=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function IS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Og=F.S;F.S=function(t,i){p_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&CS(t,i),Og!==null&&Og(t,i)};var qs=V(null);function jf(){var t=qs.current;return t!==null?t:et.pooledCache}function tc(t,i){i===null?ie(qs,qs.current):ie(qs,i.pool)}function Mg(){var t=jf();return t===null?null:{parent:At._currentValue,pool:t}}var ja=Error(s(460)),zf=Error(s(474)),nc=Error(s(542)),ic={then:function(){}};function Vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Lg(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Lg(t),t}throw Gs=i,ja}}function Fs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,ja):a}}var Gs=null;function kg(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function Lg(t){if(t===ja||t===nc)throw Error(s(483))}var za=null,ll=0;function rc(t){var i=ll;return ll+=1,za===null&&(za=[]),Pg(za,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ug(t){function i(U,O){if(t){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Fi(U,O),U.index=0,U.sibling=null,U}function d(U,O,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=67108866,O):z):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,O,z,W){return O===null||O.tag!==6?(O=If(z,U.mode,W),O.return=U,O):(O=h(O,z),O.return=U,O)}function N(U,O,z,W){var me=z.type;return me===$?X(U,O,z.props.children,W,z.key):O!==null&&(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Fs(me)===O.type)?(O=h(O,z.props),ul(O,z),O.return=U,O):(O=Wu(z.type,z.key,z.props,null,U.mode,W),ul(O,z),O.return=U,O)}function B(U,O,z,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=xf(z,U.mode,W),O.return=U,O):(O=h(O,z.children||[]),O.return=U,O)}function X(U,O,z,W,me){return O===null||O.tag!==7?(O=js(z,U.mode,W,me),O.return=U,O):(O=h(O,z),O.return=U,O)}function J(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=If(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return z=Wu(O.type,O.key,O.props,null,U.mode,z),ul(z,O),z.return=U,z;case G:return O=xf(O,U.mode,z),O.return=U,O;case R:return O=Fs(O),J(U,O,z)}if(ct(O)||P(O))return O=js(O,U.mode,z,null),O.return=U,O;if(typeof O.then=="function")return J(U,rc(O),z);if(O.$$typeof===re)return J(U,ec(U,O),z);sc(U,O)}return null}function H(U,O,z,W){var me=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return me!==null?null:S(U,O,""+z,W);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case k:return z.key===me?N(U,O,z,W):null;case G:return z.key===me?B(U,O,z,W):null;case R:return z=Fs(z),H(U,O,z,W)}if(ct(z)||P(z))return me!==null?null:X(U,O,z,W,null);if(typeof z.then=="function")return H(U,O,rc(z),W);if(z.$$typeof===re)return H(U,O,ec(U,z),W);sc(U,z)}return null}function Q(U,O,z,W,me){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(z)||null,S(O,U,""+W,me);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case k:return U=U.get(W.key===null?z:W.key)||null,N(O,U,W,me);case G:return U=U.get(W.key===null?z:W.key)||null,B(O,U,W,me);case R:return W=Fs(W),Q(U,O,z,W,me)}if(ct(W)||P(W))return U=U.get(z)||null,X(O,U,W,me,null);if(typeof W.then=="function")return Q(U,O,z,rc(W),me);if(W.$$typeof===re)return Q(U,O,z,ec(O,W),me);sc(O,W)}return null}function ce(U,O,z,W){for(var me=null,Be=null,fe=O,Ie=O=0,Oe=null;fe!==null&&Ie<z.length;Ie++){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var He=H(U,fe,z[Ie],W);if(He===null){fe===null&&(fe=Oe);break}t&&fe&&He.alternate===null&&i(U,fe),O=d(He,O,Ie),Be===null?me=He:Be.sibling=He,Be=He,fe=Oe}if(Ie===z.length)return a(U,fe),Le&&Gi(U,Ie),me;if(fe===null){for(;Ie<z.length;Ie++)fe=J(U,z[Ie],W),fe!==null&&(O=d(fe,O,Ie),Be===null?me=fe:Be.sibling=fe,Be=fe);return Le&&Gi(U,Ie),me}for(fe=l(fe);Ie<z.length;Ie++)Oe=Q(fe,U,Ie,z[Ie],W),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ie:Oe.key),O=d(Oe,O,Ie),Be===null?me=Oe:Be.sibling=Oe,Be=Oe);return t&&fe.forEach(function(Wr){return i(U,Wr)}),Le&&Gi(U,Ie),me}function ye(U,O,z,W){if(z==null)throw Error(s(151));for(var me=null,Be=null,fe=O,Ie=O=0,Oe=null,He=z.next();fe!==null&&!He.done;Ie++,He=z.next()){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var Wr=H(U,fe,He.value,W);if(Wr===null){fe===null&&(fe=Oe);break}t&&fe&&Wr.alternate===null&&i(U,fe),O=d(Wr,O,Ie),Be===null?me=Wr:Be.sibling=Wr,Be=Wr,fe=Oe}if(He.done)return a(U,fe),Le&&Gi(U,Ie),me;if(fe===null){for(;!He.done;Ie++,He=z.next())He=J(U,He.value,W),He!==null&&(O=d(He,O,Ie),Be===null?me=He:Be.sibling=He,Be=He);return Le&&Gi(U,Ie),me}for(fe=l(fe);!He.done;Ie++,He=z.next())He=Q(fe,U,Ie,He.value,W),He!==null&&(t&&He.alternate!==null&&fe.delete(He.key===null?Ie:He.key),O=d(He,O,Ie),Be===null?me=He:Be.sibling=He,Be=He);return t&&fe.forEach(function(jA){return i(U,jA)}),Le&&Gi(U,Ie),me}function Je(U,O,z,W){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case k:e:{for(var me=z.key;O!==null;){if(O.key===me){if(me=z.type,me===$){if(O.tag===7){a(U,O.sibling),W=h(O,z.props.children),W.return=U,U=W;break e}}else if(O.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===R&&Fs(me)===O.type){a(U,O.sibling),W=h(O,z.props),ul(W,z),W.return=U,U=W;break e}a(U,O);break}else i(U,O);O=O.sibling}z.type===$?(W=js(z.props.children,U.mode,W,z.key),W.return=U,U=W):(W=Wu(z.type,z.key,z.props,null,U.mode,W),ul(W,z),W.return=U,U=W)}return _(U);case G:e:{for(me=z.key;O!==null;){if(O.key===me)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(U,O.sibling),W=h(O,z.children||[]),W.return=U,U=W;break e}else{a(U,O);break}else i(U,O);O=O.sibling}W=xf(z,U.mode,W),W.return=U,U=W}return _(U);case R:return z=Fs(z),Je(U,O,z,W)}if(ct(z))return ce(U,O,z,W);if(P(z)){if(me=P(z),typeof me!="function")throw Error(s(150));return z=me.call(z),ye(U,O,z,W)}if(typeof z.then=="function")return Je(U,O,rc(z),W);if(z.$$typeof===re)return Je(U,O,ec(U,z),W);sc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(U,O.sibling),W=h(O,z),W.return=U,U=W):(a(U,O),W=If(z,U.mode,W),W.return=U,U=W),_(U)):a(U,O)}return function(U,O,z,W){try{ll=0;var me=Je(U,O,z,W);return za=null,me}catch(fe){if(fe===ja||fe===nc)throw fe;var Be=vn(29,fe,null,U.mode);return Be.lanes=W,Be.return=U,Be}finally{}}}var Ks=Ug(!0),jg=Ug(!1),Vr=!1;function Bf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=$u(t),bg(t,null,a),i}return Xu(t,l,i,a),$u(t)}function cl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}function qf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Ff=!1;function hl(){if(Ff){var t=Ua;if(t!==null)throw t}}function fl(t,i,a,l){Ff=!1;var h=t.updateQueue;Vr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=N))}if(d!==null){var J=h.baseState;_=0,X=B=N=null,S=d;do{var H=S.lane&-536870913,Q=H!==S.lane;if(Q?(De&H)===H:(l&H)===H){H!==0&&H===La&&(Ff=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,ye=S;H=i;var Je=a;switch(ye.tag){case 1:if(ce=ye.payload,typeof ce=="function"){J=ce.call(Je,J,H);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ye.payload,H=typeof ce=="function"?ce.call(Je,J,H):ce,H==null)break e;J=T({},J,H);break e;case 2:Vr=!0}}H=S.callback,H!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[H]:Q.push(H))}else Q={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=Q,N=J):X=X.next=Q,_|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(N=J),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Br|=_,t.lanes=_,t.memoizedState=J}}function zg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Bg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)zg(a[t],i)}var Ba=V(null),ac=V(0);function Hg(t,i){t=nr,ie(ac,t),ie(Ba,i),nr=t|i.baseLanes}function Gf(){ie(ac,nr),ie(Ba,Ba.current)}function Kf(){nr=ac.current,Y(Ba),Y(ac)}var En=V(null),Ln=null;function Lr(t){var i=t.alternate;ie(gt,gt.current&1),ie(En,t),Ln===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(Ln=t)}function Yf(t){ie(gt,gt.current),ie(En,t),Ln===null&&(Ln=t)}function qg(t){t.tag===22?(ie(gt,gt.current),ie(En,t),Ln===null&&(Ln=t)):Ur()}function Ur(){ie(gt,gt.current),ie(En,En.current)}function Tn(t){Y(En),Ln===t&&(Ln=null),Y(gt)}var gt=V(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jd(a)||em(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,we=null,We=null,wt=null,lc=!1,Ha=!1,Ys=!1,uc=0,dl=0,qa=null,xS=0;function ht(){throw Error(s(321))}function Qf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_n(t[a],i[a]))return!1;return!0}function Xf(t,i,a,l,h,d){return Qi=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?Ry:cd,Ys=!1,d=a(l,h),Ys=!1,Ha&&(d=Gg(i,a,l,h)),Fg(t),d}function Fg(t){F.H=gl;var i=We!==null&&We.next!==null;if(Qi=0,wt=We=we=null,lc=!1,dl=0,qa=null,i)throw Error(s(300));t===null||Rt||(t=t.dependencies,t!==null&&Ju(t)&&(Rt=!0))}function Gg(t,i,a,l){we=t;var h=0;do{if(Ha&&(qa=null),dl=0,Ha=!1,25<=h)throw Error(s(301));if(h+=1,wt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Cy,d=i(a,l)}while(Ha);return d}function NS(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?ml(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(we.flags|=1024),i}function $f(){var t=uc!==0;return uc=0,t}function Wf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Zf(t){if(lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}lc=!1}Qi=0,wt=We=we=null,Ha=!1,dl=uc=0,qa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?we.memoizedState=wt=t:wt=wt.next=t,wt}function yt(){if(We===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=wt===null?we.memoizedState:wt.next;if(i!==null)wt=i,We=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?we.memoizedState=wt=t:wt=wt.next=t}return wt}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var i=dl;return dl+=1,qa===null&&(qa=[]),t=Pg(qa,t,i),i=we,(wt===null?i.memoizedState:wt.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?Ry:cd),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===re)return qt(t)}throw Error(s(438,String(t)))}function Jf(t){var i=null,a=we.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=we.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cc(),we.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Xi(t,i){return typeof i=="function"?i(t):i}function fc(t){var i=yt();return ed(i,We,t)}function ed(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,B=i,X=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(De&J)===J:(Qi&J)===J){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===La&&(X=!0);else if((Qi&H)===H){B=B.next,H===La&&(X=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=J,_=d):N=N.next=J,we.lanes|=H,Br|=H;J=B.action,Ys&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else H={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=H,_=d):N=N.next=H,we.lanes|=J,Br|=J;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=S,!_n(d,t.memoizedState)&&(Rt=!0,X&&(a=Ua,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function td(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);_n(d,i.memoizedState)||(Rt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Kg(t,i,a){var l=we,h=yt(),d=Le;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((We||h).memoizedState,a);if(_&&(h.memoizedState=a,Rt=!0),h=h.queue,rd(Xg.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},Qg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Qi&127)!==0||Yg(l,i,a)}return a}function Yg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=we.updateQueue,i===null?(i=cc(),we.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Qg(t,i,a,l){i.value=a,i.getSnapshot=l,$g(i)&&Wg(t)}function Xg(t,i,a){return a(function(){$g(i)&&Wg(t)})}function $g(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_n(t,a)}catch{return!0}}function Wg(t){var i=Us(t,2);i!==null&&cn(i,t,2)}function nd(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Ys){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:t},i}function Zg(t,i,a,l){return t.baseState=a,ed(t,We,typeof l=="function"?l:Xi)}function DS(t,i,a,l,h){if(pc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Jg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Jg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=F.T,_={};F.T=_;try{var S=a(h,l),N=F.S;N!==null&&N(_,S),ey(t,i,S)}catch(B){id(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),F.T=d}}else try{d=a(h,l),ey(t,i,d)}catch(B){id(t,i,B)}}function ey(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ty(t,i,l)},function(l){return id(t,i,l)}):ty(t,i,a)}function ty(t,i,a){i.status="fulfilled",i.value=a,ny(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Jg(t,a)))}function id(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ny(i),i=i.next;while(i!==l)}t.action=null}function ny(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function iy(t,i){return i}function ry(t,i){if(Le){var a=et.formState;if(a!==null){e:{var l=we;if(Le){if(tt){t:{for(var h=tt,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Un(h.nextSibling),l=h.data==="F!";break e}}Or(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:iy,lastRenderedState:i},a.queue=l,a=Sy.bind(null,we,l),l.dispatch=a,l=nd(!1),d=ud.bind(null,we,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=DS.bind(null,we,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function sy(t){var i=yt();return ay(i,We,t)}function ay(t,i,a){if(i=ed(t,i,iy)[0],t=fc(Xi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ml(i)}catch(_){throw _===ja?nc:_}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(we.flags|=2048,Fa(9,{destroy:void 0},OS.bind(null,h,a),null)),[l,d,t]}function OS(t,i){t.action=i}function oy(t){var i=yt(),a=We;if(a!==null)return ay(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=we.updateQueue,i===null&&(i=cc(),we.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function ly(){return yt().memoizedState}function dc(t,i,a,l){var h=nn();we.flags|=t,h.memoizedState=Fa(1|i,{destroy:void 0},a,l===void 0?null:l)}function mc(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&Qf(l,We.memoizedState.deps)?h.memoizedState=Fa(i,d,a,l):(we.flags|=t,h.memoizedState=Fa(1|i,d,a,l))}function uy(t,i){dc(8390656,8,t,i)}function rd(t,i){mc(2048,8,t,i)}function MS(t){we.flags|=4;var i=we.updateQueue;if(i===null)i=cc(),we.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function cy(t){var i=yt().memoizedState;return MS({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function hy(t,i){return mc(4,2,t,i)}function fy(t,i){return mc(4,4,t,i)}function dy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function my(t,i,a){a=a!=null?a.concat([t]):null,mc(4,4,dy.bind(null,i,t),a)}function sd(){}function py(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Qf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function gy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Qf(i,l[1]))return l[0];if(l=t(),Ys){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function ad(t,i,a){return a===void 0||(Qi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=y_(),we.lanes|=t,Br|=t,a)}function yy(t,i,a,l){return _n(a,i)?a:Ba.current!==null?(t=ad(t,a,l),_n(t,i)||(Rt=!0),t):(Qi&42)===0||(Qi&1073741824)!==0&&(De&261930)===0?(Rt=!0,t.memoizedState=a):(t=y_(),we.lanes|=t,Br|=t,i)}function _y(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=F.T,S={};F.T=S,ud(t,!1,i,a);try{var N=h(),B=F.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=IS(N,l);pl(t,i,X,An(t))}else pl(t,i,l,An(t))}catch(J){pl(t,i,{then:function(){},status:"rejected",reason:J},An())}finally{oe.p=d,_!==null&&S.types!==null&&(_.types=S.types),F.T=_}}function VS(){}function od(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=vy(t).queue;_y(t,h,i,de,a===null?VS:function(){return Ey(t),a(l)})}function vy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ey(t){var i=vy(t);i.next===null&&(i=t.alternate.memoizedState),pl(t,i.next.queue,{},An())}function ld(){return qt(Ol)}function Ty(){return yt().memoizedState}function by(){return yt().memoizedState}function PS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Pr(a);var l=kr(i,t,a);l!==null&&(cn(l,i,a),cl(l,i,a)),i={cache:Lf()},t.payload=i;return}i=i.return}}function kS(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?Ay(i,a):(a=Rf(t,i,a,l),a!==null&&(cn(a,t,l),wy(a,i,l)))}function Sy(t,i,a){var l=An();pl(t,i,a,l)}function pl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))Ay(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,_n(S,_))return Xu(t,i,h,0),et===null&&Qu(),!1}catch{}finally{}if(a=Rf(t,i,h,l),a!==null)return cn(a,t,l),wy(a,i,l),!0}return!1}function ud(t,i,a,l){if(l={lane:2,revertLane:Bd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(i)throw Error(s(479))}else i=Rf(t,a,l,2),i!==null&&cn(i,t,2)}function pc(t){var i=t.alternate;return t===we||i!==null&&i===we}function Ay(t,i){Ha=lc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function wy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Lo(t,a)}}var gl={readContext:qt,use:hc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};gl.useEffectEvent=ht;var Ry={readContext:qt,use:hc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:qt,useEffect:uy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,dc(4194308,4,dy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return dc(4194308,4,t,i)},useInsertionEffect:function(t,i){dc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Ys){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Ys){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=kS.bind(null,we,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=nd(t);var i=t.queue,a=Sy.bind(null,we,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:sd,useDeferredValue:function(t,i){var a=nn();return ad(a,t,i)},useTransition:function(){var t=nd(!1);return t=_y.bind(null,we,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=we,h=nn();if(Le){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||Yg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,uy(Xg.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},Qg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=et.identifierPrefix;if(Le){var a=Ai,l=Si;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=uc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=xS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ld,useFormState:ry,useActionState:ry,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ud.bind(null,we,!0,a),a.dispatch=i,[t,i]},useMemoCache:Jf,useCacheRefresh:function(){return nn().memoizedState=PS.bind(null,we)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},cd={readContext:qt,use:hc,useCallback:py,useContext:qt,useEffect:rd,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:fc,useRef:ly,useState:function(){return fc(Xi)},useDebugValue:sd,useDeferredValue:function(t,i){var a=yt();return yy(a,We.memoizedState,t,i)},useTransition:function(){var t=fc(Xi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:ld,useFormState:sy,useActionState:sy,useOptimistic:function(t,i){var a=yt();return Zg(a,We,t,i)},useMemoCache:Jf,useCacheRefresh:by};cd.useEffectEvent=cy;var Cy={readContext:qt,use:hc,useCallback:py,useContext:qt,useEffect:rd,useImperativeHandle:my,useInsertionEffect:hy,useLayoutEffect:fy,useMemo:gy,useReducer:td,useRef:ly,useState:function(){return td(Xi)},useDebugValue:sd,useDeferredValue:function(t,i){var a=yt();return We===null?ad(a,t,i):yy(a,We.memoizedState,t,i)},useTransition:function(){var t=td(Xi)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:Kg,useId:Ty,useHostTransitionStatus:ld,useFormState:oy,useActionState:oy,useOptimistic:function(t,i){var a=yt();return We!==null?Zg(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:by};Cy.useEffectEvent=cy;function hd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var fd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=Pr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(cn(i,t,l),cl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=Pr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(cn(i,t,l),cl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Pr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(cn(i,t,a),cl(i,t,a))}};function Iy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!nl(a,l)||!nl(h,d):!0}function xy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&fd.enqueueReplaceState(i,i.state,null)}function Qs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ny(t){Yu(t)}function Dy(t){console.error(t)}function Oy(t){Yu(t)}function gc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function My(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dd(t,i,a){return a=Pr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,i)},a}function Vy(t){return t=Pr(t),t.tag=3,t}function Py(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){My(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){My(i,a,l),typeof h!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function LS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Ic():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===ic?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),Ic(),!1}if(Le)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Of&&(t=Error(s(422),{cause:l}),sl(Mn(t,a)))):(l!==Of&&(i=Error(s(423),{cause:l}),sl(Mn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Mn(l,a),h=dd(t.stateNode,l,h),qf(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),Al===null?Al=[d]:Al.push(d),ft!==4&&(ft=2),i===null)return!0;l=Mn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=dd(a.stateNode,l,t),qf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Vy(h),Py(h,t,a,l),qf(a,h),!1}a=a.return}while(a!==null);return!1}var md=Error(s(461)),Rt=!1;function Ft(t,i,a,l){i.child=t===null?jg(i,null,a,l):Ks(i,t.child,a,l)}function ky(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Hs(i),l=Xf(t,i,a,_,d,h),S=$f(),t!==null&&!Rt?(Wf(t,i,h),$i(t,i,h)):(Le&&S&&Nf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Ly(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Uy(t,i,d,l,h)):(t=Wu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!bd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(_,l)&&t.ref===i.ref)return $i(t,i,h)}return i.flags|=1,t=Fi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Uy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===i.ref)if(Rt=!1,i.pendingProps=l=d,bd(t,h))(t.flags&131072)!==0&&(Rt=!0);else return i.lanes=t.lanes,$i(t,i,h)}return pd(t,i,a,l,h)}function jy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return zy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&tc(i,d!==null?d.cachePool:null),d!==null?Hg(i,d):Gf(),qg(i);else return l=i.lanes=536870912,zy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(tc(i,d.cachePool),Hg(i,d),Ur(),i.memoizedState=null):(t!==null&&tc(i,null),Gf(),Ur());return Ft(t,i,h,a),i.child}function yl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zy(t,i,a,l,h){var d=jf();return d=d===null?null:{parent:At._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&tc(i,null),Gf(),qg(i),t!==null&&ka(t,i,l,!0),i.childLanes=h,null}function yc(t,i){return i=vc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function By(t,i,a){return Ks(i,t.child,null,a),t=yc(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function US(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Le){if(l.mode==="hidden")return t=yc(i,l),i.lanes=536870912,yl(null,t);if(Yf(i),(t=tt)?(t=J_(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Ag(t),a.return=i,i.child=a,Ht=i,tt=null)):t=null,t===null)throw Or(i);return i.lanes=536870912,null}return yc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Yf(i),h)if(i.flags&256)i.flags&=-257,i=By(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Rt||ka(t,i,a,!1),h=(a&t.childLanes)!==0,Rt||h){if(l=et,l!==null&&(_=Uo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Us(t,_),cn(l,t,_),md;Ic(),i=By(t,i,a)}else t=d.treeContext,tt=Un(_.nextSibling),Ht=i,Le=!0,Dr=null,kn=!1,t!==null&&Cg(i,t),i=yc(i,l),i.flags|=4096;return i}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function _c(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function pd(t,i,a,l,h){return Hs(i),a=Xf(t,i,a,l,void 0,h),l=$f(),t!==null&&!Rt?(Wf(t,i,h),$i(t,i,h)):(Le&&l&&Nf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Hy(t,i,a,l,h,d){return Hs(i),i.updateQueue=null,a=Gg(i,l,a,h),Fg(t),l=$f(),t!==null&&!Rt?(Wf(t,i,d),$i(t,i,d)):(Le&&l&&Nf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function qy(t,i,a,l,h){if(Hs(i),i.stateNode===null){var d=Oa,_=a.contextType;typeof _=="object"&&_!==null&&(d=qt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=fd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Bf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?qt(_):Oa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(hd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&fd.enqueueReplaceState(d,d.state,null),fl(i,l,d,h),hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Qs(a,S);d.props=N;var B=d.context,X=a.contextType;_=Oa,typeof X=="object"&&X!==null&&(_=qt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&xy(i,d,l,_),Vr=!1;var H=i.memoizedState;d.state=H,fl(i,l,d,h),hl(),B=i.memoizedState,S||H!==B||Vr?(typeof J=="function"&&(hd(i,a,J,l),B=i.memoizedState),(N=Vr||Iy(i,a,N,l,H,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(t,i),_=i.memoizedProps,X=Qs(a,_),d.props=X,J=i.pendingProps,H=d.context,B=a.contextType,N=Oa,typeof B=="object"&&B!==null&&(N=qt(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||H!==N)&&xy(i,d,l,N),Vr=!1,H=i.memoizedState,d.state=H,fl(i,l,d,h),hl();var Q=i.memoizedState;_!==J||H!==Q||Vr||t!==null&&t.dependencies!==null&&Ju(t.dependencies)?(typeof S=="function"&&(hd(i,a,S,l),Q=i.memoizedState),(X=Vr||Iy(i,a,X,l,H,Q,N)||t!==null&&t.dependencies!==null&&Ju(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,_c(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ks(i,t.child,null,h),i.child=Ks(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=$i(t,i,h),t}function Fy(t,i,a,l){return zs(),i.flags|=256,Ft(t,i,a,l),i.child}var gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yd(t){return{baseLanes:t,cachePool:Mg()}}function _d(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Sn),t}function Gy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Le){if(h?Lr(i):Ur(),(t=tt)?(t=J_(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:Si,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},a=Ag(t),a.return=i,i.child=a,Ht=i,tt=null)):t=null,t===null)throw Or(i);return em(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(Ur(),h=i.mode,S=vc({mode:"hidden",children:S},h),l=js(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),i.memoizedState=gd,yl(null,l)):(Lr(i),vd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=Ed(t,i,a)):i.memoizedState!==null?(Ur(),i.child=t.child,i.flags|=128,i=null):(Ur(),S=l.fallback,h=i.mode,l=vc({mode:"visible",children:l.children},h),S=js(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ks(i,t.child,null,a),l=i.child,l.memoizedState=yd(a),l.childLanes=_d(t,_,a),i.memoizedState=gd,i=yl(null,l));else if(Lr(i),em(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,sl({value:l,source:null,stack:null}),i=Ed(t,i,a)}else if(Rt||ka(t,i,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=et,_!==null&&(l=Uo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Us(t,l),cn(_,t,l),md;Jd(S)||Ic(),i=Ed(t,i,a)}else Jd(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=Un(S.nextSibling),Ht=i,Le=!0,Dr=null,kn=!1,t!==null&&Cg(i,t),i=vd(i,l.children),i.flags|=4096);return i}return h?(Ur(),S=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=Fi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=Fi(B,S):(S=js(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,yl(null,l),l=i.child,S=t.child.memoizedState,S===null?S=yd(a):(h=S.cachePool,h!==null?(N=At._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Mg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=_d(t,_,a),i.memoizedState=gd,yl(t.child,l)):(Lr(i),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function vd(t,i){return i=vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function vc(t,i){return t=vn(22,t,null,i),t.lanes=0,t}function Ed(t,i,a){return Ks(i,t.child,null,a),t=vd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ky(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Pf(t.return,i,a)}function Td(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Yy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ie(gt,_),Ft(t,i,l,a),l=Le?rl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ky(t,a,i);else if(t.tag===19)Ky(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Td(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Td(i,!0,a,null,d,l);break;case"together":Td(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function $i(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ka(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Fi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function bd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ju(t)))}function jS(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Mr(i,At,t.memoizedState.cache),zs();break;case 27:case 5:Es(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Mr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Gy(t,i,a):(Lr(i),t=$i(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ka(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Yy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(gt,gt.current),l)break;return null;case 22:return i.lanes=0,jy(t,i,a,i.pendingProps);case 24:Mr(i,At,t.memoizedState.cache)}return $i(t,i,a)}function Qy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Rt=!0;else{if(!bd(t,a)&&(i.flags&128)===0)return Rt=!1,jS(t,i,a);Rt=(t.flags&131072)!==0}else Rt=!1,Le&&(i.flags&1048576)!==0&&Rg(i,rl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Fs(i.elementType),i.type=t,typeof t=="function")Cf(t)?(l=Qs(t,l),i.tag=1,i=qy(null,i,t,l,a)):(i.tag=0,i=pd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ge){i.tag=11,i=ky(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=Ly(null,i,t,l,a);break e}}throw i=ze(t)||t,Error(s(306,i,""))}}return i;case 0:return pd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Qs(l,i.pendingProps),qy(t,i,l,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Hf(t,i),fl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Mr(i,At,l),l!==d.cache&&kf(i,[At],a,!0),hl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Fy(t,i,l,a);break e}else if(l!==h){h=Mn(Error(s(424)),i),sl(h),i=Fy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Un(t.firstChild),Ht=i,Le=!0,Dr=null,kn=!0,a=jg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),l===h){i=$i(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return _c(t,i),t===null?(a=sv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Le||(a=i.type,t=i.pendingProps,l=Pc(Ce.current).createElement(a),l[Tt]=i,l[kt]=t,Gt(l,a,t),bt(l),i.stateNode=l):i.memoizedState=sv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Es(i),t===null&&Le&&(l=i.stateNode=nv(i.type,i.pendingProps,Ce.current),Ht=i,kn=!0,h=tt,Kr(i.type)?(tm=h,tt=Un(l.firstChild)):tt=h),Ft(t,i,i.pendingProps.children,a),_c(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Le&&((h=l=tt)&&(l=pA(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,Ht=i,tt=Un(l.firstChild),kn=!1,h=!0):h=!1),h||Or(i)),Es(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,$d(h,d)?l=null:_!==null&&$d(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Xf(t,i,NS,null,null,a),Ol._currentValue=h),_c(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&Le&&((t=a=tt)&&(a=gA(a,i.pendingProps,kn),a!==null?(i.stateNode=a,Ht=i,tt=null,t=!0):t=!1),t||Or(i)),null;case 13:return Gy(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ks(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return ky(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Mr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Hs(i),h=qt(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Ly(t,i,i.type,i.pendingProps,a);case 15:return Uy(t,i,i.type,i.pendingProps,a);case 19:return Yy(t,i,a);case 31:return US(t,i,a);case 22:return jy(t,i,a,i.pendingProps);case 24:return Hs(i),l=qt(At),t===null?(h=jf(),h===null&&(h=et,d=Lf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Bf(i),Mr(i,At,h)):((t.lanes&a)!==0&&(Hf(t,i),fl(i,null,null,a),hl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Mr(i,At,l)):(l=d.cache,Mr(i,At,l),l!==h.cache&&kf(i,[At],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Wi(t){t.flags|=4}function Sd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(T_())t.flags|=8192;else throw Gs=ic,zf}else t.flags&=-16777217}function Xy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cv(i))if(T_())t.flags|=8192;else throw Gs=ic,zf}function Ec(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ru():536870912,t.lanes|=i,Qa|=i)}function _l(t,i){if(!Le)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function zS(t,i,a){var l=i.pendingProps;switch(Df(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(At),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Pa(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Mf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Wi(i),d!==null?(nt(i),Xy(i,d)):(nt(i),Sd(i,h,null,l,a))):d?d!==t.memoizedState?(Wi(i),nt(i),Xy(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Wi(i),nt(i),Sd(i,h,t,l,a)),null;case 27:if(da(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ae.current,Pa(i)?Ig(i):(t=nv(h,l,a),i.stateNode=t,Wi(i))}return nt(i),null;case 5:if(da(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ae.current,Pa(i))Ig(i);else{var _=Pc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[Tt]=i,d[kt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Wi(i)}}return nt(i),Sd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Pa(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||G_(t.nodeValue,a)),t||Or(i,!0)}else t=Pc(t).createTextNode(l),t[Tt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Pa(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Tt]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Pa(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=Mf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Ec(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Gd(i.stateNode.containerInfo),nt(i),null;case 10:return Yi(i.type),nt(i),null;case 19:if(Y(gt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)_l(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=oc(t),d!==null){for(i.flags|=128,_l(l,!1),t=d.updateQueue,i.updateQueue=t,Ec(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Sg(a,t),a=a.sibling;return ie(gt,gt.current&1|2),Le&&Gi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>wc&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304)}else{if(!h)if(t=oc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Ec(i,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Le)return nt(i),null}else 2*en()-l.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=gt.current,ie(gt,h?a&1|2:a&1),Le&&Gi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return Tn(i),Kf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Ec(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Y(qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(At),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function BS(t,i){switch(Df(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(At),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return da(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(gt),null;case 4:return st(),null;case 10:return Yi(i.type),null;case 22:case 23:return Tn(i),Kf(),t!==null&&Y(qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(At),null;case 25:return null;default:return null}}function $y(t,i){switch(Df(i),i.tag){case 3:Yi(At),st();break;case 26:case 27:case 5:da(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Y(gt);break;case 10:Yi(i.type);break;case 22:case 23:Tn(i),Kf(),t!==null&&Y(qs);break;case 24:Yi(At)}}function vl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Xe(i,i.return,S)}}function jr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,B=S;try{B()}catch(X){Xe(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(i,i.return,X)}}function Wy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Bg(i,a)}catch(l){Xe(t,t.return,l)}}}function Zy(t,i,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function El(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function wi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function Jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function Ad(t,i,a){try{var l=t.stateNode;uA(l,t.type,a,i),l[kt]=i}catch(h){Xe(t,t.return,h)}}function e_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Kr(t.type)||t.tag===4}function wd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function Tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}function t_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[Tt]=t,i[kt]=a}catch(d){Xe(t,t.return,d)}}var Zi=!1,Ct=!1,Cd=!1,n_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function HS(t,i){if(t=t.containerInfo,Qd=Hc,t=mg(t),Ef(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,B=0,X=0,J=t,H=null;t:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(S=_+h),J!==d||l!==0&&J.nodeType!==3||(N=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Q=J.firstChild)!==null;)H=J,J=Q;for(;;){if(J===t)break t;if(H===a&&++B===h&&(S=_),H===d&&++X===l&&(N=_),(Q=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=Q}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},Hc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Qs(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Xe(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function i_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:er(t,a),l&4&&vl(5,a);break;case 1:if(er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Qs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&Wy(a),l&512&&El(a,a.return);break;case 3:if(er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Bg(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&t_(a);case 26:case 5:er(t,a),i===null&&l&4&&Jy(a),l&512&&El(a,a.return);break;case 12:er(t,a);break;case 31:er(t,a),l&4&&a_(t,a);break;case 13:er(t,a),l&4&&o_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WS.bind(null,a),yA(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||Ct,h=Zi;var d=Ct;Zi=l,(Ct=i)&&!d?tr(t,a,(a.subtreeFlags&8772)!==0):er(t,a),Zi=h,Ct=d}break;case 30:break;default:er(t,a)}}function r_(t){var i=t.alternate;i!==null&&(t.alternate=null,r_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&_a(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function Ji(t,i,a){for(a=a.child;a!==null;)s_(t,i,a),a=a.sibling}function s_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:Ct||wi(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||wi(a,i);var l=ot,h=an;Kr(a.type)&&(ot=a.stateNode,an=!1),Ji(t,i,a),xl(a.stateNode),ot=l,an=h;break;case 5:Ct||wi(a,i);case 6:if(l=ot,h=an,ot=null,Ji(t,i,a),ot=l,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:ot!==null&&(an?(t=ot,W_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),no(t)):W_(ot,a.stateNode));break;case 4:l=ot,h=an,ot=a.stateNode.containerInfo,an=!0,Ji(t,i,a),ot=l,an=h;break;case 0:case 11:case 14:case 15:jr(2,a,i),Ct||jr(4,a,i),Ji(t,i,a);break;case 1:Ct||(wi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zy(a,i,l)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,Ji(t,i,a),Ct=l;break;default:Ji(t,i,a)}}function a_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{no(t)}catch(a){Xe(i,i.return,a)}}}function o_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{no(t)}catch(a){Xe(i,i.return,a)}}function qS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new n_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new n_),i;default:throw Error(s(435,t.tag))}}function bc(t,i){var a=qS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=ZS.bind(null,t,l);l.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Kr(S.type)){ot=S.stateNode,an=!1;break e}break;case 5:ot=S.stateNode,an=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(ot===null)throw Error(s(160));s_(d,_,h),ot=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)l_(i,t),i=i.sibling}var Zn=null;function l_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),l&4&&(jr(3,t,t.return),vl(3,t),jr(5,t,t.return));break;case 1:on(i,t),ln(t),l&512&&(Ct||a===null||wi(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(on(i,t),ln(t),l&512&&(Ct||a===null||wi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[hi]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[Tt]=t,bt(d),l=d;break e;case"link":var _=lv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=lv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,bt(d),l=d}t.stateNode=l}else uv(h,t.type,t.stateNode);else t.stateNode=ov(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?uv(h,t.type,t.stateNode):ov(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ad(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),l&512&&(Ct||a===null||wi(a,a.return)),a!==null&&l&4&&Ad(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),l&512&&(Ct||a===null||wi(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(ce){Xe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ad(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(on(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Xe(t,t.return,ce)}}break;case 3:if(Uc=null,h=Zn,Zn=kc(i.containerInfo),on(i,t),Zn=h,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(i.containerInfo)}catch(ce){Xe(t,t.return,ce)}Cd&&(Cd=!1,u_(t));break;case 4:l=Zn,Zn=kc(t.stateNode.containerInfo),on(i,t),ln(t),Zn=l;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Zi,X=Ct;if(Zi=B||h,Ct=X||N,on(i,t),Ct=X,Zi=B,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Zi||Ct||Xs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var J=N.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Xe(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ce){Xe(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var Q=N.stateNode;h?Z_(Q,!0):Z_(N.stateNode,!1)}catch(ce){Xe(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bc(t,a))));break;case 19:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,bc(t,l)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(e_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=wd(t);Tc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var S=wd(t);Tc(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=wd(t);Rd(t,B,N);break;default:throw Error(s(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function u_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;u_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)i_(t,i.alternate,i),i=i.sibling}function Xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),Xs(i);break;case 1:wi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zy(i,i.return,a),Xs(i);break;case 27:xl(i.stateNode);case 26:case 5:wi(i,i.return),Xs(i);break;case 22:i.memoizedState===null&&Xs(i);break;case 30:Xs(i);break;default:Xs(i)}t=t.sibling}}function tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:tr(h,d,a),vl(4,d);break;case 1:if(tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)zg(N[h],S)}catch(B){Xe(l,l.return,B)}}a&&_&64&&Wy(d),El(d,d.return);break;case 27:t_(d);case 26:case 5:tr(h,d,a),a&&l===null&&_&4&&Jy(d),El(d,d.return);break;case 12:tr(h,d,a);break;case 31:tr(h,d,a),a&&_&4&&a_(h,d);break;case 13:tr(h,d,a),a&&_&4&&o_(h,d);break;case 22:d.memoizedState===null&&tr(h,d,a),El(d,d.return);break;case 30:break;default:tr(h,d,a)}i=i.sibling}}function Id(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function xd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function Jn(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c_(t,i,a,l),i=i.sibling}function c_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Jn(t,i,a,l),h&2048&&vl(9,i);break;case 1:Jn(t,i,a,l);break;case 3:Jn(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){Jn(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(i,i.return,N)}}else Jn(t,i,a,l);break;case 31:Jn(t,i,a,l);break;case 13:Jn(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Jn(t,i,a,l):Tl(t,i):d._visibility&2?Jn(t,i,a,l):(d._visibility|=2,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Id(_,i);break;case 24:Jn(t,i,a,l),h&2048&&xd(i.alternate,i);break;default:Jn(t,i,a,l)}}function Ga(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(d,_,S,N,h),vl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ga(d,_,S,N,h):Tl(d,_):(X._visibility|=2,Ga(d,_,S,N,h)),h&&B&2048&&Id(_.alternate,_);break;case 24:Ga(d,_,S,N,h),h&&B&2048&&xd(_.alternate,_);break;default:Ga(d,_,S,N,h)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&Id(l.alternate,l);break;case 24:Tl(a,l),h&2048&&xd(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var bl=8192;function Ka(t,i,a){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)h_(t,i,a),t=t.sibling}function h_(t,i,a){switch(t.tag){case 26:Ka(t,i,a),t.flags&bl&&t.memoizedState!==null&&xA(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t,i,a);break;case 3:case 4:var l=Zn;Zn=kc(t.stateNode.containerInfo),Ka(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=bl,bl=16777216,Ka(t,i,a),bl=l):Ka(t,i,a));break;default:Ka(t,i,a)}}function f_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,m_(l,t)}f_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)d_(t),t=t.sibling}function d_(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&jr(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):Sl(t);break;default:Sl(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,m_(l,t)}f_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:jr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function m_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(r_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var FS={getCacheForType:function(t){var i=qt(At),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return qt(At).controller.signal}},GS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,xe=null,De=0,Qe=0,bn=null,zr=!1,Ya=!1,Nd=!1,nr=0,ft=0,Br=0,$s=0,Dd=0,Sn=0,Qa=0,Al=null,un=null,Od=!1,Ac=0,p_=0,wc=1/0,Rc=null,Hr=null,Mt=0,qr=null,Xa=null,ir=0,Md=0,Vd=null,g_=null,wl=0,Pd=null;function An(){return(Ge&2)!==0&&De!==0?De&-De:F.T!==null?Bd():Cu()}function y_(){if(Sn===0)if((De&536870912)===0||Le){var t=Ss;Ss<<=1,(Ss&3932160)===0&&(Ss=262144),Sn=t}else Sn=536870912;return t=En.current,t!==null&&(t.flags|=32),Sn}function cn(t,i,a){(t===et&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&($a(t,0),Fr(t,De,Sn,!1)),As(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&($s|=a),ft===4&&Fr(t,De,Sn,!1)),Ri(t))}function __(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||qn(t,i),h=l?QS(t,i):Ld(t,i,!0),d=l;do{if(h===0){Ya&&!l&&Fr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!KS(a)){h=Ld(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=Al;var N=S.current.memoizedState.isDehydrated;if(N&&($a(S,_).flags|=256),_=Ld(S,_,!1),_!==2){if(Nd&&!N){S.errorRecoveryDisabledLanes|=d,$s|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){$a(t,0),Fr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Fr(l,i,Sn,!zr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ac+300-en(),10<h)){if(Fr(l,i,Sn,!zr),li(l,0,!0)!==0)break e;ir=i,l.timeoutHandle=X_(v_.bind(null,l,a,un,Rc,Od,i,Sn,$s,Qa,zr,d,"Throttled",-0,0),h);break e}v_(l,a,un,Rc,Od,i,Sn,$s,Qa,zr,d,null,-0,0)}}break}while(!0);Ri(t)}function v_(t,i,a,l,h,d,_,S,N,B,X,J,H,Q){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},h_(i,d,J);var ce=(d&62914560)===d?Ac-en():(d&4194048)===d?p_-en():0;if(ce=NA(J,ce),ce!==null){ir=d,t.cancelPendingCommit=ce(C_.bind(null,t,i,d,a,l,h,_,S,N,X,J,null,H,Q)),Fr(t,d,_,!B);return}}C_(t,i,d,a,l,h,_,S,N)}function KS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!_n(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Fr(t,i,a,l){i&=~Dd,i&=~$s,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ws(t,a,i)}function Cc(){return(Ge&6)===0?(Rl(0),!1):!0}function kd(){if(xe!==null){if(Qe===0)var t=xe.return;else t=xe,Ki=Bs=null,Zf(t),za=null,ll=0,t=xe;for(;t!==null;)$y(t.alternate,t),t=t.return;xe=null}}function $a(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ir=0,kd(),et=t,xe=a=Fi(t.current,null),De=i,Qe=0,bn=null,zr=!1,Ya=qn(t,i),Nd=!1,Qa=Sn=Dd=$s=Br=ft=0,un=Al=null,Od=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return nr=i,Qu(),a}function E_(t,i){we=null,F.H=gl,i===ja||i===nc?(i=kg(),Qe=3):i===zf?(i=kg(),Qe=4):Qe=i===md?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,xe===null&&(ft=1,gc(t,Mn(i,t.current)))}function T_(){var t=En.current;return t===null?!0:(De&4194048)===De?Ln===null:(De&62914560)===De||(De&536870912)!==0?t===Ln:!1}function b_(){var t=F.H;return F.H=gl,t===null?gl:t}function S_(){var t=F.A;return F.A=FS,t}function Ic(){ft=4,zr||(De&4194048)!==De&&En.current!==null||(Ya=!0),(Br&134217727)===0&&($s&134217727)===0||et===null||Fr(et,De,Sn,!1)}function Ld(t,i,a){var l=Ge;Ge|=2;var h=b_(),d=S_();(et!==t||De!==i)&&(Rc=null,$a(t,i)),i=!1;var _=ft;e:do try{if(Qe!==0&&xe!==null){var S=xe,N=bn;switch(Qe){case 8:kd(),_=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var B=Qe;if(Qe=0,bn=null,Wa(t,S,N,B),a&&Ya){_=0;break e}break;default:B=Qe,Qe=0,bn=null,Wa(t,S,N,B)}}YS(),_=ft;break}catch(X){E_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ki=Bs=null,Ge=l,F.H=h,F.A=d,xe===null&&(et=null,De=0,Qu()),_}function YS(){for(;xe!==null;)A_(xe)}function QS(t,i){var a=Ge;Ge|=2;var l=b_(),h=S_();et!==t||De!==i?(Rc=null,wc=en()+500,$a(t,i)):Ya=qn(t,i);e:do try{if(Qe!==0&&xe!==null){i=xe;var d=bn;t:switch(Qe){case 1:Qe=0,bn=null,Wa(t,i,d,1);break;case 2:case 9:if(Vg(d)){Qe=0,bn=null,w_(i);break}i=function(){Qe!==2&&Qe!==9||et!==t||(Qe=7),Ri(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Vg(d)?(Qe=0,bn=null,w_(i)):(Qe=0,bn=null,Wa(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var S=xe;if(_?cv(_):S.stateNode.complete){Qe=0,bn=null;var N=S.sibling;if(N!==null)xe=N;else{var B=S.return;B!==null?(xe=B,xc(B)):xe=null}break t}}Qe=0,bn=null,Wa(t,i,d,5);break;case 6:Qe=0,bn=null,Wa(t,i,d,6);break;case 8:kd(),ft=6;break e;default:throw Error(s(462))}}XS();break}catch(X){E_(t,X)}while(!0);return Ki=Bs=null,F.H=l,F.A=h,Ge=a,xe!==null?0:(et=null,De=0,Qu(),ft)}function XS(){for(;xe!==null&&!df();)A_(xe)}function A_(t){var i=Qy(t.alternate,t,nr);t.memoizedProps=t.pendingProps,i===null?xc(t):xe=i}function w_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Hy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Hy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Zf(i);default:$y(a,i),i=xe=Sg(i,nr),i=Qy(a,i,nr)}t.memoizedProps=t.pendingProps,i===null?xc(t):xe=i}function Wa(t,i,a,l){Ki=Bs=null,Zf(i),za=null,ll=0;var h=i.return;try{if(LS(t,h,i,a,De)){ft=1,gc(t,Mn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ft=1,gc(t,Mn(a,t.current)),xe=null;return}i.flags&32768?(Le||l===1?t=!0:Ya||(De&536870912)!==0?t=!1:(zr=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),R_(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){R_(i,zr);return}t=i.return;var a=zS(i.alternate,i,nr);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ft===0&&(ft=5)}function R_(t,i){do{var a=BS(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ft=6,xe=null}function C_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Nc();while(Mt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=wf,gf(t,a,d,_,S,N),t===et&&(xe=et=null,De=0),Xa=i,qr=t,ir=a,Md=d,Vd=h,g_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,JS(Er,function(){return O_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=oe.p,oe.p=2,_=Ge,Ge|=4;try{HS(t,i,a)}finally{Ge=_,oe.p=h,F.T=l}}Mt=1,I_(),x_(),N_()}}function I_(){if(Mt===1){Mt=0;var t=qr,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{l_(i,t);var d=Xd,_=mg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&dg(S.ownerDocument.documentElement,S)){if(N!==null&&Ef(S)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(X,S.value.length);else{var J=S.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var Q=H.getSelection(),ce=S.textContent.length,ye=Math.min(N.start,ce),Je=N.end===void 0?ye:Math.min(N.end,ce);!Q.extend&&ye>Je&&(_=Je,Je=ye,ye=_);var U=fg(S,ye),O=fg(S,Je);if(U&&O&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==O.node||Q.focusOffset!==O.offset)){var z=J.createRange();z.setStart(U.node,U.offset),Q.removeAllRanges(),ye>Je?(Q.addRange(z),Q.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),Q.addRange(z))}}}}for(J=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&J.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var W=J[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Hc=!!Qd,Xd=Qd=null}finally{Ge=h,oe.p=l,F.T=a}}t.current=i,Mt=2}}function x_(){if(Mt===2){Mt=0;var t=qr,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{i_(t,i.alternate,i)}finally{Ge=h,oe.p=l,F.T=a}}Mt=3}}function N_(){if(Mt===4||Mt===3){Mt=0,Eu();var t=qr,i=Xa,a=ir,l=g_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Xa=qr=null,D_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hr=null),zi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=oe.p,oe.p=2,F.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{F.T=i,oe.p=h}}(ir&3)!==0&&Nc(),Ri(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Pd?wl++:(wl=0,Pd=t):wl=0,Rl(0)}}function D_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Nc(){return I_(),x_(),N_(),O_()}function O_(){if(Mt!==5)return!1;var t=qr,i=Md;Md=0;var a=zi(ir),l=F.T,h=oe.p;try{oe.p=32>a?32:a,F.T=null,a=Vd,Vd=null;var d=qr,_=ir;if(Mt=0,Xa=qr=null,ir=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,d_(d.current),c_(d,d.current,_,a),Ge=S,Rl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{oe.p=h,F.T=l,D_(t,i)}}function M_(t,i,a){i=Mn(a,i),i=dd(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(As(t,2),Ri(t))}function Xe(t,i,a){if(t.tag===3)M_(t,t,a);else for(;i!==null;){if(i.tag===3){M_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){t=Mn(a,t),a=Vy(2),l=kr(i,a,2),l!==null&&(Py(a,l,i,t),As(l,2),Ri(l));break}}i=i.return}}function Ud(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new GS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Nd=!0,h.add(a),t=$S.bind(null,t,i,a),i.then(t,t))}function $S(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(ft===4||ft===3&&(De&62914560)===De&&300>en()-Ac?(Ge&2)===0&&$a(t,0):Dd|=a,Qa===De&&(Qa=0)),Ri(t)}function V_(t,i){i===0&&(i=Ru()),t=Us(t,i),t!==null&&(As(t,i),Ri(t))}function WS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),V_(t,a)}function ZS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),V_(t,a)}function JS(t,i){return Ot(t,i)}var Dc=null,Za=null,jd=!1,Oc=!1,zd=!1,Gr=0;function Ri(t){t!==Za&&t.next===null&&(Za===null?Dc=Za=t:Za=Za.next=t),Oc=!0,jd||(jd=!0,tA())}function Rl(t,i){if(!zd&&Oc){zd=!0;do for(var a=!1,l=Dc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,U_(l,d))}else d=De,d=li(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,U_(l,d));l=l.next}while(a);zd=!1}}function eA(){P_()}function P_(){Oc=jd=!1;var t=0;Gr!==0&&hA()&&(t=Gr);for(var i=en(),a=null,l=Dc;l!==null;){var h=l.next,d=k_(l,i);d===0?(l.next=null,a===null?Dc=h:a.next=h,h===null&&(Za=a)):(a=l,(t!==0||(d&3)!==0)&&(Oc=!0)),l=h}Mt!==0&&Mt!==5||Rl(t),Gr!==0&&(Gr=0)}function k_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=pf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=De,a=li(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&vr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&vr(l),zi(a)){case 2:case 8:a=ko;break;case 32:a=Er;break;case 268435456:a=Tu;break;default:a=Er}return l=L_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&vr(l),t.callbackPriority=2,t.callbackNode=null,2}function L_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nc()&&t.callbackNode!==a)return null;var l=De;return l=li(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(__(t,l,i),k_(t,en()),t.callbackNode!=null&&t.callbackNode===a?L_.bind(null,t):null)}function U_(t,i){if(Nc())return null;__(t,i,!0)}function tA(){dA(function(){(Ge&6)!==0?Ot(Po,eA):P_()})}function Bd(){if(Gr===0){var t=La;t===0&&(t=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Gr=t}return Gr}function j_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ba(""+t)}function z_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function nA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=j_((h[kt]||null).action),_=l.submitter;_&&(i=(i=_[kt]||null)?j_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new vi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gr!==0){var N=_?z_(h,_):new FormData(h);od(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?z_(h,_):new FormData(h),od(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Hd=0;Hd<Af.length;Hd++){var qd=Af[Hd],iA=qd.toLowerCase(),rA=qd[0].toUpperCase()+qd.slice(1);Wn(iA,"on"+rA)}Wn(yg,"onAnimationEnd"),Wn(_g,"onAnimationIteration"),Wn(vg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(ES,"onTransitionRun"),Wn(TS,"onTransitionStart"),Wn(bS,"onTransitionCancel"),Wn(Eg,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function B_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Yu(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,B=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){Yu(X)}h.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var l=t+"__bubble";a.has(l)||(H_(i,t,2,!1),a.add(l))}function Fd(t,i,a){var l=0;i&&(l|=4),H_(a,t,l,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Gd(t){if(!t[Mc]){t[Mc]=!0,jo.forEach(function(a){a!=="selectionchange"&&(sA.has(a)||Fd(a,!1,t),Fd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,Fd("selectionchange",!1,i))}}function H_(t,i,a,l){switch(yv(i)){case 2:var h=MA;break;case 8:h=VA;break;default:h=am}a=h.bind(null,i,a,t),h=void 0,!Ns||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Kd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=fi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Rr(function(){var B=d,X=xn(a),J=[];e:{var H=Tg.get(t);if(H!==void 0){var Q=vi,ce=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":Q=Fu;break;case"focusin":ce="focus",Q=Vs;break;case"focusout":ce="blur",Q=Vs;break;case"beforeblur":case"afterblur":Q=Vs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case yg:case _g:case vg:Q=Lu;break;case Eg:Q=A;break;case"scroll":case"scrollend":Q=Wo;break;case"wheel":Q=K;break;case"copy":case"cut":case"paste":Q=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=qi;break;case"toggle":case"beforetoggle":Q=Ae}var ye=(i&4)!==0,Je=!ye&&(t==="scroll"||t==="scrollend"),U=ye?H!==null?H+"Capture":null:H;ye=[];for(var O=B,z;O!==null;){var W=O;if(z=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||z===null||U===null||(W=Yn(O,U),W!=null&&ye.push(Il(O,W,z))),Je)break;O=O.return}0<ye.length&&(H=new Q(H,ce,null,a,X),J.push({event:H,listeners:ye}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",H&&a!==Qo&&(ce=a.relatedTarget||a.fromElement)&&(fi(ce)||ce[ci]))break e;if((Q||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Q?(ce=a.relatedTarget||a.toElement,Q=B,ce=ce?fi(ce):null,ce!==null&&(Je=u(ce),ye=ce.tag,ce!==Je||ye!==5&&ye!==27&&ye!==6)&&(ce=null)):(Q=null,ce=B),Q!==ce)){if(ye=Zo,W="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=qi,W="onPointerLeave",U="onPointerEnter",O="pointer"),Je=Q==null?H:gn(Q),z=ce==null?H:gn(ce),H=new ye(W,O+"leave",Q,a,X),H.target=Je,H.relatedTarget=z,W=null,fi(X)===B&&(ye=new ye(U,O+"enter",ce,a,X),ye.target=z,ye.relatedTarget=Je,W=ye),Je=W,Q&&ce)t:{for(ye=aA,U=Q,O=ce,z=0,W=U;W;W=ye(W))z++;W=0;for(var me=O;me;me=ye(me))W++;for(;0<z-W;)U=ye(U),z--;for(;0<W-z;)O=ye(O),W--;for(;z--;){if(U===O||O!==null&&U===O.alternate){ye=U;break t}U=ye(U),O=ye(O)}ye=null}else ye=null;Q!==null&&q_(J,H,Q,ye,!1),ce!==null&&Je!==null&&q_(J,Je,ce,ye,!0)}}e:{if(H=B?gn(B):window,Q=H.nodeName&&H.nodeName.toLowerCase(),Q==="select"||Q==="input"&&H.type==="file")var Be=ag;else if(rg(H))if(og)Be=yS;else{Be=pS;var fe=mS}else Q=H.nodeName,!Q||Q.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Ta(B.elementType)&&(Be=ag):Be=gS;if(Be&&(Be=Be(t,B))){sg(J,Be,a,X);break e}fe&&fe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Go(H,"number",H.value)}switch(fe=B?gn(B):window,t){case"focusin":(rg(fe)||fe.contentEditable==="true")&&(xa=fe,Tf=B,il=null);break;case"focusout":il=Tf=xa=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,pg(J,a,X);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":pg(J,a,X)}var Ie;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Ia?Ps(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(bi&&a.locale!=="ko"&&(Ia||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Ia&&(Ie=$o()):(_i=X,Xo="value"in _i?_i.value:_i.textContent,Ia=!0)),fe=Vc(B,Oe),0<fe.length&&(Oe=new Ti(Oe,t,null,a,X),J.push({event:Oe,listeners:fe}),Ie?Oe.data=Ie:(Ie=Ca(a),Ie!==null&&(Oe.data=Ie)))),(Ie=Dn?cS(t,a):hS(t,a))&&(Oe=Vc(B,"onBeforeInput"),0<Oe.length&&(fe=new Ti("onBeforeInput","beforeinput",null,a,X),J.push({event:fe,listeners:Oe}),fe.data=Ie)),nA(J,t,B,a,X)}B_(J,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(Il(t,h,d)),h=Yn(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function aA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function q_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||B===null||(N=B,h?(B=Yn(a,d),B!=null&&_.unshift(Il(a,B,N))):h||(B=Yn(a,d),B!=null&&_.push(Il(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var oA=/\r\n?/g,lA=/\u0000|\uFFFD/g;function F_(t){return(typeof t=="string"?t:""+t).replace(oA,`
`).replace(lA,"")}function G_(t,i){return i=F_(i),F_(t)===i}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":yn(t,"class",l);break;case"tabIndex":yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(t,a,l);break;case"style":Yo(t,l,d);break;case"data":if(i!=="object"){yn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ba(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ba(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),va(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,va(t,a,l))}}function Yd(t,i,a,l,h,d){switch(a){case"style":Yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[kt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):va(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ze(t,i,l,X,a,null)}}Du(t,d,S,N,B,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?br(t,!!l,i,!1):a!=null&&br(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,_,S,a,null)}Sr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Cl.length;l++)Ne(Cl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,B,l,a,null)}return;default:if(Ta(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Yd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,i,S,l,a,null))}function uA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,B=null,X=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(Q)||Ze(t,i,Q,null,l,J)}}for(var H in l){var Q=l[H];if(J=a[H],l.hasOwnProperty(H)&&(Q!=null||J!=null))switch(H){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":X=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==J&&Ze(t,i,H,Q,l,J)}}Ea(t,_,S,N,B,X,d,h);return;case"select":Q=_=S=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Q=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,h,d,l,N)}i=S,a=_,l=Q,H!=null?br(t,!!a,H,!1):!!l!=!!a&&(i!=null?br(t,!!a,i,!0):br(t,!!a,a?[]:"",!1));return;case"textarea":Q=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,l,d)}Ou(t,H,Q);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Ze(t,i,ce,null,l,H)}for(N in l)if(H=l[N],Q=a[N],l.hasOwnProperty(N)&&H!==Q&&(H!=null||Q!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ze(t,i,N,H,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&Ze(t,i,ye,null,l,H);for(B in l)if(H=l[B],Q=a[B],l.hasOwnProperty(B)&&H!==Q&&(H!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Ze(t,i,B,H,l,Q)}return;default:if(Ta(i)){for(var Je in a)H=a[Je],a.hasOwnProperty(Je)&&H!==void 0&&!l.hasOwnProperty(Je)&&Yd(t,i,Je,void 0,l,H);for(X in l)H=l[X],Q=a[X],!l.hasOwnProperty(X)||H===Q||H===void 0&&Q===void 0||Yd(t,i,X,H,l,Q);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Ze(t,i,U,null,l,H);for(J in l)H=l[J],Q=a[J],!l.hasOwnProperty(J)||H===Q||H==null&&Q==null||Ze(t,i,J,H,l,Q)}function K_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&K_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>S)break;var X=N.transferSize,J=N.initiatorType;X&&K_(J)&&(N=N.responseEnd,_+=X*(N<S?1:(S-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Qd=null,Xd=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function Y_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Q_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function $d(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wd=null;function hA(){var t=window.event;return t&&t.type==="popstate"?t===Wd?!1:(Wd=t,!0):(Wd=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,$_=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof $_<"u"?function(t){return $_.resolve(null).then(t).catch(mA)}:X_;function mA(t){setTimeout(function(){throw t})}function Kr(t){return t==="head"}function W_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),no(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")xl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,xl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[hi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&xl(t.ownerDocument.body);a=h}while(a);no(i)}function Z_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zd(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[hi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function gA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function J_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function yA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var tm=null;function ev(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function tv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function nv(t,i,a){switch(i=Pc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);_a(t)}var jn=new Map,iv=new Set;function kc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rr=oe.d;oe.d={f:_A,r:vA,D:EA,C:TA,L:bA,m:SA,X:wA,S:AA,M:RA};function _A(){var t=rr.f(),i=Cc();return t||i}function vA(t){var i=In(t);i!==null&&i.tag===5&&i.type==="form"?Ey(i):rr.r(t)}var Ja=typeof document>"u"?null:document;function rv(t,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),iv.has(h)||(iv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function EA(t){rr.D(t),rv("dns-prefetch",t,null)}function TA(t,i){rr.C(t,i),rv("preconnect",t,i)}function bA(t,i,a){rr.L(t,i,a);var l=Ja;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=eo(t);break;case"script":d=to(t)}jn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),Gt(i,"link",t),bt(i),l.head.appendChild(i)))}}function SA(t,i){rr.m(t,i);var a=Ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!jn.has(d)&&(t=T({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Gt(l,"link",t),bt(l),a.head.appendChild(l)}}}function AA(t,i,a){rr.S(t,i,a);var l=Ja;if(l&&t){var h=di(l).hoistableStyles,d=eo(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Nl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&nm(t,a);var N=_=l.createElement("link");bt(N),Gt(N,"link",t),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Lc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function wA(t,i){rr.X(t,i);var a=Ja;if(a&&t){var l=di(a).hoistableScripts,h=to(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=T({src:t,async:!0},i),(i=jn.get(h))&&im(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function RA(t,i){rr.M(t,i);var a=Ja;if(a&&t){var l=di(a).hoistableScripts,h=to(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&im(t,i),d=a.createElement("script"),bt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function sv(t,i,a,l){var h=(h=Ce.current)?kc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=di(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=di(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Nl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||CA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=di(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+rn(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function av(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function CA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),bt(i),t.head.appendChild(i))}function to(t){return'[src="'+rn(t)+'"]'}function Dl(t){return"script[async]"+t}function ov(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,bt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),bt(l),Gt(l,"style",h),Lc(l,a.precedence,t),i.instance=l;case"stylesheet":h=eo(a.href);var d=t.querySelector(Nl(h));if(d)return i.state.loading|=4,i.instance=d,bt(d),d;l=av(a),(h=jn.get(h))&&nm(l,h),d=(t.ownerDocument||t).createElement("link"),bt(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Lc(d,a.precedence,t),i.instance=d;case"script":return d=to(a.src),(h=t.querySelector(Dl(d)))?(i.instance=h,bt(h),h):(l=a,(h=jn.get(d))&&(l=T({},a),im(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),bt(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Lc(l,a.precedence,t));return i.instance}function Lc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Uc=null;function lv(t,i,a){if(Uc===null){var l=new Map,h=Uc=new Map;h.set(a,l)}else h=Uc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[hi]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function uv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function IA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function xA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=eo(l.href),d=i.querySelector(Nl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=jc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,bt(d);return}d=i.ownerDocument||i,l=av(l),(h=jn.get(h))&&nm(l,h),d=d.createElement("link"),bt(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=jc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var rm=0;function NA(t,i){return t.stylesheets&&t.count===0&&Bc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&rm===0&&(rm=62500*cA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Bc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>rm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function jc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Bc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(DA,t),zc=null,jc.call(t))}function DA(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=jc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ol={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function OA(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function hv(t,i,a,l,h,d,_,S,N,B,X,J){return t=new OA(t,i,a,_,N,B,X,J,S),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),t.current=d,d.stateNode=t,i=Lf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Bf(d),t}function fv(t){return t?(t=Oa,t):Oa}function dv(t,i,a,l,h,d){h=fv(h),l.context===null?l.context=h:l.pendingContext=h,l=Pr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(cn(a,t,i),cl(a,t,i))}function mv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function sm(t,i){mv(t,i),(t=t.alternate)&&mv(t,i)}function pv(t){if(t.tag===13||t.tag===31){var i=Us(t,67108864);i!==null&&cn(i,t,67108864),sm(t,67108864)}}function gv(t){if(t.tag===13||t.tag===31){var i=An();i=Rs(i);var a=Us(t,i);a!==null&&cn(a,t,i),sm(t,i)}}var Hc=!0;function MA(t,i,a,l){var h=F.T;F.T=null;var d=oe.p;try{oe.p=2,am(t,i,a,l)}finally{oe.p=d,F.T=h}}function VA(t,i,a,l){var h=F.T;F.T=null;var d=oe.p;try{oe.p=8,am(t,i,a,l)}finally{oe.p=d,F.T=h}}function am(t,i,a,l){if(Hc){var h=om(l);if(h===null)Kd(t,i,l,qc,a),_v(t,l);else if(kA(h,t,i,a,l))l.stopPropagation();else if(_v(t,l),i&4&&-1<PA.indexOf(t)){for(;h!==null;){var d=In(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=oi(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-mt(_);S.entanglements[1]|=N,_&=~N}Ri(d),(Ge&6)===0&&(wc=en()+500,Rl(0))}}break;case 31:case 13:S=Us(d,2),S!==null&&cn(S,d,2),Cc(),sm(d,2)}if(d=om(l),d===null&&Kd(t,i,l,qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,i,l,null,a)}}function om(t){return t=xn(t),lm(t)}var qc=null;function lm(t){if(qc=null,t=fi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qc=t,null}function yv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case Po:return 2;case ko:return 8;case Er:case mf:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var um=!1,Yr=null,Qr=null,Xr=null,Ml=new Map,Vl=new Map,$r=[],PA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _v(t,i){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Ml.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function Pl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=In(i),i!==null&&pv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function kA(t,i,a,l,h){switch(i){case"focusin":return Yr=Pl(Yr,t,i,a,l,h),!0;case"dragenter":return Qr=Pl(Qr,t,i,a,l,h),!0;case"mouseover":return Xr=Pl(Xr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,Pl(Ml.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,Pl(Vl.get(d)||null,t,i,a,l,h)),!0}return!1}function vv(t){var i=fi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){gv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){gv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Qo=l,a.target.dispatchEvent(l),Qo=null}else return i=In(a),i!==null&&pv(i),t.blockedOn=a,!1;i.shift()}return!0}function Ev(t,i,a){Fc(t)&&a.delete(i)}function LA(){um=!1,Yr!==null&&Fc(Yr)&&(Yr=null),Qr!==null&&Fc(Qr)&&(Qr=null),Xr!==null&&Fc(Xr)&&(Xr=null),Ml.forEach(Ev),Vl.forEach(Ev)}function Gc(t,i){t.blockedOn===i&&(t.blockedOn=null,um||(um=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,LA)))}var Kc=null;function Tv(t){Kc!==t&&(Kc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(lm(l||a)===null)continue;break}var d=In(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function no(t){function i(N){return Gc(N,t)}Yr!==null&&Gc(Yr,t),Qr!==null&&Gc(Qr,t),Xr!==null&&Gc(Xr,t),Ml.forEach(i),Vl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)vv(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[kt]||null;if(typeof d=="function")_||Tv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[kt]||null)S=_.formAction;else if(lm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Tv(a)}}}function bv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function cm(t){this._internalRoot=t}Yc.prototype.render=cm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();dv(a,l,t,i,null,null)},Yc.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;dv(t.current,2,null,t,null,null),Cc(),i[ci]=null}};function Yc(t){this._internalRoot=t}Yc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&vv(t)}};var Sv=e.version;if(Sv!=="19.2.1")throw Error(s(527,Sv,"19.2.1"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var UA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Hn=Qc.inject(UA),zt=Qc}catch{}}return Ll.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Ny,d=Dy,_=Oy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=hv(t,1,!1,null,null,a,l,null,h,d,_,bv),t[ci]=i.current,Gd(t),new cm(i)},Ll.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Ny,_=Dy,S=Oy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=hv(t,1,!0,i,a??null,l,h,N,d,_,S,bv),i.context=fv(null),a=i.current,l=An(),l=Rs(l),h=Pr(l),h.callback=null,kr(a,h,l),a=l,i.current.lanes=a,As(i,a),Ri(i),t[ci]=i.current,Gd(t),new Yc(i)},Ll.version="19.2.1",Ll}var Mv;function $A(){if(Mv)return dm.exports;Mv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),dm.exports=XA(),dm.exports}var WA=$A();var Vv="popstate";function ZA(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=la(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Om("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Wl(u))}function s(o,u){pn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return e1(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function pn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JA(){return Math.random().toString(36).substring(2,10)}function Pv(r,e){return{usr:r.state,key:r.key,idx:e}}function Om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?la(e):e,state:n,key:e&&e.key||s||JA()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function la(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function e1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let q=E(),Z=q==null?null:q-g;g=q,p&&p({action:m,location:$.location,delta:Z})}function w(q,Z){m="PUSH";let ne=Om($.location,q,Z);n&&n(ne,q),g=E()+1;let re=Pv(ne,g),ge=$.createHref(ne);try{f.pushState(re,"",ge)}catch(Re){if(Re instanceof DOMException&&Re.name==="DataCloneError")throw Re;o.location.assign(ge)}u&&p&&p({action:m,location:$.location,delta:1})}function k(q,Z){m="REPLACE";let ne=Om($.location,q,Z);n&&n(ne,q),g=E();let re=Pv(ne,g),ge=$.createHref(ne);f.replaceState(re,"",ge),u&&p&&p({action:m,location:$.location,delta:0})}function G(q){return t1(q)}let $={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Vv,T),p=q,()=>{o.removeEventListener(Vv,T),p=null}},createHref(q){return e(o,q)},createURL:G,encodeLocation(q){let Z=G(q);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:k,go(q){return f.go(q)}};return $}function t1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Wl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function g0(r,e,n="/"){return n1(r,e,n,!1)}function n1(r,e,n,s){let o=typeof e=="string"?la(e):e,u=cr(o.pathname||"/",n);if(u==null)return null;let f=y0(r);i1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=m1(u);m=f1(f[p],g,s)}return m}function y0(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=lr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),y0(f.children,e,w,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:c1(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of _0(f.path))u(f,m,!0,p)}),e}function _0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=_0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function i1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:h1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var r1=/^:[\w-]+$/,s1=3,a1=2,o1=1,l1=10,u1=-2,kv=r=>r==="*";function c1(r,e){let n=r.split("/"),s=n.length;return n.some(kv)&&(s+=u1),e&&(s+=a1),n.filter(o=>!kv(o)).reduce((o,u)=>o+(r1.test(u)?s1:u===""?o1:l1),s)}function h1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function f1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=ph({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:lr([u,T.pathname]),pathnameBase:v1(lr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=lr([u,T.pathnameBase]))}return f}function ph(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=d1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let G=m[w]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const k=m[w];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function d1(r,e=!1,n=!0){pn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function m1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return pn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function cr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var p1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,g1=r=>p1.test(r);function y1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?la(r):r,u;if(n)if(g1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),pn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Lv(n.substring(1),"/"):u=Lv(n,e)}else u=e;return{pathname:u,search:E1(s),hash:T1(o)}}function Lv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function ym(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lp(r){let e=_1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function up(r,e,n,s=!1){let o;typeof r=="string"?o=la(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),ym("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),ym("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),ym("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=y1(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var lr=r=>r.join("/").replace(/\/\/+/g,"/"),v1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),E1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,T1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function b1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function S1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var v0=["POST","PUT","PATCH","DELETE"];new Set(v0);var A1=["GET",...v0];new Set(A1);var bo=L.createContext(null);bo.displayName="DataRouter";var Uh=L.createContext(null);Uh.displayName="DataRouterState";L.createContext(!1);var E0=L.createContext({isTransitioning:!1});E0.displayName="ViewTransition";var w1=L.createContext(new Map);w1.displayName="Fetchers";var R1=L.createContext(null);R1.displayName="Await";var Bn=L.createContext(null);Bn.displayName="Navigation";var au=L.createContext(null);au.displayName="Location";var ri=L.createContext({outlet:null,matches:[],isDataRoute:!1});ri.displayName="Route";var cp=L.createContext(null);cp.displayName="RouteError";function C1(r,{relative:e}={}){lt(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Bn),{hash:o,pathname:u,search:f}=ou(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:lr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function So(){return L.useContext(au)!=null}function pr(){return lt(So(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(au).location}var T0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function b0(r){L.useContext(Bn).static||L.useLayoutEffect(r)}function gr(){let{isDataRoute:r}=L.useContext(ri);return r?B1():I1()}function I1(){lt(So(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(bo),{basename:e,navigator:n}=L.useContext(Bn),{matches:s}=L.useContext(ri),{pathname:o}=pr(),u=JSON.stringify(lp(s)),f=L.useRef(!1);return b0(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(pn(f.current,T0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=up(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:lr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}L.createContext(null);function x1(){let{matches:r}=L.useContext(ri),e=r[r.length-1];return e?e.params:{}}function ou(r,{relative:e}={}){let{matches:n}=L.useContext(ri),{pathname:s}=pr(),o=JSON.stringify(lp(n));return L.useMemo(()=>up(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function N1(r,e){return S0(r,e)}function S0(r,e,n,s,o){lt(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Bn),{matches:f}=L.useContext(ri),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let ne=T&&T.path||"";A0(g,!T||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let w=pr(),k;if(e){let ne=typeof e=="string"?la(e):e;lt(E==="/"||ne.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),k=ne}else k=w;let G=k.pathname||"/",$=G;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");$="/"+G.replace(/^\//,"").split("/").slice(ne.length).join("/")}let q=g0(r,{pathname:$});pn(T||q!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),pn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=P1(q&&q.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:lr([E,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:lr([E,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,o);return e&&Z?L.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},Z):Z}function D1(){let r=z1(),e=b1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var O1=L.createElement(D1,null),M1=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(ri.Provider,{value:this.props.routeContext},L.createElement(cp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function V1({routeContext:r,match:e,children:n}){let s=L.useContext(bo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ri.Provider,{value:r},n)}function P1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:k}=n,G=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:S1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let k,G=!1,$=null,q=null;n&&(k=f&&T.route.id?f[T.route.id]:void 0,$=T.route.errorElement||O1,m&&(p<0&&w===0?(A0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,q=null):p===w&&(G=!0,q=T.route.hydrateFallbackElement||null)));let Z=e.concat(u.slice(0,w+1)),ne=()=>{let re;return k?re=$:G?re=q:T.route.Component?re=L.createElement(T.route.Component,null):T.route.element?re=T.route.element:re=E,L.createElement(V1,{match:T,routeContext:{outlet:E,matches:Z,isDataRoute:n!=null},children:re})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?L.createElement(M1,{location:n.location,revalidation:n.revalidation,component:$,error:k,children:ne(),routeContext:{outlet:null,matches:Z,isDataRoute:!0},onError:g}):ne()},null)}function hp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k1(r){let e=L.useContext(bo);return lt(e,hp(r)),e}function L1(r){let e=L.useContext(Uh);return lt(e,hp(r)),e}function U1(r){let e=L.useContext(ri);return lt(e,hp(r)),e}function fp(r){let e=U1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function j1(){return fp("useRouteId")}function z1(){let r=L.useContext(cp),e=L1("useRouteError"),n=fp("useRouteError");return r!==void 0?r:e.errors?.[n]}function B1(){let{router:r}=k1("useNavigate"),e=fp("useNavigate"),n=L.useRef(!1);return b0(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{pn(n.current,T0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Uv={};function A0(r,e,n){!e&&!Uv[r]&&(Uv[r]=!0,pn(!1,n))}L.memo(H1);function H1({routes:r,future:e,state:n,unstable_onError:s}){return S0(r,void 0,n,s,e)}function q1({to:r,replace:e,state:n,relative:s}){lt(So(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Bn);pn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ri),{pathname:f}=pr(),m=gr(),p=up(r,lp(u),f,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function ei(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function F1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=la(n));let{pathname:g="/",search:E="",hash:T="",state:w=null,key:k="default"}=n,G=L.useMemo(()=>{let $=cr(g,m);return $==null?null:{location:{pathname:$,search:E,hash:T,state:w,key:k},navigationType:s}},[m,g,E,T,w,k,s]);return pn(G!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),G==null?null:L.createElement(Bn.Provider,{value:p},L.createElement(au.Provider,{children:e,value:G}))}function G1({children:r,location:e}){return N1(Mm(r),e)}function Mm(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Mm(s.props.children,u));return}lt(s.type===ei,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Mm(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function jh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function K1(r){return jh(r)&&r.tagName.toLowerCase()==="button"}function Y1(r){return jh(r)&&r.tagName.toLowerCase()==="form"}function Q1(r){return jh(r)&&r.tagName.toLowerCase()==="input"}function X1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $1(r,e){return r.button===0&&(!e||e==="_self")&&!X1(r)}function Vm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function W1(r,e){let n=Vm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Xc=null;function Z1(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var J1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(r){return r!=null&&!J1.has(r)?(pn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function ew(r,e){let n,s,o,u,f;if(Y1(r)){let m=r.getAttribute("action");s=m?cr(m,e):null,n=r.getAttribute("method")||nh,o=_m(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(K1(r)||Q1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?cr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||nh,o=_m(r.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||ih,u=new FormData(m,r),!Z1()){let{name:g,type:E,value:T}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(jh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function tw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&cr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function nw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function rw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await nw(u,n);return f.links?f.links():[]}return[]}));return lw(s.flat(1).filter(iw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function jv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function sw(r,e,{includeHydrateFallback:n}={}){return aw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function aw(r){return[...new Set(r)]}function ow(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function lw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(ow(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function w0(){let r=L.useContext(bo);return dp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function uw(){let r=L.useContext(Uh);return dp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var mp=L.createContext(void 0);mp.displayName="FrameworkContext";function R0(){let r=L.useContext(mp);return dp(r,"You must render this element inside a <HydratedRouter> element"),r}function cw(r,e){let n=L.useContext(mp),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=Z=>{Z.forEach(ne=>{f(ne.isIntersecting)})},q=new IntersectionObserver($,{threshold:.5});return w.current&&q.observe(w.current),()=>{q.disconnect()}}},[r]),L.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let k=()=>{o(!0)},G=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Ul(m,k),onBlur:Ul(p,G),onMouseEnter:Ul(g,k),onMouseLeave:Ul(E,G),onTouchStart:Ul(T,k)}]:[!1,w,{}]}function Ul(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function hw({page:r,...e}){let{router:n}=w0(),s=L.useMemo(()=>g0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(dw,{page:r,matches:s,...e}):null}function fw(r){let{manifest:e,routeModules:n}=R0(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return rw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function dw({page:r,matches:e,...n}){let s=pr(),{manifest:o,routeModules:u}=R0(),{basename:f}=w0(),{loaderData:m,matches:p}=uw(),g=L.useMemo(()=>jv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=L.useMemo(()=>jv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,$=!1;if(e.forEach(Z=>{let ne=o.routes[Z.route.id];!ne||!ne.hasLoader||(!g.some(re=>re.route.id===Z.route.id)&&Z.route.id in m&&u[Z.route.id]?.shouldRevalidate||ne.hasClientLoader?$=!0:G.add(Z.route.id))}),G.size===0)return[];let q=tw(r,f,"data");return $&&G.size>0&&q.searchParams.set("_routes",e.filter(Z=>G.has(Z.route.id)).map(Z=>Z.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,r,u]),w=L.useMemo(()=>sw(E,o),[E,o]),k=fw(E);return L.createElement(L.Fragment,null,T.map(G=>L.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),w.map(G=>L.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),k.map(({key:G,link:$})=>L.createElement("link",{key:G,nonce:n.nonce,...$})))}function mw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var C0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C0&&(window.__reactRouterVersion="7.10.1")}catch{}function pw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=ZA({window:s,v5Compat:!0}));let u=o.current,[f,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(F1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var I0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},k){let{basename:G,unstable_useTransitions:$}=L.useContext(Bn),q=typeof g=="string"&&I0.test(g),Z,ne=!1;if(typeof g=="string"&&q&&(Z=g,C0))try{let M=new URL(window.location.href),D=g.startsWith("//")?new URL(M.protocol+g):new URL(g),P=cr(D.pathname,G);D.origin===M.origin&&P!=null?g=P+D.search+D.hash:ne=!0}catch{pn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=C1(g,{relative:o}),[ge,Re,_e]=cw(s,w),x=vw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:$});function R(M){e&&e(M),M.defaultPrevented||x(M)}let C=L.createElement("a",{...w,..._e,href:Z||re,onClick:ne||u?e:R,ref:mw(k,Re),target:p,"data-discover":!q&&n==="render"?"true":void 0});return ge&&!q?L.createElement(L.Fragment,null,C,L.createElement(hw,{page:re})):C});hn.displayName="Link";var gw=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=ou(f,{relative:g.relative}),w=pr(),k=L.useContext(Uh),{navigator:G,basename:$}=L.useContext(Bn),q=k!=null&&ww(T)&&m===!0,Z=G.encodeLocation?G.encodeLocation(T).pathname:T.pathname,ne=w.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,Z=Z.toLowerCase()),re&&$&&(re=cr(re,$)||re);const ge=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let Re=ne===Z||!o&&ne.startsWith(Z)&&ne.charAt(ge)==="/",_e=re!=null&&(re===Z||!o&&re.startsWith(Z)&&re.charAt(Z.length)==="/"),x={isActive:Re,isPending:_e,isTransitioning:q},R=Re?e:void 0,C;typeof s=="function"?C=s(x):C=[s,Re?"active":null,_e?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return L.createElement(hn,{...g,"aria-current":R,className:C,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(x):p)});gw.displayName="NavLink";var yw=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},k)=>{let{unstable_useTransitions:G}=L.useContext(Bn),$=Sw(),q=Aw(m,{relative:g}),Z=f.toLowerCase()==="get"?"get":"post",ne=typeof m=="string"&&I0.test(m),re=ge=>{if(p&&p(ge),ge.defaultPrevented)return;ge.preventDefault();let Re=ge.nativeEvent.submitter,_e=Re?.getAttribute("formmethod")||f,x=()=>$(Re||ge.currentTarget,{fetcherKey:e,method:_e,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T});G&&n!==!1?L.startTransition(()=>x()):x()};return L.createElement("form",{ref:k,method:Z,action:q,onSubmit:s?p:re,...w,"data-discover":!ne&&r==="render"?"true":void 0})});yw.displayName="Form";function _w(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x0(r){let e=L.useContext(bo);return lt(e,_w(r)),e}function vw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=gr(),g=pr(),E=ou(r,{relative:u});return L.useCallback(T=>{if($1(T,e)){T.preventDefault();let w=n!==void 0?n:Wl(g)===Wl(E),k=()=>p(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?L.startTransition(()=>k()):k()}},[g,p,E,n,s,e,r,o,u,f,m])}function Ew(r){pn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(Vm(r)),n=L.useRef(!1),s=pr(),o=L.useMemo(()=>W1(s.search,n.current?null:e.current),[s.search]),u=gr(),f=L.useCallback((m,p)=>{const g=Vm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var Tw=0,bw=()=>`__${String(++Tw)}__`;function Sw(){let{router:r}=x0("useSubmit"),{basename:e}=L.useContext(Bn),n=j1(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=ew(u,e);if(f.navigate===!1){let w=f.fetcherKey||bw();await s(w,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Aw(r,{relative:e}={}){let{basename:n}=L.useContext(Bn),s=L.useContext(ri);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ou(r||".",{relative:e})},f=pr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:lr([n,u.pathname])),Wl(u)}function ww(r,{relative:e}={}){let n=L.useContext(E0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=x0("useViewTransitionState"),o=ou(r,{relative:e});if(!n.isTransitioning)return!1;let u=cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ph(o.pathname,f)!=null||ph(o.pathname,u)!=null}const Rw=()=>{};var zv={};const N0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Cw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},D0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(w=64)),s.push(n[E],n[T],n[w],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(N0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Cw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Iw;const w=u<<2|m>>4;if(s.push(w),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const G=g<<6&192|T;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Iw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xw=function(r){const e=N0(r);return D0.encodeByteArray(e,!0)},gh=function(r){return xw(r).replace(/\./g,"")},O0=function(r){try{return D0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Nw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Dw=()=>Nw().__FIREBASE_DEFAULTS__,Ow=()=>{if(typeof process>"u"||typeof zv>"u")return;const r=zv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Mw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&O0(r[1]);return e&&JSON.parse(e)},zh=()=>{try{return Rw()||Dw()||Ow()||Mw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},M0=r=>zh()?.emulatorHosts?.[r],Vw=r=>{const e=M0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},V0=()=>zh()?.config,P0=r=>zh()?.[`_${r}`];class Pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ao(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function k0(r){return(await fetch(r,{credentials:"include"})).ok}function kw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[gh(JSON.stringify(n)),gh(JSON.stringify(f)),""].join(".")}const Gl={};function Lw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?r.emulator.push(e):r.prod.push(e);return r}function Uw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Bv=!1;function L0(r,e){if(typeof window>"u"||typeof document>"u"||!Ao(window.location.host)||Gl[r]===e||Gl[r]||Bv)return;Gl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=Lw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Bv=!0,f()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=Uw(s),k=n("text"),G=document.getElementById(k)||document.createElement("span"),$=n("learnmore"),q=document.getElementById($)||document.createElement("a"),Z=n("preprendIcon"),ne=document.getElementById(Z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;m(re),E(q,$);const ge=g();p(ne,Z),re.append(ne,G,q,ge),document.body.appendChild(re)}u?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function zw(){const r=zh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Bw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function qw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Fw(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Gw(){return!zw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kw(){try{return typeof indexedDB=="object"}catch{return!1}}function Yw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const Qw="FirebaseError";class yr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Qw,Object.setPrototypeOf(this,yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lu.prototype.create)}}class lu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Xw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new yr(o,m,s)}}function Xw(r,e){return r.replace($w,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const $w=/\{\$([^}]+)}/g;function Ww(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ta(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Hv(u)&&Hv(f)){if(!ta(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Hv(r){return r!==null&&typeof r=="object"}function uu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function Zw(r,e){const n=new Jw(r,e);return n.subscribe.bind(n)}class Jw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");eR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=vm),o.error===void 0&&(o.error=vm),o.complete===void 0&&(o.complete=vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function vm(){}function dt(r){return r&&r._delegate?r._delegate:r}class na{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Zs="[DEFAULT]";class tR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Pw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:nR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nR(r){return r===Zs?void 0:r}function iR(r){return r.instantiationMode==="EAGER"}class rR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const sR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},aR=Me.INFO,oR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},lR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=oR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=aR,this._logHandler=lR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?sR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const uR=(r,e)=>e.some(n=>r instanceof n);let qv,Fv;function cR(){return qv||(qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hR(){return Fv||(Fv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U0=new WeakMap,Pm=new WeakMap,j0=new WeakMap,Em=new WeakMap,gp=new WeakMap;function fR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ss(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&U0.set(n,r)}).catch(()=>{}),gp.set(e,r),e}function dR(r){if(Pm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Pm.set(r,e)}let km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Pm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||j0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ss(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function mR(r){km=r(km)}function pR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Tm(this),e,...n);return j0.set(s,e.sort?e.sort():[e]),ss(s)}:hR().includes(r)?function(...e){return r.apply(Tm(this),e),ss(U0.get(this))}:function(...e){return ss(r.apply(Tm(this),e))}}function gR(r){return typeof r=="function"?pR(r):(r instanceof IDBTransaction&&dR(r),uR(r,cR())?new Proxy(r,km):r)}function ss(r){if(r instanceof IDBRequest)return fR(r);if(Em.has(r))return Em.get(r);const e=gR(r);return e!==r&&(Em.set(r,e),gp.set(e,r)),e}const Tm=r=>gp.get(r);function yR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ss(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ss(f.result),p.oldVersion,p.newVersion,ss(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const _R=["get","getKey","getAll","getAllKeys","count"],vR=["put","add","delete","clear"],bm=new Map;function Gv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(bm.get(e))return bm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=vR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||_R.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return bm.set(e,u),u}mR(r=>({...r,get:(e,n,s)=>Gv(e,n)||r.get(e,n,s),has:(e,n)=>!!Gv(e,n)||r.has(e,n)}));class ER{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(TR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function TR(r){return r.getComponent()?.type==="VERSION"}const Lm="@firebase/app",Kv="0.14.6";const hr=new pp("@firebase/app"),bR="@firebase/app-compat",SR="@firebase/analytics-compat",AR="@firebase/analytics",wR="@firebase/app-check-compat",RR="@firebase/app-check",CR="@firebase/auth",IR="@firebase/auth-compat",xR="@firebase/database",NR="@firebase/data-connect",DR="@firebase/database-compat",OR="@firebase/functions",MR="@firebase/functions-compat",VR="@firebase/installations",PR="@firebase/installations-compat",kR="@firebase/messaging",LR="@firebase/messaging-compat",UR="@firebase/performance",jR="@firebase/performance-compat",zR="@firebase/remote-config",BR="@firebase/remote-config-compat",HR="@firebase/storage",qR="@firebase/storage-compat",FR="@firebase/firestore",GR="@firebase/ai",KR="@firebase/firestore-compat",YR="firebase",QR="12.6.0";const Um="[DEFAULT]",XR={[Lm]:"fire-core",[bR]:"fire-core-compat",[AR]:"fire-analytics",[SR]:"fire-analytics-compat",[RR]:"fire-app-check",[wR]:"fire-app-check-compat",[CR]:"fire-auth",[IR]:"fire-auth-compat",[xR]:"fire-rtdb",[NR]:"fire-data-connect",[DR]:"fire-rtdb-compat",[OR]:"fire-fn",[MR]:"fire-fn-compat",[VR]:"fire-iid",[PR]:"fire-iid-compat",[kR]:"fire-fcm",[LR]:"fire-fcm-compat",[UR]:"fire-perf",[jR]:"fire-perf-compat",[zR]:"fire-rc",[BR]:"fire-rc-compat",[HR]:"fire-gcs",[qR]:"fire-gcs-compat",[FR]:"fire-fst",[KR]:"fire-fst-compat",[GR]:"fire-vertex","fire-js":"fire-js",[YR]:"fire-js-all"};const yh=new Map,$R=new Map,jm=new Map;function Yv(r,e){try{r.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function mo(r){const e=r.name;if(jm.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,r);for(const n of yh.values())Yv(n,r);for(const n of $R.values())Yv(n,r);return!0}function yp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function wn(r){return r==null?!1:r.settings!==void 0}const WR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},as=new lu("app","Firebase",WR);class ZR{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new na("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw as.create("app-deleted",{appName:this._name})}}const wo=QR;function z0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Um,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw as.create("bad-app-name",{appName:String(o)});if(n||(n=V0()),!n)throw as.create("no-options");const u=yh.get(o);if(u){if(ta(n,u.options)&&ta(s,u.config))return u;throw as.create("duplicate-app",{appName:o})}const f=new rR(o);for(const p of jm.values())f.addComponent(p);const m=new ZR(n,s,f);return yh.set(o,m),m}function B0(r=Um){const e=yh.get(r);if(!e&&r===Um&&V0())return z0();if(!e)throw as.create("no-app",{appName:r});return e}function os(r,e,n){let s=XR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(f.join(" "));return}mo(new na(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const JR="firebase-heartbeat-database",eC=1,Zl="firebase-heartbeat-store";let Sm=null;function H0(){return Sm||(Sm=yR(JR,eC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw as.create("idb-open",{originalErrorMessage:r.message})})),Sm}async function tC(r){try{const n=(await H0()).transaction(Zl),s=await n.objectStore(Zl).get(q0(r));return await n.done,s}catch(e){if(e instanceof yr)hr.warn(e.message);else{const n=as.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function Qv(r,e){try{const s=(await H0()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,q0(r)),await s.done}catch(n){if(n instanceof yr)hr.warn(n.message);else{const s=as.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function q0(r){return`${r.name}!${r.options.appId}`}const nC=1024,iC=30;class rC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Xv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>iC){const o=oC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xv(),{heartbeatsToSend:n,unsentEntries:s}=sC(this._heartbeatsCache.heartbeats),o=gh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hr.warn(e),""}}}function Xv(){return new Date().toISOString().substring(0,10)}function sC(r,e=nC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),$v(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),$v(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class aC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kw()?Yw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await tC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Qv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function $v(r){return gh(JSON.stringify({version:2,heartbeats:r})).length}function oC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function lC(r){mo(new na("platform-logger",e=>new ER(e),"PRIVATE")),mo(new na("heartbeat",e=>new rC(e),"PRIVATE")),os(Lm,Kv,r),os(Lm,Kv,"esm2020"),os("fire-js","")}lC("");var uC="firebase",cC="12.6.0";os(uC,cC,"app");function F0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hC=F0,G0=new lu("auth","Firebase",F0());const _h=new pp("@firebase/auth");function fC(r,...e){_h.logLevel<=Me.WARN&&_h.warn(`Auth (${wo}): ${r}`,...e)}function rh(r,...e){_h.logLevel<=Me.ERROR&&_h.error(`Auth (${wo}): ${r}`,...e)}function ni(r,...e){throw _p(r,...e)}function Ii(r,...e){return _p(r,...e)}function K0(r,e,n){const s={...hC(),[e]:n};return new lu("auth","Firebase",s).create(e,{appName:r.name})}function xi(r){return K0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return G0.create(r,...e)}function ve(r,e,...n){if(!r)throw _p(e,...n)}function sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw rh(e),new Error(e)}function fr(r,e){r||sr(e)}function zm(){return typeof self<"u"&&self.location?.href||""}function dC(){return Wv()==="http:"||Wv()==="https:"}function Wv(){return typeof self<"u"&&self.location?.protocol||null}function mC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dC()||Hw()||"connection"in navigator)?navigator.onLine:!0}function pC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=jw()||qw()}get(){return mC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(r,e){fr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Y0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_C=new cu(3e4,6e4);function gs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Ui(r,e,n,s,o={}){return Q0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=uu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return Bw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(g.credentials="include"),Y0.fetch()(await X0(r,r.config.apiHost,n,m),g)})}async function Q0(r,e,n){r._canInitEmulator=!1;const s={...gC,...e};try{const o=new EC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw $c(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw $c(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw $c(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw K0(r,E,g);ni(r,E)}}catch(o){if(o instanceof yr)throw o;ni(r,"network-request-failed",{message:String(o)})}}async function hu(r,e,n,s,o={}){const u=await Ui(r,e,n,s,o);return"mfaPendingCredential"in u&&ni(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function X0(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?vp(r.config,o):`${r.config.apiScheme}://${o}`;return yC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function vC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ii(this.auth,"network-request-failed")),_C.get())})}}function $c(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ii(r,e,s);return o.customData._tokenResponse=n,o}function Zv(r){return r!==void 0&&r.enterprise!==void 0}class TC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bC(r,e){return Ui(r,"GET","/v2/recaptchaConfig",gs(r,e))}async function SC(r,e){return Ui(r,"POST","/v1/accounts:delete",e)}async function vh(r,e){return Ui(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AC(r,e=!1){const n=dt(r),s=await n.getIdToken(e),o=Ep(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(Am(o.auth_time)),issuedAtTime:Kl(Am(o.iat)),expirationTime:Kl(Am(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Am(r){return Number(r)*1e3}function Ep(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=O0(n);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jv(r){const e=Ep(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function ia(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof yr&&wC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function wC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class RC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Eh(r){const e=r.auth,n=await r.getIdToken(),s=await ia(r,vh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?$0(o.providerUserInfo):[],f=IC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function CC(r){const e=dt(r);await Eh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function $0(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function xC(r,e){const n=await Q0(r,{},async()=>{const s=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await X0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ao(r.emulatorConfig.host)&&(p.credentials="include"),Y0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NC(r,e){return Ui(r,"POST","/v2/accounts:revokeToken",gs(r,e))}class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Jv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Jv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await xC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Zr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new RC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ia(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AC(this,e)}reload(){return CC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Eh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wn(this.auth.app))return Promise.reject(xi(this.auth));const e=await this.getIdToken();return await ia(this,SC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:G,stsTokenManager:$}=n;ve(T&&$,e,"internal-error");const q=lo.fromJSON(this.name,$);ve(typeof T=="string",e,"internal-error"),Zr(s,e.name),Zr(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof k=="boolean",e,"internal-error"),Zr(u,e.name),Zr(f,e.name),Zr(m,e.name),Zr(p,e.name),Zr(g,e.name),Zr(E,e.name);const Z=new ti({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:E});return G&&Array.isArray(G)&&(Z.providerData=G.map(ne=>({...ne}))),p&&(Z._redirectEventId=p),Z}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Eh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?$0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new lo;m.updateFromIdToken(s);const p=new ti({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const eE=new Map;function ar(r){fr(r instanceof Function,"Expected a class definition");let e=eE.get(r);return e?(fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,eE.set(r,e),e)}class W0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}W0.type="NONE";const tE=W0;function sh(r,e,n){return`firebase:${r}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await vh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ar(tE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ar(tE);const f=sh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const w=await vh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ti._fromGetAccountInfoResponse(e,w,E)}else T=ti._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new uo(u,e,s))}}function nE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Z0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(iT(e))return"Blackberry";if(rT(e))return"Webos";if(J0(e))return"Safari";if((e.includes("chrome/")||eT(e))&&!e.includes("edge/"))return"Chrome";if(nT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Z0(r=Jt()){return/firefox\//i.test(r)}function J0(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eT(r=Jt()){return/crios\//i.test(r)}function tT(r=Jt()){return/iemobile/i.test(r)}function nT(r=Jt()){return/android/i.test(r)}function iT(r=Jt()){return/blackberry/i.test(r)}function rT(r=Jt()){return/webos/i.test(r)}function Tp(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DC(r=Jt()){return Tp(r)&&!!window.navigator?.standalone}function OC(){return Fw()&&document.documentMode===10}function sT(r=Jt()){return Tp(r)||nT(r)||rT(r)||iT(r)||/windows phone/i.test(r)||tT(r)}function aT(r,e=[]){let n;switch(r){case"Browser":n=nE(Jt());break;case"Worker":n=`${nE(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${s}`}class MC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function VC(r,e={}){return Ui(r,"GET","/v2/passwordPolicy",gs(r,e))}const PC=6;class kC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??PC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class LC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iE(this),this.idTokenSubscription=new iE(this),this.beforeStateQueue=new MC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await vh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(wn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Eh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wn(this.app))return Promise.reject(xi(this));const n=e?dt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return wn(this.app)?Promise.reject(xi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wn(this.app)?Promise.reject(xi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VC(this),n=new kC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new lu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ua(r){return dt(r)}class iE{constructor(e){this.auth=e,this.observer=null,this.addObserver=Zw(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UC(r){Bh=r}function oT(r){return Bh.loadJS(r)}function jC(){return Bh.recaptchaEnterpriseScript}function zC(){return Bh.gapiScript}function BC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HC{constructor(){this.enterprise=new qC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FC="recaptcha-enterprise",lT="NO_RECAPTCHA";class GC{constructor(e){this.type=FC,this.auth=ua(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{bC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new TC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Zv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(lT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Zv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=jC();p.length!==0&&(p+=m),oT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function rE(r,e,n,s=!1,o=!1){const u=new GC(r);let f;if(o)f=lT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Hm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await rE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await rE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function KC(r,e){const n=yp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ta(u,e??{}))return o;ni(o,"already-initialized")}return n.initialize({options:e})}function YC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function QC(r,e,n){const s=ua(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=uT(e),{host:f,port:m}=XC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ta(g,s.config.emulator)&&ta(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ao(f)?(k0(`${u}//${f}${p}`),L0("Auth",!0)):$C()}function uT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XC(r){const e=uT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:sE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:sE(f)}}}function sE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function $C(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class bp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function WC(r,e){return Ui(r,"POST","/v1/accounts:update",e)}async function ZC(r,e){return Ui(r,"POST","/v1/accounts:signUp",e)}async function JC(r,e){return hu(r,"POST","/v1/accounts:signInWithPassword",gs(r,e))}async function e2(r,e){return hu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}async function t2(r,e){return hu(r,"POST","/v1/accounts:signInWithEmailLink",gs(r,e))}class Jl extends bp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Jl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Jl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",JC);case"emailLink":return e2(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,s,"signUpPassword",ZC);case"emailLink":return t2(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function co(r,e){return hu(r,"POST","/v1/accounts:signInWithIdp",gs(r,e))}const n2="http://localhost";class ra extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ra(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new ra(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:n2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}function i2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r2(r){const e=jl(zl(r)).link,n=e?jl(zl(e)).deep_link_id:null,s=jl(zl(r)).deep_link_id;return(s?jl(zl(s)).link:null)||s||n||e||r}class Sp{constructor(e){const n=jl(zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=i2(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=r2(e);try{return new Sp(n)}catch{return null}}}class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return Jl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Sp.parseLink(n);return ve(s,"argument-error"),Jl._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class fu extends cT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class es extends fu{constructor(){super("facebook.com")}static credential(e){return ra._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.FACEBOOK_SIGN_IN_METHOD="facebook.com";es.PROVIDER_ID="facebook.com";class ts extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ra._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";class ns extends fu{constructor(){super("github.com")}static credential(e){return ra._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ns.credential(e.oauthAccessToken)}catch{return null}}}ns.GITHUB_SIGN_IN_METHOD="github.com";ns.PROVIDER_ID="github.com";class is extends fu{constructor(){super("twitter.com")}static credential(e,n){return ra._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return is.credential(n,s)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";async function s2(r,e){return hu(r,"POST","/v1/accounts:signUp",gs(r,e))}class sa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ti._fromIdTokenResponse(e,s,o),f=aE(s);return new sa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=aE(s);return new sa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function aE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Th extends yr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Th(e,n,s,o)}}function hT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(r,u,e,s):u})}async function a2(r,e,n=!1){const s=await ia(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return sa._forOperation(r,"link",s)}async function o2(r,e,n=!1){const{auth:s}=r;if(wn(s.app))return Promise.reject(xi(s));const o="reauthenticate";try{const u=await ia(r,hT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Ep(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),sa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}async function fT(r,e,n=!1){if(wn(r.app))return Promise.reject(xi(r));const s="signIn",o=await hT(r,s,e),u=await sa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function l2(r,e){return fT(ua(r),e)}async function dT(r){const e=ua(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u2(r,e,n){if(wn(r.app))return Promise.reject(xi(r));const s=ua(r),f=await Hm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&dT(r),p}),m=await sa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function c2(r,e,n){return wn(r.app)?Promise.reject(xi(r)):l2(dt(r),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&dT(r),s})}async function h2(r,e){return Ui(r,"POST","/v1/accounts:update",e)}async function f2(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=dt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await ia(s,h2(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function d2(r,e){const n=dt(r);return wn(n.auth.app)?Promise.reject(xi(n.auth)):mT(n,e,null)}function m2(r,e){return mT(dt(r),null,e)}async function mT(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(u.email=e),n&&(u.password=n);const f=await ia(r,WC(s,u));await r._updateTokensIfNecessary(f,!0)}function p2(r,e,n,s){return dt(r).onIdTokenChanged(e,n,s)}function g2(r,e,n){return dt(r).beforeAuthStateChanged(e,n)}function y2(r,e,n,s){return dt(r).onAuthStateChanged(e,n,s)}function _2(r){return dt(r).signOut()}const bh="__sak";class pT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(bh,"1"),this.storage.removeItem(bh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=1e3,E2=10;class gT extends pT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);OC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,E2):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},v2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gT.type="LOCAL";const T2=gT;class yT extends pT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}yT.type="SESSION";const _T=yT;function b2(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await b2(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];function Ap(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class S2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ap("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Ni(){return window}function A2(r){Ni().location.href=r}function vT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function w2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function R2(){return navigator?.serviceWorker?.controller||null}function C2(){return vT()?self:null}const ET="firebaseLocalStorageDb",I2=1,Sh="firebaseLocalStorage",TT="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(r,e){return r.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function x2(){const r=indexedDB.deleteDatabase(ET);return new du(r).toPromise()}function qm(){const r=indexedDB.open(ET,I2);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Sh,{keyPath:TT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await x2(),e(await qm()))})})}async function oE(r,e,n){const s=qh(r,!0).put({[TT]:e,value:n});return new du(s).toPromise()}async function N2(r,e){const n=qh(r,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function lE(r,e){const n=qh(r,!0).delete(e);return new du(n).toPromise()}const D2=800,O2=3;class bT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>O2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(C2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await w2(),!this.activeServiceWorker)return;this.sender=new S2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||R2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await oE(e,bh,"1"),await lE(e,bh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>oE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>N2(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),D2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bT.type="LOCAL";const M2=bT;new cu(3e4,6e4);function V2(r,e){return e?ar(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wp extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function P2(r){return fT(r.auth,new wp(r),r.bypassAuthState)}function k2(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),o2(n,new wp(r),r.bypassAuthState)}async function L2(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),a2(n,new wp(r),r.bypassAuthState)}class ST{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return P2;case"linkViaPopup":case"linkViaRedirect":return L2;case"reauthViaPopup":case"reauthViaRedirect":return k2;default:ni(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const U2=new cu(2e3,1e4);class oo extends ST{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,U2.get())};e()}}oo.currentPopupAction=null;const j2="pendingRedirect",ah=new Map;class z2 extends ST{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await B2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B2(r,e){const n=F2(e),s=q2(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function H2(r,e){ah.set(r._key(),e)}function q2(r){return ar(r._redirectPersistence)}function F2(r){return sh(j2,r.config.apiKey,r.name)}async function G2(r,e,n=!1){if(wn(r.app))return Promise.reject(xi(r));const s=ua(r),o=V2(s,e),f=await new z2(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const K2=600*1e3;class Y2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Q2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!AT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ii(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=K2&&this.cachedEventUids.clear(),this.cachedEventUids.has(uE(e))}saveEventToCache(e){this.cachedEventUids.add(uE(e)),this.lastProcessedEventTime=Date.now()}}function uE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function AT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function Q2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AT(r);default:return!1}}async function X2(r,e={}){return Ui(r,"GET","/v1/projects",e)}const $2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W2=/^https?/;async function Z2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await X2(r);for(const n of e)try{if(J2(n))return}catch{}ni(r,"unauthorized-domain")}function J2(r){const e=zm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!W2.test(n))return!1;if($2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const eI=new cu(3e4,6e4);function cE(){const r=Ni().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function tI(r){return new Promise((e,n)=>{function s(){cE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{cE(),n(Ii(r,"network-request-failed"))},timeout:eI.get()})}if(Ni().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ni().gapi?.load)s();else{const o=BC("iframefcb");return Ni()[o]=()=>{gapi.load?s():n(Ii(r,"network-request-failed"))},oT(`${zC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw oh=null,e})}let oh=null;function nI(r){return oh=oh||tI(r),oh}const iI=new cu(5e3,15e3),rI="__/auth/iframe",sI="emulator/auth/iframe",aI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lI(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?vp(e,sI):`https://${r.config.authDomain}/${rI}`,s={apiKey:e.apiKey,appName:r.name,v:wo},o=oI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${uu(s).slice(1)}`}async function uI(r){const e=await nI(r),n=Ni().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:lI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:aI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ii(r,"network-request-failed"),m=Ni().setTimeout(()=>{u(f)},iI.get());function p(){Ni().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const cI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hI=500,fI=600,dI="_blank",mI="http://localhost";class hE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function pI(r,e,n,s=hI,o=fI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...cI,width:s.toString(),height:o.toString(),top:u,left:f},g=Jt().toLowerCase();n&&(m=eT(g)?dI:n),Z0(g)&&(e=e||mI,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[k,G])=>`${w}${k}=${G},`,"");if(DC(g)&&m!=="_self")return gI(e||"",m),new hE(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new hE(T)}function gI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const yI="__/auth/handler",_I="emulator/auth/handler",vI=encodeURIComponent("fac");async function fE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:wo,eventId:o};if(e instanceof cT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Ww(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof fu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${vI}=${encodeURIComponent(p)}`:"";return`${EI(r)}?${uu(m).slice(1)}${g}`}function EI({config:r}){return r.emulator?vp(r,_I):`https://${r.authDomain}/${yI}`}const wm="webStorageSupport";class TI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_T,this._completeRedirectFn=G2,this._overrideRedirectResult=H2}async _openPopup(e,n,s,o){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await fE(e,n,s,zm(),o);return pI(e,u,Ap())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await fE(e,n,s,zm(),o);return A2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await uI(e),s=new Y2(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{const u=o?.[0]?.[wm];u!==void 0&&n(!!u),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Z2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sT()||J0()||Tp()}}const bI=TI;var dE="@firebase/auth",mE="1.11.1";class SI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function AI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wI(r){mo(new na("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(r)},g=new LC(s,o,u,p);return YC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),mo(new na("auth-internal",e=>{const n=ua(e.getProvider("auth").getImmediate());return(s=>new SI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(dE,mE,AI(r)),os(dE,mE,"esm2020")}const RI=300,CI=P0("authIdTokenMaxAge")||RI;let pE=null;const II=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>CI)return;const o=n?.token;pE!==o&&(pE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xI(r=B0()){const e=yp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=KC(r,{popupRedirectResolver:bI,persistence:[M2,T2,_T]}),s=P0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=II(u.toString());g2(n,f,()=>f(n.currentUser)),p2(n,m=>f(m))}}const o=M0("auth");return o&&QC(n,`http://${o}`),n}function NI(){return document.getElementsByTagName("head")?.[0]??document}UC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ii("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",NI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wI("Browser");var gE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ls,wT;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(M,D,P){for(var I=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)I[ze-2]=arguments[ze];return R.prototype[D].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const M=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)M[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],D=x.g[2];let P=x.g[3],I;I=R+(P^C&(D^P))+M[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(D^R&(C^D))+M[1]+3905402710&4294967295,P=R+(I<<12&4294967295|I>>>20),I=D+(C^P&(R^C))+M[2]+606105819&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(R^D&(P^R))+M[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(P^C&(D^P))+M[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(D^R&(C^D))+M[5]+1200080426&4294967295,P=R+(I<<12&4294967295|I>>>20),I=D+(C^P&(R^C))+M[6]+2821735955&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(R^D&(P^R))+M[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(P^C&(D^P))+M[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(D^R&(C^D))+M[9]+2336552879&4294967295,P=R+(I<<12&4294967295|I>>>20),I=D+(C^P&(R^C))+M[10]+4294925233&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(R^D&(P^R))+M[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(P^C&(D^P))+M[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=P+(D^R&(C^D))+M[13]+4254626195&4294967295,P=R+(I<<12&4294967295|I>>>20),I=D+(C^P&(R^C))+M[14]+2792965006&4294967295,D=P+(I<<17&4294967295|I>>>15),I=C+(R^D&(P^R))+M[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(D^P&(C^D))+M[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(R^C))+M[6]+3225465664&4294967295,P=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(P^R))+M[11]+643717713&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(D^P))+M[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^P&(C^D))+M[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(R^C))+M[10]+38016083&4294967295,P=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(P^R))+M[15]+3634488961&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(D^P))+M[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^P&(C^D))+M[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(R^C))+M[14]+3275163606&4294967295,P=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(P^R))+M[3]+4107603335&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(D^P))+M[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^P&(C^D))+M[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=P+(C^D&(R^C))+M[2]+4243563512&4294967295,P=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(P^R))+M[7]+1735328473&4294967295,D=P+(I<<14&4294967295|I>>>18),I=C+(P^R&(D^P))+M[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(C^D^P)+M[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^D)+M[8]+2272392833&4294967295,P=R+(I<<11&4294967295|I>>>21),I=D+(P^R^C)+M[11]+1839030562&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^R)+M[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^P)+M[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^D)+M[4]+1272893353&4294967295,P=R+(I<<11&4294967295|I>>>21),I=D+(P^R^C)+M[7]+4139469664&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^R)+M[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^P)+M[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^D)+M[0]+3936430074&4294967295,P=R+(I<<11&4294967295|I>>>21),I=D+(P^R^C)+M[3]+3572445317&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^R)+M[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^P)+M[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=P+(R^C^D)+M[12]+3873151461&4294967295,P=R+(I<<11&4294967295|I>>>21),I=D+(P^R^C)+M[15]+530742520&4294967295,D=P+(I<<16&4294967295|I>>>16),I=C+(D^P^R)+M[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(D^(C|~P))+M[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~D))+M[7]+1126891415&4294967295,P=R+(I<<10&4294967295|I>>>22),I=D+(R^(P|~C))+M[14]+2878612391&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~R))+M[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~P))+M[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~D))+M[3]+2399980690&4294967295,P=R+(I<<10&4294967295|I>>>22),I=D+(R^(P|~C))+M[10]+4293915773&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~R))+M[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~P))+M[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~D))+M[15]+4264355552&4294967295,P=R+(I<<10&4294967295|I>>>22),I=D+(R^(P|~C))+M[6]+2734768916&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~R))+M[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~P))+M[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=P+(C^(R|~D))+M[11]+3174756917&4294967295,P=R+(I<<10&4294967295|I>>>22),I=D+(R^(P|~C))+M[2]+718787259&4294967295,D=P+(I<<15&4294967295|I>>>17),I=C+(P^(D|~R))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+P&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,M=this.C;let D=this.h,P=0;for(;P<R;){if(D==0)for(;P<=C;)o(this,x,P),P+=this.blockSize;if(typeof x=="string"){for(;P<R;)if(M[D++]=x.charCodeAt(P++),D==this.blockSize){o(this,M),D=0;break}}else for(;P<R;)if(M[D++]=x[P++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)x[R++]=this.g[C]>>>M&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function f(x,R){this.h=R;const C=[];let M=!0;for(let D=x.length-1;D>=0;D--){const P=x[D]|0;M&&P==R||(C[D]=P,M=!1)}this.g=C}var m={};function p(x){return-128<=x&&x<128?u(x,function(R){return new f([R|0],R<0?-1:0)}):new f([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return q(g(-x));const R=[];let C=1;for(let M=0;x>=C;M++)R[M]=x/C|0,C*=4294967296;return new f(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return q(E(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let M=T;for(let P=0;P<x.length;P+=8){var D=Math.min(8,x.length-P);const I=parseInt(x.substring(P,P+D),R);D<8?(D=g(Math.pow(R,D)),M=M.j(D).add(g(I))):(M=M.j(C),M=M.add(g(I)))}return M}var T=p(0),w=p(1),k=p(16777216);r=f.prototype,r.m=function(){if($(this))return-q(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);x+=(M>=0?M:4294967296+M)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(G(this))return"0";if($(this))return"-"+q(this).toString(x);const R=g(Math.pow(x,6));var C=this;let M="";for(;;){const D=ge(C,R).g;C=Z(C,D.j(R));let P=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,G(C))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function G(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=Z(this,x),$(x)?-1:G(x)?0:1};function q(x){const R=x.g.length,C=[];for(let M=0;M<R;M++)C[M]=~x.g[M];return new f(C,~x.h).add(w)}r.abs=function(){return $(this)?q(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let M=0;for(let D=0;D<=R;D++){let P=M+(this.i(D)&65535)+(x.i(D)&65535),I=(P>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);M=I>>>16,P&=65535,I&=65535,C[D]=I<<16|P}return new f(C,C[C.length-1]&-2147483648?-1:0)};function Z(x,R){return x.add(q(R))}r.j=function(x){if(G(this)||G(x))return T;if($(this))return $(x)?q(this).j(q(x)):q(q(this).j(x));if($(x))return q(this.j(q(x)));if(this.l(k)<0&&x.l(k)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<x.g.length;D++){const P=this.i(M)>>>16,I=this.i(M)&65535,ze=x.i(D)>>>16,ct=x.i(D)&65535;C[2*M+2*D]+=I*ct,ne(C,2*M+2*D),C[2*M+2*D+1]+=P*ct,ne(C,2*M+2*D+1),C[2*M+2*D+1]+=I*ze,ne(C,2*M+2*D+1),C[2*M+2*D+2]+=P*ze,ne(C,2*M+2*D+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new f(C,0)};function ne(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function re(x,R){this.g=x,this.h=R}function ge(x,R){if(G(R))throw Error("division by zero");if(G(x))return new re(T,T);if($(x))return R=ge(q(x),R),new re(q(R.g),q(R.h));if($(R))return R=ge(x,q(R)),new re(q(R.g),R.h);if(x.g.length>30){if($(x)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=R;M.l(x)<=0;)C=Re(C),M=Re(M);var D=_e(C,1),P=_e(M,1);for(M=_e(M,2),C=_e(C,2);!G(M);){var I=P.add(M);I.l(x)<=0&&(D=D.add(C),P=I),M=_e(M,1),C=_e(C,1)}return R=Z(x,D.j(R)),new re(D,R)}for(D=T;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=g(C),I=P.j(R);$(I)||I.l(x)>0;)C-=M,P=g(C),I=P.j(R);G(P)&&(P=w),D=D.add(P),x=Z(x,I)}return new re(D,x)}r.B=function(x){return ge(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)&x.i(M);return new f(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)|x.i(M);return new f(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)^x.i(M);return new f(C,this.h^x.h)};function Re(x){const R=x.g.length+1,C=[];for(let M=0;M<R;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(C,x.h)}function _e(x,R){const C=R>>5;R%=32;const M=x.g.length-C,D=[];for(let P=0;P<M;P++)D[P]=R>0?x.i(P+C)>>>R|x.i(P+C+1)<<32-R:x.i(P+C);return new f(D,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,wT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ls=f}).apply(typeof gE<"u"?gE:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var RT,Bl,CT,lh,Fm,IT,xT,NT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,K){for(var se=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)se[Ae-2]=arguments[Ae];return y.prototype[j].apply(A,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function G(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const K=j.length||0;c.length=v+K;for(let se=0;se<K;se++)c[v+se]=j[se]}else c.push(j)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(c){f.setTimeout(()=>{throw c},0)}function Z(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,v){const A=re.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new $(()=>new ge,c=>c.reset());class ge{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Re,_e=!1,x=new ne,R=()=>{const c=Promise.resolve(void 0);Re=()=>{c.then(C)}};function C(){for(var c;c=Z();){try{c.h.call(c.g)}catch(v){q(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}_e=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ze(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(ze,D),ze.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ct="closure_listenable_"+(Math.random()*1e6|0),F=0;function oe(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++F,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function qe(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let K=0;K<Y.length;K++)v=Y[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,y,v,A,j){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=Ce(c,y,A,j);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new oe(y,this.src,K,!!A,j),y.fa=v,c.push(y)),y};function ue(c,y){const v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),K;(K=j>=0)&&Array.prototype.splice.call(A,j,1),K&&(de(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,A){for(let j=0;j<c.length;++j){const K=c[j];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,y,v,A,j){if(Array.isArray(y)){for(let K=0;K<y.length;K++)st(c,y[K],v,A,j);return null}return v=Vo(v),c&&c[ct]?c.J(y,v,m(A)?!!A.capture:!1,j):Es(c,y,v,!1,A,j)}function Es(c,y,v,A,j,K){if(!y)throw Error("Invalid event type");const se=m(j)?!!j.capture:!!j;let Ae=Ts(c);if(Ae||(c[Ue]=Ae=new ae(c)),v=Ae.add(y,v,A,se,K),v.proxy)return v;if(A=da(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)P||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(si(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function da(){function c(v){return y.call(c.src,c.listener,v)}const y=Oo;return c}function ma(c,y,v,A,j){if(Array.isArray(y))for(var K=0;K<y.length;K++)ma(c,y[K],v,A,j);else A=m(A)?!!A.capture:!!A,v=Vo(v),c&&c[ct]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=Ce(y,v,A,j),v>-1&&(de(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=Ts(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,A,j)),(v=c>-1?y[c]:null)&&pa(v))}function pa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ct])ue(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(si(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Ts(y))?(ue(v,c),v.h==0&&(v.src=null,y[Ue]=null)):de(c)}}}function si(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Oo(c,y){if(c.da)c=!0;else{y=new ze(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&pa(c),c=v.call(A,y)}return c}function Ts(c){return c=c[Ue],c instanceof ae?c:null}var Mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Vo(c){return typeof c=="function"?c:(c[Mo]||(c[Mo]=function(y){return c.handleEvent(y)}),c[Mo])}function vt(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}T(vt,M),vt.prototype[ct]=!0,vt.prototype.removeEventListener=function(c,y,v,A){ma(this,c,y,v,A)};function Ot(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var j=y;y=new D(A,c),ie(y,j)}j=!0;let K,se;if(v)for(se=v.length-1;se>=0;se--)K=y.g=v[se],j=vr(K,A,!0,y)&&j;if(K=y.g=c,j=vr(K,A,!0,y)&&j,j=vr(K,A,!1,y)&&j,v)for(se=0;se<v.length;se++)K=y.g=v[se],j=vr(K,A,!1,y)&&j}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)de(v[A]);delete c.g[y],c.h--}}this.G=null},vt.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},vt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function vr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==v){const Ae=se.listener,pt=se.ha||se.src;se.fa&&ue(c.i,se),j=Ae.call(pt,A)!==!1&&j}}return j&&!A.defaultPrevented}function df(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Eu(c){c.g=df(()=>{c.g=null,c.i&&(c.i=!1,Eu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){M.call(this),this.h=c,this.g={}}T(bs,M);var Po=[];function ko(c){ke(c.g,function(y,v){this.g.hasOwnProperty(v)&&pa(y)},c),c.g={}}bs.prototype.N=function(){bs.Z.N.call(this),ko(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Er=f.JSON.stringify,mf=f.JSON.parse,Tu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function bu(){}function Su(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}T(zt,D);function Cn(){D.call(this,"c")}T(Cn,D);var mt={},Au=null;function ga(){return Au=Au||new vt}mt.Ia="serverreachability";function wu(c){D.call(this,mt.Ia,c)}T(wu,D);function ai(c){const y=ga();Ot(y,new wu(y))}mt.STAT_EVENT="statevent";function Ss(c,y){D.call(this,mt.STAT_EVENT,c),this.stat=y}T(Ss,D);function Et(c){const y=ga();Ot(y,new Ss(y,c))}mt.Ja="timingevent";function oi(c,y){D.call(this,mt.Ja,c),this.size=y}T(oi,D);function li(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function pf(c,y,v,A,j,K){c.info(function(){if(c.g)if(K){var se="",Ae=K.split("&");for(let Fe=0;Fe<Ae.length;Fe++){var pt=Ae[Fe].split("=");if(pt.length>1){const at=pt[0];pt=pt[1];const Dn=at.split("_");se=Dn.length>=2&&Dn[1]=="type"?se+(at+"="+pt+"&"):se+(at+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+se})}function Ru(c,y,v,A,j,K,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+K+" "+se})}function ui(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gf(c,v)+(A?" "+A:"")})}function As(c,y){c.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function gf(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Er(K)}catch{return y}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function Rs(){}T(Rs,bu),Rs.prototype.g=function(){return new XMLHttpRequest},Uo=new Rs;function zi(c){return encodeURIComponent(String(c))}function Cu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Fn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Tt={},kt={};function ci(c,y,v){c.M=1,c.A=Cs(St(y)),c.u=v,c.R=!0,ya(c,null)}function ya(c,y){c.F=Date.now(),hi(c),c.B=St(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ta(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=Hu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Po[0]=j.toString()),j=Po);for(let K=0;K<j.length;K++){const se=st(v,j[K],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ai(),pf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Qn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Qn(this.g),pt=this.g.ya(),Fe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ae!=4||pt==7||(pt==8||Fe<=0?ai(3):ai(2)),fi(this);var y=this.g.ca();this.X=y;var v=yf(this);if(this.o=y==200,Ru(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var K=A;break t}}K=null}if(c=K)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,Et(12),gn(this),In(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=xu(this,v),at==kt){Ae==4&&(this.m=4,Et(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Tt){this.m=4,Et(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,at,null),di(this,at);if(Iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||v.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),In(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Jo(se),se.P=!0,Et(11))}}else ui(this.i,this.l,v,null),di(this,v);Ae==4&&gn(this),this.o&&!this.K&&(Ae==4?Uu(this.j,this):(this.o=!1,hi(this)))}else Hi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),gn(this),In(this)}}}catch{}finally{}};function yf(c){if(!Iu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const A=y.length,j=Qn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),In(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(j&&K==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Iu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function xu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?kt:(v=Number(y.substring(v,A)),isNaN(v)?Tt:(A+=1,A+v>y.length?kt:(y=y.slice(A,A+v),c.C=A+v,y)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(g(c.aa,c),y)}function fi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(As(this.i,this.B),this.M!=2&&(ai(),Et(17)),gn(this),this.m=2,In(this)):_a(this,this.T-c)};function In(c){c.j.I==0||c.K||Uu(c.j,c)}function gn(c){fi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ko(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function di(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ra(v),Ir(v);else break e;Vs(v),Et(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(g(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&Ra(v),!I(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let Fe=j[y];const at=Fe[0];if(!(at<=v.K))if(v.K=at,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Dn=Fe[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const bi=Fe[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Xn=Fe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const Ps=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var K=A.h;K.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Bo(K,K.h),K.h=null))}if(A.G){const Ca=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(A.wa=Ca,Ye(A.J,A.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var se=c;if(A.na=Bu(A,A.L?A.ba:null,A.W),se.L){Ho(A.h,se);var Ae=se,pt=A.O;pt&&(Ae.H=pt),Ae.D&&(fi(Ae),hi(Ae)),A.g=se}else ku(A);v.i.length>0&&Ei(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ti(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ti(v,7):Wo(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ai(4)}catch{}}var bt=class{constructor(c,y){this.g=c,this.map=y}};function jo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Bo(c,y){c.g?c.g.add(y):c.h=y}function Ho(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,K=null;A>=0?(j=c[v].substring(0,A),K=c[v].substring(A+1)):j=c[v],y(j,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.u),this.h=c.h,Fo(this,Vu(c.i)),this.m=c.m):c&&(y=String(c).match(Nu))?(this.l=!1,Lt(this,y[1]||"",!0),this.o=gi(y[2]||""),this.g=gi(y[3]||"",!0),Tr(this,y[4]),this.h=gi(y[5]||"",!0),Fo(this,y[6]||"",!0),this.m=gi(y[7]||"")):(this.l=!1,this.i=new Sr(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Is(y,Ea,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Is(y,Ea,!0),"@"),c.push(zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?Go:Du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Ou)),c.join("")},yn.prototype.resolve=function(c){const y=St(this);let v=!!c.j;v?Lt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Tr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const K=[];for(let se=0;se<j.length;){const Ae=j[se++];Ae=="."?A&&se==j.length&&K.push(""):Ae==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&se==j.length&&K.push("")):(K.push(Ae),A=!0)}A=K.join("/")}else A=j}return v?y.h=A:v=c.i.toString()!=="",v?Fo(y,Vu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function St(c){return new yn(c)}function Lt(c,y,v){c.j=v?gi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Fo(c,y,v){y instanceof Sr?(c.i=y,ba(c.i,c.l)):(v||(y=Is(y,br)),c.i=new Sr(y,c.l))}function Ye(c,y,v){c.i.set(y,v)}function Cs(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Du=/[#\?:]/g,Go=/[#\?]/g,br=/[#\?@]/g,Ou=/#/g;function Sr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Sr.prototype,r.add=function(c,y){sn(this),this.i=null,c=Ar(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Mu(c,y){sn(c),y=Ar(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ko(c,y){return sn(c),y=Ar(c,y),c.g.has(y)}r.forEach=function(c,y){sn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)};function Yo(c,y){sn(c);let v=[];if(typeof y=="string")Ko(c,y)&&(v=v.concat(c.g.get(Ar(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return sn(this),this.i=null,c=Ar(this,c),Ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Yo(this,c),c.length>0?String(c[0]):y):y};function Ta(c,y,v){Mu(c,y),v.length>0&&(c.i=null,c.g.set(Ar(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const j=zi(v);v=Yo(this,v);for(let K=0;K<v.length;K++){let se=j;v[K]!==""&&(se+="="+zi(v[K])),c.push(se)}}return this.i=c.join("&")};function Vu(c){const y=new Sr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ar(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ba(c,y){y&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Mu(this,A),Ta(this,j,v))},c)),c.j=y}function Kn(c,y){const v=new qn;if(f.Image){const A=new Image;A.onload=E(xn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(xn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(xn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(xn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Qo(c,y){const v=new qn,A=new AbortController,j=setTimeout(()=>{A.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(j),K.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),xn(v,"TestPingServer: error",!1,y)})}function xn(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function wr(){this.g=new Tu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(yi,bu),yi.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,y){vt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(xs,vt),r=xs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Rr(this):Yn(this),this.readyState==3&&Sa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Rr(this))},r.Na=function(c){this.g&&(this.response=c,Rr(this))},r.ga=function(){this.g&&Rr(this)};function Rr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return ke(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ns(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Nn(v),typeof c=="string"?v!=null&&zi(v):Ye(c,y,v))}function $e(c){vt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,vt);var _i=/^https?$/i,Xo=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ds(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Xo,y,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Ds(this,K)}};function Ds(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,$o(c),Bi(c)}function $o(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&Qn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Qn(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=K===0){let se=String(c.D).match(Nu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!_i.test(se?se.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var j=Qn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",$o(c)}}finally{Bi(c)}}}}function Bi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Qn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Qn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const y={};c=(c.g&&Qn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Cu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[j]||[];y[j]=K,K.push(v)}qe(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Cr(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jo(c&&c.concurrentRequestLimit),this.Ba=new wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Cr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Et(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Bu(this,null,this.W),Ei(this)};function Wo(c){if(Aa(c),c.I==3){var y=c.V++,v=St(c.J);if(Ye(v,"SID",c.M),Ye(v,"RID",y),Ye(v,"TYPE","terminate"),Ms(c,v),y=new Fn(c,c.j,y),y.M=2,y.A=Cs(St(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Hu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),hi(y)}zu(c)}function Ir(c){c.g&&(Jo(c),c.g.cancel(),c.g=null)}function Aa(c){Ir(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ra(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ei(c){if(!zo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Re||R(),_e||(Re(),_e=!0),x.add(y,c),c.D=0}}function wa(c,y){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(g(c.Ea,c,y),ju(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Fn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=V(K),ie(K,this.U)):K=this.U),this.u!==null||this.R||(j.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Pu(this,j,y),v=St(this.J),Ye(v,"RID",c),Ye(v,"CVER",22),this.G&&Ye(v,"X-HTTP-Session-Id",this.G),Ms(this,v),K&&(this.R?y="headers="+zi(Nn(K))+"&"+y:this.u&&Ns(v,this.u,K)),Bo(this.h,j),this.Ra&&Ye(v,"TYPE","init"),this.S?(Ye(v,"$req",y),Ye(v,"SID","null"),j.U=!0,ci(j,v,null)):ci(j,v,y),this.I=2}}else this.I==3&&(c?Zo(this,c):this.i.length==0||zo(this.h)||Zo(this))};function Zo(c,y){var v;y?v=y.l:v=c.V++;const A=St(c.J);Ye(A,"SID",c.M),Ye(A,"RID",v),Ye(A,"AID",c.K),Ms(c,A),c.u&&c.o&&Ns(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Pu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Bo(c.h,v),ci(v,A,y)}function Ms(c,y){c.H&&ke(c.H,function(v,A){Ye(y,A,v)}),c.l&&ke({},function(v,A){Ye(y,A,v)})}function Pu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ae=-1;for(;;){const pt=["count="+v];Ae==-1?v>0?(Ae=j[0].g,pt.push("ofs="+Ae)):Ae=0:pt.push("ofs="+Ae);let Fe=!0;for(let at=0;at<v;at++){var K=j[at].g;const Dn=j[at].map;if(K-=Ae,K<0)Ae=Math.max(0,j[at].g-100),Fe=!1;else try{K="req"+K+"_"||"";try{var se=Dn instanceof Map?Dn:Object.entries(Dn);for(const[bi,Xn]of se){let $n=Xn;m(Xn)&&($n=Er(Xn)),pt.push(K+bi+"="+encodeURIComponent($n))}}catch(bi){throw pt.push(K+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(Dn)}}if(Fe){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function ku(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Re||R(),_e||(Re(),_e=!0),x.add(y,c),c.A=0}}function Vs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(g(c.Da,c),ju(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Lu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ir(this),Lu(this))};function Jo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Lu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=St(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Ms(c,y),c.u&&c.o&&Ns(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Cs(St(y)),v.u=null,v.R=!0,ya(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ir(this),Vs(this),Et(19))};function Ra(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Uu(c,y){var v=null;if(c.g==y){Ra(c),Jo(c),c.g=null;var A=2}else if(pi(c.h,y))v=y.G,Ho(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=ga(),Ot(A,new oi(A,v)),Ei(c)}else ku(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&wa(c,y)||A==2&&Vs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function ju(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const j=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(A,"https"),Cs(A),j?Kn(A.toString(),v):Qo(A.toString(),v)}else Et(2);c.I=0,c.l&&c.l.pa(y),zu(c),Aa(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function zu(c){if(c.I=0,c.ja=[],c.l){const y=qo(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Bu(c,y,v){var A=v instanceof yn?St(v):new yn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Tr(A,A.u);else{var j=f.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const K=new yn(null);A&&Lt(K,A),y&&(K.g=y),j&&Tr(K,j),v&&(K.h=v),A=K}return v=c.G,y=c.wa,v&&y&&Ye(A,v,y),Ye(A,"VER",c.ka),Ms(c,A),A}function Hu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new yi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){vt.call(this),this.g=new Cr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new qi(this)}T(tn,vt),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Wo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Er(c),c=v);y.i.push(new bt(y.Ya++,c)),y.I==3&&Ei(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,tn.Z.N.call(this)};function Fu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Fu,zt);function Gu(){Cn.call(this),this.status=1}T(Gu,Cn);function qi(c){this.g=c}T(qi,qu),qi.prototype.ra=function(){Ot(this.g,"a")},qi.prototype.qa=function(c){Ot(this.g,new Fu(c))},qi.prototype.pa=function(c){Ot(this.g,new Gu)},qi.prototype.oa=function(){Ot(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,NT=function(){return new xr},xT=function(){return ga()},IT=mt,Fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,lh=ws,Lo.COMPLETE="complete",CT=Lo,Su.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Bl=Su,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,RT=$e}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const yE="@firebase/firestore",_E="4.9.2";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Co="12.3.0";const aa=new pp("@firebase/firestore");function io(){return aa.logLevel}function le(r,...e){if(aa.logLevel<=Me.DEBUG){const n=e.map(Rp);aa.debug(`Firestore (${Co}): ${r}`,...n)}}function dr(r,...e){if(aa.logLevel<=Me.ERROR){const n=e.map(Rp);aa.error(`Firestore (${Co}): ${r}`,...n)}}function po(r,...e){if(aa.logLevel<=Me.WARN){const n=e.map(Rp);aa.warn(`Firestore (${Co}): ${r}`,...n)}}function Rp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,DT(r,s,n)}function DT(r,e,n){let s=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||DT(e,o,s)}function Se(r,e){return r}const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends yr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class OT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class OI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class MI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ur,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ur)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new OT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class VI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class PI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new VI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class vE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new vE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function LI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Cp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Gm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Rm(o)===Rm(u)?Ve(o,u):Rm(o)?1:-1}return Ve(r.length,e.length)}const UI=55296,jI=57343;function Rm(r){const e=r.charCodeAt(0);return e>=UI&&e<=jI}function go(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const EE="__name__";class Ci{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ci.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ci?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ci.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ci.isNumericId(e),o=Ci.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ci.extractNumericId(e).compare(Ci.extractNumericId(n)):Gm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class it extends Ci{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const zI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Ci{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return zI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===EE}static keyField(){return new Yt([EE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}function MT(r,e,n){if(!n)throw new he(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function BI(r,e,n,s){if(e===!0&&s===!0)throw new he(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function TE(r){if(!pe.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function bE(r){if(pe.isDocumentKey(r))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function VT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Ip(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ip(r);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function xt(r,e){const n={typeString:r};return e&&(n.value=e),n}function mu(r,e){if(!VT(r))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(te.INVALID_ARGUMENT,n);return!0}const SE=-62135596800,AE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*AE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<SE)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/AE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(mu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-SE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:xt("string",rt._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eu=-1;function HI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new cs(o,pe.empty(),e)}function qI(r){return new cs(r.readTime,r.key,eu)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(Te.min(),pe.empty(),eu)}static max(){return new cs(Te.max(),pe.empty(),eu)}}function FI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const GI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Io(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==GI)throw r;le("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((o=>o?ee.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ee(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function YI(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(r){return r.name==="IndexedDbTransactionError"}class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Fh.ce=-1;const xp=-1;function Gh(r){return r==null}function Ah(r){return r===0&&1/r==-1/0}function QI(r){return typeof r=="number"&&Number.isInteger(r)&&!Ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const PT="";function XI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=wE(e)),e=$I(r.get(n),e);return wE(e)}function $I(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case PT:n+="";break;default:n+=u}}return n}function wE(r){return r+PT+""}function RE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function kT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CE(this.data.getIterator())}getIteratorFrom(e){return new CE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class CE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Rn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Pt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class LT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new LT("Invalid base64 string: "+u):u}})(e);return new Qt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=WI.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}const UT="server_timestamp",jT="__type__",zT="__previous_value__",BT="__local_write_time__";function Np(r){return(r?.mapValue?.fields||{})[jT]?.stringValue===UT}function Kh(r){const e=r.mapValue.fields[zT];return Np(e)?Kh(e):e}function tu(r){const e=hs(r.mapValue.fields[BT].timestampValue);return new rt(e.seconds,e.nanos)}class ZI{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const wh="(default)";class nu{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new nu("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof nu&&e.projectId===this.projectId&&e.database===this.database}}const HT="__type__",JI="__max__",Jc={mapValue:{}},qT="__vector__",Rh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Np(r)?4:tx(r)?9007199254740991:ex(r)?10:11:Ee(28295,{value:r})}function ki(r,e){if(r===e)return!0;const n=ds(r);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return tu(r).isEqual(tu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hs(o.timestampValue),m=hs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Ah(f)===Ah(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(RE(f)!==RE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ki(f[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function iu(r,e){return(r.values||[]).find((n=>ki(n,e)))!==void 0}function yo(r,e){if(r===e)return 0;const n=ds(r),s=ds(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return IE(r.timestampValue,e.timestampValue);case 4:return IE(tu(r),tu(e));case 5:return Gm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=fs(u),p=fs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(_t(u.latitude),_t(f.latitude));return m!==0?m:Ve(_t(u.longitude),_t(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return xE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Rh]?.arrayValue,E=p[Rh]?.arrayValue,T=Ve(g?.values?.length||0,E?.values?.length||0);return T!==0?T:xE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Gm(p[T],E[T]);if(w!==0)return w;const k=yo(m[p[T]],g[E[T]]);if(k!==0)return k}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function IE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=hs(r),s=hs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function xE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function _o(r){return Km(r)}function Km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return fs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return pe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Km(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Km(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function uh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(r);return e?16+uh(e):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+uh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,f)=>{o+=u.length+uh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function Ym(r){return!!r&&"integerValue"in r}function Dp(r){return!!r&&"arrayValue"in r}function NE(r){return!!r&&"nullValue"in r}function DE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function ex(r){return(r?.mapValue?.fields||{})[HT]?.stringValue===qT}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ys(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function tx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(Yl(this.value))}}function FT(r){const e=[];return ys(r.fields,((n,s)=>{const o=new Yt([n]);if(ch(s)){const u=FT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Rn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Te.min(),Te.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Te.min(),Te.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function OE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ME(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],e.position[n]))return!1;return!0}class Ih{constructor(e,n="asc"){this.field=e,this.dir=n}}function nx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class GT{}class Vt extends GT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new rx(e,n,s):n==="array-contains"?new ox(e,s):n==="in"?new lx(e,s):n==="not-in"?new ux(e,s):n==="array-contains-any"?new cx(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sx(e,s):new ax(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends GT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return KT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KT(r){return r.op==="and"}function YT(r){return ix(r)&&KT(r)}function ix(r){for(const e of r.filters)if(e instanceof Li)return!1;return!0}function Qm(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(YT(r))return r.filters.map((e=>Qm(e))).join(",");{const e=r.filters.map((n=>Qm(n))).join(",");return`${r.op}(${e})`}}function QT(r,e){return r instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,e):r instanceof Li?(function(s,o){return o instanceof Li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&QT(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function XT(r){return r instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(r):r instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(XT).join(" ,")+"}"})(r):"Filter"}class rx extends Vt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class sx extends Vt{constructor(e,n){super(e,"in",n),this.keys=$T("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class ax extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=$T("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function $T(r,e){return(e.arrayValue?.values||[]).map((n=>pe.fromName(n.referenceValue)))}class ox extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&iu(n.arrayValue,this.value)}}class lx extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&iu(this.value.arrayValue,n)}}class ux extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(iu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!iu(this.value.arrayValue,n)}}class cx extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>iu(this.value.arrayValue,s)))}}class hx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function VE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new hx(r,e,n,s,o,u,f)}function Op(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Qm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>_o(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>_o(s))).join(",")),e.Te=n}return e.Te}function Mp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!nx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!QT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ME(r.startAt,e.startAt)&&ME(r.endAt,e.endAt)}function Xm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Yh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fx(r,e,n,s,o,u,f,m){return new Yh(r,e,n,s,o,u,f,m)}function Vp(r){return new Yh(r)}function PE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function dx(r){return r.collectionGroup!==null}function Ql(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Yt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ih(u,s))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Ih(Yt.keyField(),s))}return e.Ie}function Di(r){const e=Se(r);return e.Ee||(e.Ee=mx(e,Ql(r))),e.Ee}function mx(r,e){if(r.limitType==="F")return VE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ih(o.field,u)}));const n=r.endAt?new Ch(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ch(r.startAt.position,r.startAt.inclusive):null;return VE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function $m(r,e,n){return new Yh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Qh(r,e){return Mp(Di(r),Di(e))&&r.limitType===e.limitType}function WT(r){return`${Op(Di(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>XT(o))).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function Xh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=OE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Ql(s),o)||s.endAt&&!(function(f,m,p){const g=OE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Ql(s),o))})(r,e)}function px(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function ZT(r){return(e,n)=>{let s=!1;for(const o of Ql(r)){const u=gx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function gx(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class ca{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return kT(this.inner)}size(){return this.innerSize}}const yx=new ut(pe.comparator);function mr(){return yx}const JT=new ut(pe.comparator);function Hl(...r){let e=JT;for(const n of r)e=e.insert(n.key,n);return e}function eb(r){let e=JT;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Js(){return Xl()}function tb(){return Xl()}function Xl(){return new ca((r=>r.toString()),((r,e)=>r.isEqual(e)))}const _x=new ut(pe.comparator),vx=new Pt(pe.comparator);function Pe(...r){let e=vx;for(const n of r)e=e.add(n);return e}const Ex=new Pt(Ve);function Tx(){return Ex}function Pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function nb(r){return{integerValue:""+r}}function bx(r,e){return QI(e)?nb(e):Pp(r,e)}class $h{constructor(){this._=void 0}}function Sx(r,e,n){return r instanceof xh?(function(o,u){const f={fields:{[jT]:{stringValue:UT},[BT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Np(u)&&(u=Kh(u)),u&&(f.fields[zT]=u),{mapValue:f}})(n,e):r instanceof ru?rb(r,e):r instanceof su?sb(r,e):(function(o,u){const f=ib(o,u),m=kE(f)+kE(o.Ae);return Ym(f)&&Ym(o.Ae)?nb(m):Pp(o.serializer,m)})(r,e)}function Ax(r,e,n){return r instanceof ru?rb(r,e):r instanceof su?sb(r,e):n}function ib(r,e){return r instanceof Nh?(function(s){return Ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class xh extends $h{}class ru extends $h{constructor(e){super(),this.elements=e}}function rb(r,e){const n=ab(e);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class su extends $h{constructor(e){super(),this.elements=e}}function sb(r,e){let n=ab(e);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class Nh extends $h{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function kE(r){return _t(r.integerValue||r.doubleValue)}function ab(r){return Dp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function wx(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ru&&o instanceof ru||s instanceof su&&o instanceof su?go(s.elements,o.elements,ki):s instanceof Nh&&o instanceof Nh?ki(s.Ae,o.Ae):s instanceof xh&&o instanceof xh})(r.transform,e.transform)}class Rx{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Wh{}function ob(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Zh(r.key,mn.none()):new pu(r.key,r.data,mn.none());{const n=r.data,s=dn.empty();let o=new Pt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(r.key,s,new Rn(o.toArray()),mn.none())}}function Cx(r,e,n){r instanceof pu?(function(o,u,f){const m=o.value.clone(),p=UE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof _s?(function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=UE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(lb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function $l(r,e,n,s){return r instanceof pu?(function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=u.value.clone(),E=jE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof _s?(function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=jE(u.fieldTransforms,p,f),E=f.data;return E.setAll(lb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function Ix(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ib(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function LE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,((u,f)=>wx(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function UE(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,Ax(f,m,n[o]))}return s}function jE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Sx(u,f,e))}return s}class Zh extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class xx extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Nx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Cx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$l(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=tb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=ob(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,((n,s)=>LE(n,s)))&&go(this.baseMutations,e.baseMutations,((n,s)=>LE(n,s)))}}class kp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return _x})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new kp(e,n,s,o)}}class Dx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Ox{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,je;function Mx(r){switch(r){case te.OK:return Ee(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function ub(r){if(r===void 0)return dr("GRPC error has no .code"),te.UNKNOWN;switch(r){case It.OK:return te.OK;case It.CANCELLED:return te.CANCELLED;case It.UNKNOWN:return te.UNKNOWN;case It.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case It.INTERNAL:return te.INTERNAL;case It.UNAVAILABLE:return te.UNAVAILABLE;case It.UNAUTHENTICATED:return te.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case It.NOT_FOUND:return te.NOT_FOUND;case It.ALREADY_EXISTS:return te.ALREADY_EXISTS;case It.PERMISSION_DENIED:return te.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case It.ABORTED:return te.ABORTED;case It.OUT_OF_RANGE:return te.OUT_OF_RANGE;case It.UNIMPLEMENTED:return te.UNIMPLEMENTED;case It.DATA_LOSS:return te.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=It||(It={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function Vx(){return new TextEncoder}const Px=new ls([4294967295,4294967295],0);function zE(r){const e=Vx().encode(r),n=new wT;return n.update(e),new Uint8Array(n.digest())}function BE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class Lp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(s<0)throw new ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ls.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(Px)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=zE(e),[s,o]=BE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Lp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=zE(e),[s,o]=BE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Jh(Te.min(),o,new ut(Ve),mr(),Pe())}}class gu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new gu(s,n,Pe(),Pe(),Pe())}}class fh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class cb{constructor(e,n){this.targetId=e,this.Ce=n}}class hb{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class HE{constructor(){this.ve=0,this.Fe=qE(),this.Me=Qt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new gu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=qE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kx{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.Je=eh(),this.He=eh(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new pe(u.path);this.et(n,f,Zt.newNoDocument(f,Te.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fs(s).toUint8Array()}catch(p){if(p instanceof LT)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lp(f,o,u)}catch(p){return po(p instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Xm(m.target)){const p=new pe(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new Jh(e,n,this.Ye,this.je,s);return this.je=mr(),this.Je=eh(),this.He=eh(),this.Ye=new ut(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new HE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new HE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function eh(){return new ut(pe.comparator)}function qE(){return new ut(pe.comparator)}const Lx={asc:"ASCENDING",desc:"DESCENDING"},Ux={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jx={and:"AND",or:"OR"};class zx{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(r,e){return r.useProto3Json||Gh(e)?e:{value:e}}function Dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Bx(r,e){return Dh(r,e.toTimestamp())}function Oi(r){return Ke(!!r,49232),Te.fromTimestamp((function(n){const s=hs(n);return new rt(s.seconds,s.nanos)})(r))}function Up(r,e){return Zm(r,e).canonicalString()}function Zm(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function db(r){const e=it.fromString(r);return Ke(_b(e),10190,{key:e.toString()}),e}function Jm(r,e){return Up(r.databaseId,e.path)}function Cm(r,e){const n=db(e);if(n.get(1)!==r.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(pb(n))}function mb(r,e){return Up(r.databaseId,e)}function Hx(r){const e=db(r);return e.length===4?it.emptyPath():pb(e)}function ep(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pb(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function FE(r,e,n){return{name:Jm(r,e),fields:n.value.mapValue.fields}}function qx(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?te.UNKNOWN:ub(g.code);return new he(E,g.message||"")})(f);n=new hb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Cm(r,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):Te.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new fh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Cm(r,s.document),u=s.readTime?Oi(s.readTime):Te.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Cm(r,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Ox(o,u),m=s.targetId;n=new cb(m,f)}}return n}function Fx(r,e){let n;if(e instanceof pu)n={update:FE(r,e.key,e.value)};else if(e instanceof Zh)n={delete:Jm(r,e.key)};else if(e instanceof _s)n={update:FE(r,e.key,e.data),updateMask:Jx(e.fieldMask)};else{if(!(e instanceof xx))return Ee(16599,{Vt:e.type});n={verify:Jm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Nh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Bx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function Gx(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(Te.min())&&(f=Oi(u)),new Rx(f,o.transformResults||[])})(n,e)))):[]}function Kx(r,e){return{documents:[mb(r,e.path)]}}function Yx(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=mb(r,o);const u=(function(g){if(g.length!==0)return yb(Li.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:so(w.field),direction:$x(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Wm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function Qx(r){let e=Hx(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=gb(T);return w instanceof Li&&YT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(G){return new Ih(ao(G.field),(function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Gh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,k=T.values||[];return new Ch(k,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,k=T.values||[];return new Ch(k,w)})(n.endAt)),fx(e,o,f,u,m,"F",p,g)}function Xx(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function gb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Vt.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((s=>gb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function $x(r){return Lx[r]}function Wx(r){return Ux[r]}function Zx(r){return jx[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return Yt.fromServerFormat(r.fieldPath)}function yb(r){return r instanceof Vt?(function(n){if(n.op==="=="){if(DE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(NE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(NE(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:Wx(n.op),value:n.value}}})(r):r instanceof Li?(function(n){const s=n.getFilters().map((o=>yb(o)));return s.length===1?s[0]:{compositeFilter:{op:Zx(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function Jx(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _b(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class rs{constructor(e,n,s,o,u=Te.min(),f=Te.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class eN{constructor(e){this.yt=e}}function tN(r){const e=Qx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?$m(e,e.limit,"L"):e}class nN{constructor(){this.Cn=new iN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(cs.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class iN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(it.comparator)).toArray()}}const GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(vb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class vo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}const KE="LruGarbageCollector",rN=1048576;function YE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class sN{constructor(e){this.Ir=e,this.buffer=new Pt(YE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();YE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class aN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(KE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?le(KE,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.Vr(3e5)}))}}class oN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Fh.ce);const s=new sN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(GE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),io()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function lN(r,e){return new oN(r,e)}class uN{constructor(){this.changes=new ca((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class hN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&$l(s.mutation,o,Rn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Js();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Hl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Js();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=mr();const f=Xl(),m=(function(){return Xl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof _s)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),$l(E.mutation,g,E.mutation.getFieldMask(),rt.now())):f.set(g.key,Rn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new cN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new ut(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=tb();E.forEach((w=>{if(!u.has(w)){const k=ob(n.get(w),s.get(w));k!==null&&T.set(w,k),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(Js());let m=eu,p=u;return f.next((g=>ee.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((E=>({batchId:m,changes:eb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(T,w){return new Yh(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Hl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&$l(E.mutation,g,Rn.empty(),rt.now()),Xh(n,g)&&(m=m.insert(p,g))})),m}))}}class fN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:tN(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),ee.resolve()}}class dN{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Js();return ee.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=Js(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Js(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Js(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Dx(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class mN{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class jp{constructor(){this.Qr=new Pt(jt.$r),this.Ur=new Pt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new pe(new it([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new it([])),s=new jt(n,e),o=new jt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}class pN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(jt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Nx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?xp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ve);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new jt(new pe(u),0);let m=new Pt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gN{constructor(e){this.ri=e,this.docs=(function(){return new ut(pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=mr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=mr();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||FI(qI(E),s)<=0||(o.has(E.key)||Xh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new yN(this)}getSize(e){return ee.resolve(this.size)}}class yN extends uN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class _N{constructor(e){this.persistence=e,this.si=new ca((n=>Op(n)),Mp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=vo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ee.waitFor(u).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class Eb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Fh(0),this.li=!1,this.li=!0,this.hi=new mN,this.referenceDelegate=e(this),this.Pi=new _N(this),this.indexManager=new nN,this.remoteDocumentCache=(function(o){return new gN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new eN(n),this.Ii=new fN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new pN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new vN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class vN extends KI{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ri=new jp,this.Vi=null}static mi(e){return new zp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const o=pe.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Oh{constructor(e,n){this.persistence=e,this.pi=new ca((s=>XI(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=lN(this,n)}static mi(e,n){return new Oh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ee.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(e,n.fromCache,s,o)}}class EN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class TN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Gw()?8:YI(Jt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new EN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(io()<=Me.DEBUG&&le("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(n))):ee.resolve())}ys(e,n){if(PE(n))return ee.resolve(null);let s=Di(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=$m(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,$m(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return PE(n)||o.isEqual(Te.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(io()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,f,n,HI(o,eu)).next((m=>m)))}))}Ds(e,n){let s=new Pt(ZT(e));return n.forEach(((o,u)=>{Xh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,cs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Hp="LocalStore",bN=3e8;class SN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Ve),this.xs=new ca((u=>Op(u)),Mp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function AN(r,e,n,s){return new SN(r,e,n,s)}async function Tb(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function wN(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let k=ee.resolve();return w.forEach((G=>{k=k.next((()=>E.getEntry(p,G))).next(($=>{const q=g.docVersions.get(G);Ke(q!==null,48541),$.version.compareTo(q)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function bb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function RN(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(Qt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function($,q,Z){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=bN?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0})(w,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=mr(),g=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(CN(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Te.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function CN(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=mr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Hp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function IN(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=xp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function xN(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new rs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function tp(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!xo(f))throw f;le(Hp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function QE(r,e,n){const s=Se(r);let o=Te.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Se(p),w=T.xs.get(E);return w!==void 0?ee.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,f,Di(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:Pe()))).next((m=>(NN(s,px(e),m),{documents:m,Qs:u})))))}function NN(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class XE{constructor(){this.activeTargetIds=Tx()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DN{constructor(){this.Mo=new XE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new XE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ON{Oo(e){}shutdown(){}}const $E="ConnectivityMonitor";class WE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le($E,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le($E,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let th=null;function np(){return th===null?th=(function(){return 268435456+Math.round(2147483648*Math.random())})():th++,"0x"+th.toString(16)}const Im="RestConnection",MN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class VN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=np(),m=this.zo(e,n.toUriEncodedString());le(Im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ao(g);return this.Jo(e,m,p,s,E).then((T=>(le(Im,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw po(Im,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Co})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=MN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class PN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class kN extends VN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=np();return new Promise(((m,p)=>{const g=new RT;g.setWithCredentials(!0),g.listenOnce(CT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case lh.NO_ERROR:const T=g.getResponseJson();le($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case lh.TIMEOUT:le($t,`RPC '${e}' ${f} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const w=g.getStatus();if(le($t,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const G=k?.error;if(G&&G.status&&G.message){const $=(function(Z){const ne=Z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(ne)>=0?ne:te.UNKNOWN})(G.status);p(new he($,G.message))}else p(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le($t,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le($t,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=NT(),m=xT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let w=!1,k=!1;const G=new PN({Yo:q=>{k?le($t,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(w||(le($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),le($t,`RPC '${e}' stream ${o} sending:`,q),T.send(q))},Zo:()=>T.close()}),$=(q,Z,ne)=>{q.listen(Z,(re=>{try{ne(re)}catch(ge){setTimeout((()=>{throw ge}),0)}}))};return $(T,Bl.EventType.OPEN,(()=>{k||(le($t,`RPC '${e}' stream ${o} transport opened.`),G.o_())})),$(T,Bl.EventType.CLOSE,(()=>{k||(k=!0,le($t,`RPC '${e}' stream ${o} transport closed`),G.a_(),this.E_(T))})),$(T,Bl.EventType.ERROR,(q=>{k||(k=!0,po($t,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),G.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),$(T,Bl.EventType.MESSAGE,(q=>{if(!k){const Z=q.data[0];Ke(!!Z,16349);const ne=Z,re=ne?.error||ne[0]?.error;if(re){le($t,`RPC '${e}' stream ${o} received error:`,re);const ge=re.status;let Re=(function(R){const C=It[R];if(C!==void 0)return ub(C)})(ge),_e=re.message;Re===void 0&&(Re=te.INTERNAL,_e="Unknown error status: "+ge+" with message "+re.message),k=!0,G.a_(new he(Re,_e)),T.close()}else le($t,`RPC '${e}' stream ${o} received:`,Z),G.u_(Z)}})),$(m,IT.STAT_EVENT,(q=>{q.stat===Fm.PROXY?le($t,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Fm.NOPROXY&&le($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function xm(){return typeof document<"u"?document:null}function ef(r){return new zx(r,!0)}class Sb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const ZE="PersistentStream";class Ab{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Sb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(ZE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(ZE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class LN extends Ab{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qx(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Oi(f.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=ep(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Xm(p)?{documents:Kx(u,p)}:{query:Yx(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=fb(u,f.resumeToken);const g=Wm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Dh(u,f.snapshotVersion.toTimestamp());const g=Wm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=Xx(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.q_(n)}}class UN extends Ab{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Gx(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ep(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Fx(this.serializer,s)))};this.q_(n)}}class jN{}class zN extends jN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Zm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(te.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Zm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(te.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class BN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const oa="RemoteStore";class HN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ha(this)&&(le(oa,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await yu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await tf(g)})(this))}))})),this.Ra=new BN(s,o)}}async function tf(r){if(ha(r))for(const e of r.da)await e(!0)}async function yu(r){for(const e of r.da)await e(!1)}function wb(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Kp(n)?Gp(n):No(n).O_()&&Fp(n,e))}function qp(r,e){const n=Se(r),s=No(n);n.Ia.delete(e),s.O_()&&Rb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ha(n)&&n.Ra.set("Unknown"))}function Fp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).Y_(e)}function Rb(r,e){r.Va.Ue(e),No(r).Z_(e)}function Gp(r){r.Va=new kx({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),No(r).start(),r.Ra.ua()}function Kp(r){return ha(r)&&!No(r).x_()&&r.Ia.size>0}function ha(r){return Se(r).Ea.size===0}function Cb(r){r.Va=void 0}async function qN(r){r.Ra.set("Online")}async function FN(r){r.Ia.forEach(((e,n)=>{Fp(r,e)}))}async function GN(r,e){Cb(r),Kp(r)?(r.Ra.ha(e),Gp(r)):r.Ra.set("Unknown")}async function KN(r,e,n){if(r.Ra.set("Online"),e instanceof hb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Mh(r,s)}else if(e instanceof fh?r.Va.Ze(e):e instanceof cb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await bb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),Rb(u,p);const T=new rs(E.target,p,g,E.sequenceNumber);Fp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(oa,"Failed to raise snapshot:",s),await Mh(r,s)}}async function Mh(r,e,n){if(!xo(e))throw e;r.Ea.add(1),await yu(r),r.Ra.set("Offline"),n||(n=()=>bb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(oa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await tf(r)}))}function Ib(r,e){return e().catch((n=>Mh(r,n,e)))}async function nf(r){const e=Se(r),n=ms(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xp;for(;YN(e);)try{const o=await IN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,QN(e,o)}catch(o){await Mh(e,o)}xb(e)&&Nb(e)}function YN(r){return ha(r)&&r.Ta.length<10}function QN(r,e){r.Ta.push(e);const n=ms(r);n.O_()&&n.X_&&n.ea(e.mutations)}function xb(r){return ha(r)&&!ms(r).x_()&&r.Ta.length>0}function Nb(r){ms(r).start()}async function XN(r){ms(r).ra()}async function $N(r){const e=ms(r);for(const n of r.Ta)e.ea(n.mutations)}async function WN(r,e,n){const s=r.Ta.shift(),o=kp.from(s,e,n);await Ib(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await nf(r)}async function ZN(r,e){e&&ms(r).X_&&await(async function(s,o){if((function(f){return Mx(f)&&f!==te.ABORTED})(o.code)){const u=s.Ta.shift();ms(s).B_(),await Ib(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await nf(s)}})(r,e),xb(r)&&Nb(r)}async function JE(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),le(oa,"RemoteStore received new credentials");const s=ha(n);n.Ea.add(3),await yu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await tf(n)}async function JN(r,e){const n=Se(r);e?(n.Ea.delete(2),await tf(n)):e||(n.Ea.add(2),await yu(n),n.Ra.set("Unknown"))}function No(r){return r.ma||(r.ma=(function(n,s,o){const u=Se(n);return u.sa(),new LN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:qN.bind(null,r),t_:FN.bind(null,r),r_:GN.bind(null,r),H_:KN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Kp(r)?Gp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Cb(r))}))),r.ma}function ms(r){return r.fa||(r.fa=(function(n,s,o){const u=Se(n);return u.sa(),new UN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:XN.bind(null,r),r_:ZN.bind(null,r),ta:$N.bind(null,r),na:WN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await nf(r)):(await r.fa.stop(),r.Ta.length>0&&(le(oa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Yp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Yp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qp(r,e){if(dr("AsyncQueue",`${e}: ${r}`),xo(r))return new he(te.UNAVAILABLE,`${e}: ${r}`);throw r}class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ho;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class e0{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Eo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,ho.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class eD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class tD{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=t0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function t0(){return new ca((r=>WT(r)),Qh)}async function Db(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new eD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Qp(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Xp(n)}async function Ob(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function nD(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Xp(n)}function iD(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Xp(r){r.Ca.forEach((e=>{e.next()}))}var ip,n0;(n0=ip||(ip={})).Ma="default",n0.Cache="cache";class Mb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ip.Cache}}class Vb{constructor(e){this.key=e}}class Pb{constructor(e){this.key=e}}class rD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=ZT(e),this.tu=new ho(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new e0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),k=Xh(this.query,T)?T:null,G=!!w&&this.mutatedKeys.has(w.key),$=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let q=!1;w&&k?w.data.isEqual(k.data)?G!==$&&(s.track({type:3,doc:k}),q=!0):this.su(w,k)||(s.track({type:2,doc:k}),q=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),q=!0):w&&!k&&(s.track({type:1,doc:w}),q=!0,(p||g)&&(m=!0)),q&&(k?(f=f.add(k),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(k,G){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:q})}};return $(k)-$(G)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new Eo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new e0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Pb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Vb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $p="SyncEngine";class sD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class aD{constructor(e){this.key=e,this.hu=!1}}class oD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ca((m=>WT(m)),Qh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lD(r,e,n=!0){const s=Bb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await kb(s,e,n,!0),o}async function uD(r,e){const n=Bb(r);await kb(n,e,!0,!1)}async function kb(r,e,n,s){const o=await xN(r.localStore,Di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await cD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&wb(r.remoteStore,o),m}async function cD(r,e,n,s,o){r.pu=(T,w,k)=>(async function($,q,Z,ne){let re=q.view.ru(Z);re.Cs&&(re=await QE($.localStore,q.query,!1).then((({documents:x})=>q.view.ru(x,re))));const ge=ne&&ne.targetChanges.get(q.targetId),Re=ne&&ne.targetMismatches.get(q.targetId)!=null,_e=q.view.applyChanges(re,$.isPrimaryClient,ge,Re);return r0($,q.targetId,_e.au),_e.snapshot})(r,T,w,k);const u=await QE(r.localStore,e,!0),f=new rD(e,u.Qs),m=f.ru(u.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);r0(r,n,g.au);const E=new sD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function hD(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Qh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&qp(s.remoteStore,o.targetId),rp(s,o.targetId)})).catch(Io)):(rp(s,o.targetId),await tp(s.localStore,o.targetId,!0))}async function fD(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qp(n.remoteStore,s.targetId))}async function dD(r,e,n){const s=ED(r);try{const o=await(function(f,m){const p=Se(f),g=rt.now(),E=m.reduce(((k,G)=>k.add(G.key)),Pe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let G=mr(),$=Pe();return p.Ns.getEntries(k,E).next((q=>{G=q,G.forEach(((Z,ne)=>{ne.isValidDocument()||($=$.add(Z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,G))).next((q=>{T=q;const Z=[];for(const ne of m){const re=Ix(ne,T.get(ne.key).overlayedDocument);re!=null&&Z.push(new _s(ne.key,re,FT(re.value.mapValue),mn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,Z,m)})).next((q=>{w=q;const Z=q.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(k,q.batchId,Z)}))})).then((()=>({batchId:w.batchId,changes:eb(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await _u(s,o.changes),await nf(s.remoteStore)}catch(o){const u=Qp(o,"Failed to persist write");n.reject(u)}}async function Lb(r,e){const n=Se(r);try{const s=await RN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await _u(n,s,e)}catch(s){await Io(s)}}function i0(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&Xp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mD(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,Zt.newNoDocument(u,Te.min()));const m=Pe().add(u),p=new Jh(Te.min(),new Map,new ut(Ve),f,m);await Lb(s,p),s.du=s.du.remove(u),s.Au.delete(e),Wp(s)}else await tp(s.localStore,e,!1).then((()=>rp(s,e,n))).catch(Io)}async function pD(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await wN(n.localStore,e);jb(n,s,null),Ub(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _u(n,o)}catch(o){await Io(o)}}async function gD(r,e,n){const s=Se(r);try{const o=await(function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Ke(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);jb(s,e,n),Ub(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _u(s,o)}catch(o){await Io(o)}}function Ub(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function jb(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function rp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||zb(r,s)}))}function zb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(qp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Wp(r))}function r0(r,e,n){for(const s of n)s instanceof Vb?(r.Ru.addReference(s.key,e),yD(r,s)):s instanceof Pb?(le($p,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||zb(r,s.key)):Ee(19791,{wu:s})}function yD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le($p,"New document in limbo: "+n),r.Eu.add(s),Wp(r))}function Wp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(it.fromString(e)),s=r.fu.next();r.Au.set(s,new aD(n)),r.du=r.du.insert(n,s),wb(r.remoteStore,new rs(Di(Vp(n.path)),s,"TargetPurposeLimboResolution",Fh.ce))}}async function _u(r,e,n){const s=Se(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Bp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>ee.forEach(g,(w=>ee.forEach(w.Es,(k=>E.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>ee.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!xo(T))throw T;le(Hp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const k=E.Ms.get(w),G=k.snapshotVersion,$=k.withLastLimboFreeSnapshotVersion(G);E.Ms=E.Ms.insert(w,$)}}})(s.localStore,u))}async function _D(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){le($p,"User change. New user:",e.toKey());const s=await Tb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(te.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(n,s.Ls)}}function vD(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Bb(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mD.bind(null,e),e.Pu.H_=nD.bind(null,e.eventManager),e.Pu.yu=iD.bind(null,e.eventManager),e}function ED(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gD.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ef(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return AN(this.persistence,new TN,e.initialUser,this.serializer)}Cu(e){return new Eb(zp.mi,this.serializer)}Du(e){return new DN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class TD extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof Oh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new aN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Eb((s=>Oh.mi(s,n)),this.serializer)}}class sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>i0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_D.bind(null,this.syncEngine),await JN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new tD})()}createDatastore(e){const n=ef(e.databaseInfo.databaseId),s=(function(u){return new kN(u)})(e.databaseInfo);return(function(u,f,m,p){return new zN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new HN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>i0(this.syncEngine,n,0)),(function(){return WE.v()?new WE:new ON})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new oD(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);le(oa,"RemoteStore shutting down."),s.Ea.add(5),await yu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sp.provider={build:()=>new sp};class Hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ps="FirestoreClient";class bD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Qp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Nm(r,e){r.asyncQueue.verifyOperationInProgress(),le(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Tb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function s0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await SD(r);le(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>JE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>JE(e.remoteStore,o))),r._onlineComponents=e}async function SD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(ps,"Using user provided OfflineComponentProvider");try{await Nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;po("Error using user provided cache. Falling back to memory cache: "+n),await Nm(r,new Vh)}}else le(ps,"Using default OfflineComponentProvider"),await Nm(r,new TD(void 0));return r._offlineComponents}async function qb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(ps,"Using user provided OnlineComponentProvider"),await s0(r,r._uninitializedComponentsProvider._online)):(le(ps,"Using default OnlineComponentProvider"),await s0(r,new sp))),r._onlineComponents}function AD(r){return qb(r).then((e=>e.syncEngine))}async function Fb(r){const e=await qb(r),n=e.eventManager;return n.onListen=lD.bind(null,e.syncEngine),n.onUnlisten=hD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fD.bind(null,e.syncEngine),n}function wD(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Hb({next:w=>{E.Nu(),f.enqueueAndForget((()=>Ob(u,T)));const k=w.docs.has(m);!k&&w.fromCache?g.reject(new he(te.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Mb(Vp(m.path),E,{includeMetadataChanges:!0,qa:!0});return Db(u,T)})(await Fb(r),r.asyncQueue,e,n,s))),s.promise}function RD(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new Hb({next:w=>{E.Nu(),f.enqueueAndForget((()=>Ob(u,T))),w.fromCache&&p.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Mb(m,E,{includeMetadataChanges:!0,qa:!0});return Db(u,T)})(await Fb(r),r.asyncQueue,e,n,s))),s.promise}function Gb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const a0=new Map;const Kb="firestore.googleapis.com",o0=!0;class l0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kb,this.ssl=o0}else this.host=e.host,this.ssl=e.ssl??o0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=vb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rN)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Gb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new DI;switch(s.type){case"firstParty":return new PI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=a0.get(n);s&&(le("ComponentProvider","Removing Datastore"),a0.delete(n),s.terminate())})(this),Promise.resolve()}}function CD(r,e,n,s={}){r=ii(r,rf);const o=Ao(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(k0(`https://${m}`),L0("Firestore",!0)),u.host!==Kb&&u.host!==m&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ta(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=kw(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(T)}r._authCredentials=new OI(new OT(g,E))}}class sf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new sf(this.firestore,e,this._query)}}class Nt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nt(this.firestore,e,this._key)}toJSON(){return{type:Nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(mu(n,Nt._jsonSchema))return new Nt(e,s||null,new pe(it.fromString(n.referencePath)))}}Nt._jsonSchemaVersion="firestore/documentReference/1.0",Nt._jsonSchema={type:xt("string",Nt._jsonSchemaVersion),referencePath:xt("string")};class us extends sf{constructor(e,n,s){super(e,n,Vp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new pe(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function af(r,e,...n){if(r=dt(r),MT("collection","path",e),r instanceof rf){const s=it.fromString(e,...n);return bE(s),new us(r,null,s)}{if(!(r instanceof Nt||r instanceof us))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return bE(s),new us(r.firestore,null,s)}}function To(r,e,...n){if(r=dt(r),arguments.length===1&&(e=Cp.newId()),MT("doc","path",e),r instanceof rf){const s=it.fromString(e,...n);return TE(s),new Nt(r,null,new pe(s))}{if(!(r instanceof Nt||r instanceof us))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return TE(s),new Nt(r.firestore,r instanceof us?r.converter:null,new pe(s))}}const u0="AsyncQueue";class c0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Sb(this,"async_queue_retry"),this._c=()=>{const s=xm();s&&le(u0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=xm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=xm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;le(u0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",h0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Yp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:h0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function h0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class fa extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new c0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c0(e),this._firestoreClient=void 0,await e}}}function ID(r,e){const n=typeof r=="object"?r:B0(),s=typeof r=="string"?r:wh,o=yp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Vw("firestore");u&&CD(o,...u)}return o}function of(r){if(r._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||xD(r),r._firestoreClient}function xD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new ZI(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Gb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new bD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Qt.fromBase64String(e))}catch(n){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(mu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:xt("string",zn._jsonSchemaVersion),bytes:xt("string")};class vu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zp{constructor(e){this._methodName=e}}class Mi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(e){if(mu(e,Mi._jsonSchema))return new Mi(e.latitude,e.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:xt("string",Mi._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};class Vi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(mu(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Vi(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:xt("string",Vi._jsonSchemaVersion),vectorValues:xt("object")};const ND=/^__.*__$/;class DD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class Yb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Qb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Jp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ph(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Qb(this.Ac)&&ND.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class OD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ef(e)}Cc(e,n,s,o=!1){return new Jp({Ac:e,methodName:n,Dc:s,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(r){const e=r._freezeSettings(),n=ef(r._databaseId);return new OD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Xb(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);tg("Data must be an object, but it was:",f,s);const m=Zb(s,f);let p,g;if(u.merge)p=new Rn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=ap(e,T,n);if(!f.contains(w))throw new he(te.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);eS(E,w)||E.push(w)}p=new Rn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new DD(new dn(m),p,g)}class lf extends Zp{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function $b(r,e,n,s){const o=r.Cc(1,e,n);tg("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();ys(s,((p,g)=>{const E=ng(e,p,n);g=dt(g);const T=o.yc(E);if(g instanceof lf)u.push(E);else{const w=uf(g,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Rn(u);return new Yb(f,m,o.fieldTransforms)}function Wb(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[ap(e,s,n)],p=[o];if(u.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(ap(e,u[w])),p.push(u[w+1]);const g=[],E=dn.empty();for(let w=m.length-1;w>=0;--w)if(!eS(g,m[w])){const k=m[w];let G=p[w];G=dt(G);const $=f.yc(k);if(G instanceof lf)g.push(k);else{const q=uf(G,$);q!=null&&(g.push(k),E.set(k,q))}}const T=new Rn(g);return new Yb(E,T,f.fieldTransforms)}function uf(r,e){if(Jb(r=dt(r)))return tg("Unsupported field value:",e,r),Zb(r,e);if(r instanceof Zp)return(function(s,o){if(!Qb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=uf(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=dt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Dh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Dh(o.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:fb(o.serializer,s._byteString)};if(s instanceof Nt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vi)return(function(f,m){return{mapValue:{fields:{[HT]:{stringValue:qT},[Rh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Ip(s)}`)})(r,e)}function Zb(r,e){const n={};return kT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(r,((s,o)=>{const u=uf(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function Jb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Mi||r instanceof zn||r instanceof Nt||r instanceof Zp||r instanceof Vi)}function tg(r,e,n){if(!Jb(n)||!VT(n)){const s=Ip(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function ap(r,e,n){if((e=dt(e))instanceof vu)return e._internalPath;if(typeof e=="string")return ng(r,e);throw Ph("Field path arguments must be of type string or ",r,!1,void 0,n)}const MD=new RegExp("[~\\*/\\[\\]]");function ng(r,e,n){if(e.search(MD)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new vu(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ph(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(te.INVALID_ARGUMENT,m+r+p)}function eS(r,e){return r.some((n=>n.isEqual(e)))}class tS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(nS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VD extends tS{data(){return super.data()}}function nS(r,e){return typeof e=="string"?ng(r,e):e instanceof vu?e._internalPath:e._delegate._internalPath}function PD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kD{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Rh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Vi(n)}convertGeoPoint(e){return new Mi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(tu(e));default:return null}}convertTimestamp(e){const n=hs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ke(_b(s),9688,{name:e});const o=new nu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function iS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends tS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(nS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:xt("string",ea._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};class dh extends ea{data(e={}){return super.data(e)}}class fo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:LD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Cp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function kh(r){r=ii(r,Nt);const e=ii(r.firestore,fa);return wD(of(e),r._key).then((n=>zD(e,r,n)))}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:xt("string",fo._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};class rS extends kD{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}}function cf(r){r=ii(r,sf);const e=ii(r.firestore,fa),n=of(e),s=new rS(e);return PD(r._query),RD(n,r._query).then((o=>new fo(e,s,r,o)))}function ig(r,e,n){r=ii(r,Nt);const s=ii(r.firestore,fa),o=iS(r.converter,e,n);return hf(s,[Xb(eg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,mn.none())])}function UD(r,e,n,...s){r=ii(r,Nt);const o=ii(r.firestore,fa),u=eg(o);let f;return f=typeof(e=dt(e))=="string"||e instanceof vu?Wb(u,"updateDoc",r._key,e,n,s):$b(u,"updateDoc",r._key,e),hf(o,[f.toMutation(r._key,mn.exists(!0))])}function jD(r){return hf(ii(r.firestore,fa),[new Zh(r._key,mn.none())])}function hf(r,e){return(function(s,o){const u=new ur;return s.asyncQueue.enqueueAndForget((async()=>dD(await AD(s),o,u))),u.promise})(of(r),e)}function zD(r,e,n){const s=n.docs.get(e._key),o=new rS(r);return new ea(r,o,e._key,s,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}class BD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=eg(e)}set(e,n,s){this._verifyNotCommitted();const o=Dm(e,this._firestore),u=iS(o.converter,n,s),f=Xb(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,mn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Dm(e,this._firestore);let f;return f=typeof(n=dt(n))=="string"||n instanceof vu?Wb(this._dataReader,"WriteBatch.update",u._key,n,s,o):$b(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Dm(e,this._firestore);return this._mutations=this._mutations.concat(new Zh(n._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Dm(r,e){if((r=dt(r)).firestore!==e)throw new he(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function D4(r){return of(r=ii(r,fa)),new BD(r,(e=>hf(r,e)))}(function(e,n=!0){(function(o){Co=o})(wo),mo(new na("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new fa(new MI(s.getProvider("auth-internal")),new kI(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nu(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),os(yE,_E,e),os(yE,_E,"esm2020")})();const HD={apiKey:"AIzaSyBu3tuozsNFDnkWXYWALNZ3bREBtkiAmAc",authDomain:"anime-project-afaf7.firebaseapp.com",projectId:"anime-project-afaf7",storageBucket:"anime-project-afaf7.firebasestorage.app",messagingSenderId:"726262902044",appId:"1:726262902044:web:8ac376e203a5de15b81ed9"},sS=z0(HD),Ws=xI(sS),Pi=ID(sS),aS=L.createContext();function qD({children:r}){const[e,n]=L.useState(null),[s,o]=L.useState(!0);function u(T,w){return u2(Ws,T,w)}function f(T,w){return c2(Ws,T,w)}function m(){return _2(Ws)}function p(T){return f2(Ws.currentUser,T)}function g(T){return d2(Ws.currentUser,T)}function E(T){return m2(Ws.currentUser,T)}return L.useEffect(()=>{const T=y2(Ws,w=>{n(w),o(!1)});return()=>{T()}},[]),b.jsx(aS.Provider,{value:{signUp:u,logIn:f,logOut:m,updateUserProfile:p,updateUserEmail:g,updateUserPassword:E,user:e,loading:s},children:s?b.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-black",children:b.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-red-600"})}):r})}function _r(){return L.useContext(aS)}const oS=L.createContext();function FD({children:r}){const[e,n]=L.useState([]),[s,o]=L.useState(null),[u,f]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const p=await cf(af(Pi,"animes")),g=[];p.forEach(T=>{const w=T.data();g.push({...w,id:parseInt(T.id)||T.id})}),n(g);const E=g.find(T=>T.featured===!0);o(E||g[0])}catch(p){console.error("Error fetching anime data:",p)}finally{f(!1)}})()},[]),b.jsx(oS.Provider,{value:{animeList:e,featuredAnime:s,loading:u},children:r})}function ff(){return L.useContext(oS)}const GD="modulepreload",KD=function(r){return"/mizu-play/"+r},f0={},YD=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=p(n.map(g=>{if(g=KD(g),g in f0)return;f0[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const w=document.createElement("link");if(w.rel=E?"stylesheet":GD,E||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),E)return new Promise((k,G)=>{w.addEventListener("load",k),w.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};const QD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XD=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),d0=r=>{const e=XD(r);return e.charAt(0).toUpperCase()+e.slice(1)},lS=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),$D=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var WD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ZD=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>L.createElement("svg",{ref:p,...WD,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:lS("lucide",o),...!u&&!$D(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>L.createElement(g,E)),...Array.isArray(u)?u:[u]]));const ji=(r,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(ZD,{ref:u,iconNode:e,className:lS(`lucide-${QD(d0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=d0(r),n};const JD=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],e4=ji("bell",JD);const t4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],n4=ji("check",t4);const i4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],r4=ji("chevron-right",i4);const s4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],a4=ji("chevron-left",s4);const o4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],l4=ji("info",o4);const u4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],mh=ji("play",u4);const c4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],h4=ji("plus",c4);const f4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],m0=ji("search",f4);const d4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],m4=ji("user",d4);const p4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],g4=ji("x",p4),vs=()=>{const[r,e]=L.useState(!1),{user:n,logOut:s}=_r(),{animeList:o}=ff(),u=gr(),[f,m]=L.useState(!1),p=async()=>{try{await s(),u("/")}catch(Z){console.log(Z)}};L.useEffect(()=>{const Z=()=>{window.scrollY>0?e(!0):e(!1)};return window.addEventListener("scroll",Z),()=>window.removeEventListener("scroll",Z)},[]);const[g,E]=L.useState(!1),[T,w]=L.useState(""),[k,G]=L.useState([]),$=Z=>{const ne=Z.target.value;if(w(ne),ne.length>0){const re=o.filter(ge=>ge.title.toLowerCase().includes(ne.toLowerCase()));G(re)}else G([])},q=Z=>{Z.preventDefault(),E(!1),w(""),G([]),u(`/search?q=${T}`)};return b.jsxs("nav",{style:{position:"fixed",top:0,width:"100%",zIndex:50,padding:"1rem 4%",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.3s",backgroundColor:r?"var(--background)":"transparent",backgroundImage:r?"none":"linear-gradient(to bottom, rgba(0,0,0,0.7) 10%, rgba(0,0,0,0))"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:[b.jsx(hn,{to:"/",children:b.jsx("h1",{style:{color:"var(--primary)",fontSize:"1.8rem",fontWeight:"bold",cursor:"pointer"},children:"MIZUPLAY"})}),n?.email&&b.jsxs("ul",{style:{display:"flex",gap:"1.5rem",listStyle:"none",color:"#e5e5e5",fontSize:"0.9rem"},className:"hidden md:flex",children:[b.jsx(hn,{to:"/",children:b.jsx("li",{style:{cursor:"pointer",fontWeight:"bold"},children:"Home"})}),b.jsx(hn,{to:"/series",children:b.jsx("li",{style:{cursor:"pointer"},children:"Series"})}),b.jsx(hn,{to:"/movies",children:b.jsx("li",{style:{cursor:"pointer"},children:"Movies"})}),b.jsx(hn,{to:"/new",children:b.jsx("li",{style:{cursor:"pointer"},children:"New & Popular"})}),b.jsx(hn,{to:"/mylist",children:b.jsx("li",{style:{cursor:"pointer"},children:"My List"})})]})]}),n?.email?b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",color:"white"},children:[b.jsxs("div",{className:"relative flex items-center",children:[b.jsxs("div",{className:`flex items-center border border-white bg-black/80 transition-all duration-300 ${g?"w-[200px] md:w-[250px] p-1":"w-0 border-0 bg-transparent overflow-hidden"}`,children:[b.jsx(m0,{size:20,className:"ml-1 min-w-[20px]"}),b.jsx("form",{onSubmit:q,className:"w-full",children:b.jsx("input",{type:"text",className:"bg-transparent border-none text-white focus:outline-none pl-2 text-sm w-full",placeholder:"Titles, people, genres",value:T,onChange:$,style:{color:"white"}})}),T&&b.jsx("span",{className:"cursor-pointer text-xs px-2",onClick:()=>{w(""),G([])},children:"X"})]}),!g&&b.jsx(m0,{size:20,style:{cursor:"pointer"},onClick:()=>E(!0)}),k.length>0&&g&&b.jsxs("div",{className:"absolute top-10 right-0 w-[250px] bg-[#141414] border border-[#333] shadow-xl max-h-[300px] overflow-y-auto rounded z-50",children:[k.map(Z=>b.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-[#333] cursor-pointer border-b border-[#222]",onClick:()=>{u(`/title/${Z.id}`),E(!1),w(""),G([])},children:[b.jsx("img",{src:Z.image,alt:Z.title,className:"w-10 h-14 object-cover rounded"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-bold truncate",children:Z.title}),b.jsx("p",{className:"text-xs text-gray-400",children:Z.category})]})]},Z.id)),b.jsxs("div",{className:"p-2 text-center text-xs text-white bg-[var(--primary)] cursor-pointer hover:opacity-80 font-bold",onClick:Z=>q(Z),children:['View all results for "',T,'"']})]})]}),b.jsx(e4,{size:20,style:{cursor:"pointer"}}),b.jsxs("div",{style:{position:"relative"},onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[b.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:b.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"4px",overflow:"hidden",backgroundColor:"#aaa",display:"flex",alignItems:"center",justifyContent:"center"},children:n.photoURL?b.jsx("img",{src:n.photoURL,alt:"Profile",style:{width:"100%",height:"100%",objectFit:"cover"}}):b.jsx(m4,{size:20,color:"#141414"})})}),f&&b.jsxs("div",{style:{position:"absolute",top:"32px",right:0,backgroundColor:"rgba(0,0,0,0.9)",border:"1px solid #333",borderRadius:"4px",padding:"10px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"10px"},children:[b.jsx(hn,{to:"/account",style:{fontSize:"0.9rem",color:"#fff",textDecoration:"none"},children:"See Profile"}),b.jsx("div",{style:{height:"1px",backgroundColor:"#333"}}),b.jsx("button",{onClick:p,style:{background:"transparent",border:"none",color:"#fff",fontSize:"0.9rem",cursor:"pointer",textAlign:"left",padding:0},children:"Logout"})]})]})]}):b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[b.jsx(hn,{to:"/login",children:b.jsx("button",{className:"text-white pr-4",children:"Sign In"})}),b.jsx(hn,{to:"/signup",children:b.jsx("button",{className:"bg-[var(--primary)] px-6 py-2 rounded cursor-pointer text-black",children:"Sign Up"})})]}),b.jsx("button",{disabled:!0,onClick:async()=>{const{seedDatabase:Z}=await YD(async()=>{const{seedDatabase:ne}=await import("./seedDatabase-B-3Q-ysZ.js");return{seedDatabase:ne}},[]);Z()},className:"fixed bottom-4 right-4 bg-yellow-500 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed text-black px-4 py-2 rounded z-[100] font-bold",children:"SEED DB"})]})},y4=({anime:r,onPlay:e})=>{const n=gr();return r?b.jsx("div",{className:"relative w-full h-[70vh] text-white",children:b.jsxs("div",{className:"w-full h-full",children:[b.jsx("div",{className:"absolute w-full h-full bg-gradient-to-r from-black via-transparent to-transparent z-10"}),b.jsx("div",{className:"absolute w-full h-full bg-gradient-to-b from-transparent via-transparent to-[#141414] z-10 bottom-0"}),b.jsx("img",{className:"w-full h-full object-cover",src:r.image,alt:r.title}),b.jsxs("div",{className:"absolute w-full top-[30%] md:top-[25%] p-4 md:p-8 md:pl-16 z-20",children:[b.jsx("h1",{className:"text-3xl md:text-5xl font-bold max-w-[90%] md:max-w-[60%] drop-shadow-lg",children:r.title}),b.jsxs("div",{className:"my-6 flex gap-4",children:[b.jsxs("button",{onClick:()=>e(r),className:"bg-[var(--primary)] text-black py-2 px-6 rounded font-bold flex items-center gap-2 hover:bg-opacity-80 transition",children:[b.jsx(mh,{size:24,fill:"black"})," Play"]}),b.jsxs("button",{onClick:()=>n(`/title/${r.id}`),className:"bg-[#9c7880]/90 text-white py-2 px-6 rounded font-bold flex items-center gap-2 hover:bg-[#8a6a72] transition backdrop-blur-sm",children:[b.jsx(l4,{size:24}),"More Info"]})]}),b.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:["Released: ",r.year||"2023"]}),b.jsxs("p",{className:"w-full md:max-w-[70%] lg:max-w-[45%] xl:max-w-[35%] text-gray-200 drop-shadow-md text-sm md:text-base",children:[r.description?.slice(0,160),"..."]})]})]})}):null},or=({title:r,animes:e,onPlay:n,isPlayableCard:s})=>{const o=L.useRef(null),u=gr(),f=m=>{if(o.current){const{scrollLeft:p,clientWidth:g}=o.current,E=m==="left"?p-g/2:p+g/2;o.current.scrollTo({left:E,behavior:"smooth"})}};return b.jsxs("div",{style:{marginBottom:"3rem",padding:"0 4%"},children:[b.jsx("h2",{style:{color:"#e5e5e5",marginBottom:"1rem",fontSize:"1.5rem",fontWeight:"600"},children:r}),b.jsxs("div",{style:{position:"relative",group:"row"},children:[b.jsx("button",{onClick:()=>f("left"),style:{position:"absolute",left:0,top:0,bottom:0,zIndex:40,backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",padding:"0 0.5rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s"},onMouseEnter:m=>m.currentTarget.style.opacity=1,onMouseLeave:m=>m.currentTarget.style.opacity=0,children:b.jsx(a4,{size:40})}),b.jsx("div",{ref:o,style:{display:"flex",gap:"0.5rem",overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none",padding:"1rem 1rem",scrollBehavior:"smooth"},className:"no-scrollbar",children:e.map(m=>b.jsxs("div",{onClick:()=>s?n(m):u(`/title/${m.id}`),className:"anime-card",style:{flex:"0 0 auto",width:"250px",cursor:"pointer",position:"relative"},children:[b.jsx("img",{className:"anime-image",src:m.image,alt:m.title,style:{width:"100%",height:"140px",objectFit:"cover"}}),b.jsx("p",{style:{marginTop:"0.5rem",color:"#999",fontSize:"0.9rem",fontWeight:"500"},children:m.title})]},m.id))}),b.jsx("button",{onClick:()=>f("right"),style:{position:"absolute",right:0,top:0,bottom:0,zIndex:40,backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",padding:"0 0.5rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s"},onMouseEnter:m=>m.currentTarget.style.opacity=1,onMouseLeave:m=>m.currentTarget.style.opacity=0,children:b.jsx(r4,{size:40})})]})]})},Do=({anime:r,onClose:e,videoUrl:n})=>{const s=L.useRef(null),{user:o}=_r(),[u,f]=L.useState(null),m=r?.id||r?.animeId,p=n||r?.video;L.useEffect(()=>{(async()=>{if(console.log("Player: Loading progress for",m),o?.email&&m){const k=To(Pi,"users",o.email,"progress",m.toString());try{const G=await kh(k);if(G.exists()){const $=G.data();if(console.log("Player: Found progress",$),$.timestamp){const q=Math.max(0,$.timestamp-5);console.log("Player: Setting savedTime to",q),f(q)}}else console.log("Player: No progress found")}catch(G){console.error("Player: Error loading progress",G)}}})()},[m,o]),L.useEffect(()=>{u!==null&&s.current&&s.current.readyState>=1&&(console.log("Player: Seeking to savedTime (useEffect)",u),s.current.currentTime=u)},[u]);const g=()=>{console.log("Player: Metadata loaded"),s.current&&u!==null&&(console.log("Player: Seeking to savedTime (onLoadedMetadata)",u),s.current.currentTime=u)},E=async()=>{if(o?.email&&m&&s.current){const w=s.current.currentTime,k=s.current.duration;console.log("Player: Saving progress",w);try{await ig(To(Pi,"users",o.email,"progress",m.toString()),{animeId:m,title:r.title,image:r.image,video:n||r.video,timestamp:w,lastWatched:new Date,duration:k}),console.log("Player: Progress saved successfully")}catch(G){console.error("Player: Error saving progress",G)}}},T=async()=>{console.log("Player: Close button clicked"),await E(),e()};return L.useEffect(()=>{const w=setInterval(()=>{console.log("Player: Auto-saving..."),E()},5e3);return()=>clearInterval(w)},[m,o,r]),r?b.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"black",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:[b.jsx("button",{onClick:T,style:{position:"absolute",top:"2rem",right:"2rem",background:"transparent",color:"white",zIndex:101,cursor:"pointer"},children:b.jsx(g4,{size:40})}),b.jsx("video",{ref:s,controls:!0,autoPlay:!0,onLoadedMetadata:g,style:{width:"100%",height:"100%",maxHeight:"100vh"},src:p,children:"Your browser does not support the video tag."})]}):null},_4=()=>{const[r,e]=L.useState(null),[n,s]=L.useState([]),{user:o}=_r(),{animeList:u,featuredAnime:f,loading:m}=ff();L.useEffect(()=>{(async()=>{if(o?.email){const w=(await cf(af(Pi,"users",o.email,"progress"))).docs.map(k=>({...k.data(),id:k.data().animeId}));s(w)}})()},[o,r]);const p=E=>{e(E)},g=()=>{e(null)};return m?b.jsx("div",{className:"text-white pt-20 pl-10",children:"Loading..."}):b.jsxs(b.Fragment,{children:[b.jsx(vs,{}),b.jsx(y4,{anime:f,onPlay:p}),b.jsxs("div",{style:{marginTop:"-120px",position:"relative",zIndex:10},children:[n.length>0&&b.jsx(or,{title:"Continue Watching",animes:n,onPlay:p,isPlayableCard:!0}),b.jsx(or,{title:"Trending Now",animes:u,onPlay:p}),b.jsx(or,{title:"New Releases",animes:[...u].reverse(),onPlay:p}),b.jsx(or,{title:"Action Anime",animes:u,onPlay:p})]}),r&&b.jsx(Do,{anime:r,onClose:g})]})},uS="/mizu-play/assets/door-DVRtoP7x.png",v4=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[f,m]=L.useState(!1),{logIn:p}=_r(),g=gr(),E=async T=>{T.preventDefault(),u(""),m(!0);try{await p(r,n),g("/")}catch(w){console.log(w),u(w.message),m(!1)}};return b.jsxs("div",{className:"w-full h-screen overflow-hidden",children:[b.jsx("img",{className:"absolute w-full h-full object-cover",src:uS,alt:"/"}),b.jsx("div",{className:"bg-black/60 fixed top-0 left-0 w-full h-screen"}),b.jsx("div",{className:"fixed w-full px-4 py-24 z-50",children:b.jsx("div",{className:"max-w-[450px] h-[600px] mx-auto bg-black/75 text-white rounded-lg",children:b.jsxs("div",{className:"max-w-[320px] mx-auto py-16",children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Sign In"}),o?b.jsx("p",{className:"p-3 bg-red-400 my-2",children:o}):null,b.jsxs("form",{onSubmit:E,className:"w-full flex flex-col py-4",children:[b.jsx("input",{onChange:T=>e(T.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"email",placeholder:"Email",autoComplete:"email"}),b.jsx("input",{onChange:T=>s(T.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"password",placeholder:"Password",autoComplete:"current-password"}),b.jsx("button",{disabled:f,className:"bg-[var(--primary)] py-3 my-6 rounded font-bold text-black flex justify-center items-center",children:f?b.jsx("div",{className:"w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}):"Sign In"}),b.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[b.jsxs("p",{children:[b.jsx("input",{className:"mr-2",type:"checkbox"}),"Remember me"]}),b.jsx("p",{children:"Need Help?"})]}),b.jsxs("p",{className:"py-8",children:[b.jsx("span",{className:"text-gray-600",children:"New to Mizuplay?"})," ",b.jsx(hn,{to:"/signup",children:"Sign Up"})]})]})]})})})]})},E4=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),{signUp:o}=_r(),u=gr(),f=async m=>{m.preventDefault();try{await o(r,n),u("/")}catch(p){console.log(p)}};return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"w-full h-screen",children:[b.jsx("img",{className:"absolute w-full h-full object-cover",src:uS,alt:"/"}),b.jsx("div",{className:"bg-black/60 fixed top-0 left-0 w-full h-screen"}),b.jsx("div",{className:"fixed w-full px-4 py-24 z-50",children:b.jsx("div",{className:"max-w-[450px] h-[600px] mx-auto bg-black/75 text-white rounded-lg",children:b.jsxs("div",{className:"max-w-[320px] mx-auto py-16",children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Sign Up"}),b.jsxs("form",{onSubmit:f,className:"w-full flex flex-col py-4",children:[b.jsx("input",{onChange:m=>e(m.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"email",placeholder:"Email",autoComplete:"email"}),b.jsx("input",{onChange:m=>s(m.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"password",placeholder:"Password",autoComplete:"new-password"}),b.jsx("button",{className:"bg-[var(--primary)] py-3 my-6 rounded font-bold text-black",children:"Sign Up"}),b.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[b.jsxs("p",{children:[b.jsx("input",{className:"mr-2",type:"checkbox"}),"Remember me"]}),b.jsx("p",{children:"Need Help?"})]}),b.jsxs("p",{className:"py-8",children:[b.jsx("span",{className:"text-gray-600",children:"Already subscribed to Mizuplay?"})," ",b.jsx(hn,{to:"/login",children:"Sign In"})]})]})]})})})]})})},p0="/mizu-play/assets/profile_default_banner-BwOa1bDb.png",T4=()=>{const{user:r,logOut:e,updateUserProfile:n,updateUserEmail:s,updateUserPassword:o}=_r(),u=gr(),[f,m]=L.useState(!1),[p,g]=L.useState(r?.displayName||""),[E,T]=L.useState(r?.photoURL||""),[w,k]=L.useState(r?.email||""),[G,$]=L.useState(""),[q,Z]=L.useState(""),[ne,re]=L.useState(""),[ge,Re]=L.useState(""),[_e,x]=L.useState(""),[R,C]=L.useState({x:50,y:100}),[M,D]=L.useState(1),[P,I]=L.useState({x:50,y:50}),[ze,ct]=L.useState(1),[F,oe]=L.useState(null),[de,ke]=L.useState([]);FA.useEffect(()=>{(async()=>{if(r?.email){try{const ie=To(Pi,"users",r.email),ae=await kh(ie);if(ae.exists()){const ue=ae.data();ue.bannerURL&&(x(ue.bannerURL),Re(ue.bannerURL)),ue.bannerPosition!==void 0&&(typeof ue.bannerPosition=="number"?C({x:50,y:ue.bannerPosition}):C(ue.bannerPosition)),ue.bannerZoom!==void 0&&D(ue.bannerZoom),ue.photoPosition!==void 0&&I(ue.photoPosition),ue.photoZoom!==void 0&&ct(ue.photoZoom)}}catch(ie){console.log("Error fetching user data:",ie)}try{const ae=(await cf(af(Pi,"users",r.email,"savedShows"))).docs.map(ue=>ue.data());ke(ae)}catch(ie){console.log("Error fetching my list:",ie)}}})()},[r]);const qe=async()=>{try{await e(),u("/")}catch(Y){console.log(Y)}},V=async Y=>{Y.preventDefault(),Z(""),re("");try{(p!==r.displayName||E!==r.photoURL)&&await n({displayName:p,photoURL:E}),w!==r.email&&await s(w),G&&await o(G);const ie=To(Pi,"users",r.email),ae=await kh(ie),ue={bannerURL:ge,bannerPosition:R,bannerZoom:M,photoPosition:P,photoZoom:ze};ae.exists()?await UD(ie,ue):await ig(ie,ue,{merge:!0}),x(ge),re("Profile updated successfully!"),m(!1)}catch(ie){Z("Failed to update profile. "+ie.message)}};return b.jsxs("div",{className:"w-full text-white bg-[#141414] min-h-screen",children:[b.jsx(vs,{}),b.jsxs("div",{className:"relative w-full h-[450px] overflow-hidden",children:[b.jsx("img",{className:"absolute object-cover",src:_e||p0,alt:"/",style:{width:`${_e?M*100:100}%`,height:`${_e?M*100:100}%`,top:`${_e?R.y:100}%`,left:`${_e?R.x:50}%`,transform:`translate(-${_e?R.x:50}%, -${_e?R.y:100}%)`,objectPosition:_e?`${R.x}% ${R.y}%`:"center bottom"}}),b.jsx("div",{className:"absolute w-full h-full top-0 left-0 bg-gradient-to-t from-[#141414] via-transparent to-transparent"})]}),b.jsxs("div",{className:"px-[4%] py-8 relative -mt-32 z-20 w-full max-w-[600px]",children:[b.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-8",children:"My Account"}),ne&&b.jsx("p",{className:"p-3 bg-green-500 my-2 rounded",children:ne}),q&&b.jsx("p",{className:"p-3 bg-red-500 my-2 rounded",children:q}),f?b.jsx("form",{onSubmit:V,className:"bg-black/80 p-8 rounded",children:b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Display Name"}),b.jsx("input",{type:"text",value:p,onChange:Y=>g(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Photo URL"}),b.jsx("input",{type:"text",value:E,onChange:Y=>T(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"https://example.com/photo.jpg"}),E&&b.jsx("button",{type:"button",onClick:()=>oe("photo"),className:"mt-2 text-sm text-[var(--primary)] hover:underline",children:"Adjust Photo Position"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Banner URL"}),b.jsx("input",{type:"text",value:ge,onChange:Y=>Re(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"https://example.com/banner.jpg"}),ge&&b.jsx("button",{type:"button",onClick:()=>oe("banner"),className:"mt-2 text-sm text-[var(--primary)] hover:underline",children:"Adjust Banner Position"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Email"}),b.jsx("input",{type:"email",value:w,onChange:Y=>k(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"New Password (leave blank to keep current)"}),b.jsx("input",{type:"password",value:G,onChange:Y=>$(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"New Password"})]}),b.jsxs("div",{className:"flex gap-4 mt-4",children:[b.jsx("button",{type:"submit",className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Save"}),b.jsx("button",{type:"button",onClick:()=>m(!1),className:"border border-gray-500 px-6 py-2 font-bold rounded hover:bg-gray-800 transition",children:"Cancel"})]})]})}):b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"w-20 h-20 bg-gray-500 rounded overflow-hidden relative",children:r?.photoURL?b.jsx("img",{src:r.photoURL,alt:"Profile",className:"absolute object-cover",style:{width:`${ze*100}%`,height:`${ze*100}%`,top:`${P.y}%`,left:`${P.x}%`,transform:`translate(-${P.x}%, -${P.y}%)`,objectPosition:`${P.x}% ${P.y}%`}}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:r?.email?.[0]?.toUpperCase()})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold",children:r?.displayName||"User"}),b.jsx("p",{className:"text-gray-400",children:r?.email})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>m(!0),className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Edit Profile"}),b.jsx("button",{onClick:qe,className:"bg-[#9c7880]/90 text-white px-6 py-2 font-bold rounded hover:bg-[#8a6a72] transition",children:"Logout"})]}),b.jsxs("div",{className:"mt-12",children:[b.jsx("h2",{className:"text-2xl font-bold mb-4",children:"My List"}),b.jsxs("div",{className:"flex overflow-x-scroll whitespace-nowrap scrollbar-hide gap-4 pb-4",children:[de.map((Y,ie)=>b.jsxs("div",{className:"w-[160px] sm:w-[200px] inline-block cursor-pointer relative p-2 anime-card",onClick:()=>u(`/title/${Y.id}`),children:[b.jsx("img",{className:"w-full h-auto block rounded anime-image",src:Y.image,alt:Y.title}),b.jsx("p",{className:"text-sm mt-2 text-gray-300 truncate",children:Y.title})]},ie)),de.length===0&&b.jsx("p",{className:"text-gray-500",children:"Your list is empty."})]})]})]})]}),F&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-[#181818] w-full max-w-[800px] rounded-lg overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[b.jsxs("h3",{className:"text-xl font-bold",children:["Adjust ",F==="banner"?"Banner":"Photo"," Position"]}),b.jsx("button",{onClick:()=>oe(null),className:"text-gray-400 hover:text-white",children:""})]}),b.jsxs("div",{className:"flex-1 relative bg-black flex flex-col items-center justify-center overflow-hidden p-8",children:[b.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Drag the sliders to adjust the position"}),b.jsxs("div",{className:`relative ${F==="banner"?"w-full h-[200px]":"w-[200px] h-[200px] rounded-full"} border border-gray-700 overflow-hidden`,children:[b.jsx("img",{src:F==="banner"?ge||p0:E||r?.photoURL,alt:"Preview",className:"absolute object-cover",style:{width:`${(F==="banner"?M:ze)*100}%`,height:`${(F==="banner"?M:ze)*100}%`,top:`${F==="banner"?R.y:P.y}%`,left:`${F==="banner"?R.x:P.x}%`,transform:`translate(-${F==="banner"?R.x:P.x}%, -${F==="banner"?R.y:P.y}%)`,objectPosition:F==="banner"?`${R.x}% ${R.y}%`:`${P.x}% ${P.y}%`}}),b.jsx("div",{className:`absolute inset-0 pointer-events-none border-x-4 border-y-4 border-[var(--primary)]/30 ${F==="photo"?"rounded-full":""}`})]}),b.jsxs("div",{className:"mt-8 w-full max-w-[400px] flex flex-col gap-6",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[b.jsx("span",{children:"Horizontal"}),b.jsxs("span",{children:[F==="banner"?R.x:P.x,"%"]})]}),b.jsx("input",{type:"range",min:"0",max:"100",value:F==="banner"?R.x:P.x,onChange:Y=>{const ie=Number(Y.target.value);F==="banner"?C(ae=>({...ae,x:ie})):I(ae=>({...ae,x:ie}))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),b.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[b.jsx("span",{children:"Left"}),b.jsx("span",{children:"Right"})]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[b.jsx("span",{children:"Vertical"}),b.jsxs("span",{children:[F==="banner"?R.y:P.y,"%"]})]}),b.jsx("input",{type:"range",min:"0",max:"100",value:F==="banner"?R.y:P.y,onChange:Y=>{const ie=Number(Y.target.value);F==="banner"?C(ae=>({...ae,y:ie})):I(ae=>({...ae,y:ie}))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),b.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[b.jsx("span",{children:"Top"}),b.jsx("span",{children:"Bottom"})]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[b.jsx("span",{children:"Zoom"}),b.jsxs("span",{children:[F==="banner"?M.toFixed(1):ze.toFixed(1),"x"]})]}),b.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:F==="banner"?M:ze,onChange:Y=>{const ie=Number(Y.target.value);F==="banner"?D(ie):ct(ie)},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),b.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[b.jsx("span",{children:"Far"}),b.jsx("span",{children:"Near"})]})]})]})]}),b.jsx("div",{className:"p-4 border-t border-gray-800 flex justify-end gap-4",children:b.jsx("button",{onClick:()=>oe(null),className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Done"})})]})})]})},Lh=[{id:1,title:"Horimiya",image:"https://wallpapercave.com/wp/wp8687574.jpg",category:"Series",description:"A secret life is the one thing they have in common. At school, Hori is a prim and perfect social butterfly, but the truth is she's a brash homebody.",isNew:!1,seasons:[{season:1,episodes:[{id:1,title:"A Tiny Happenstance",duration:"23m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4"},{id:2,title:"You Wear More Than One Face",duration:"23m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4"},{id:3,title:"That's Why It's Okay",duration:"23m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4"}]}]},{id:2,title:"Tensei Shitara Slime Datta Ken",image:"https://wallpapercat.com/w/full/5/2/d/28650-3840x2160-desktop-4k-that-time-i-got-reincarnated-as-a-slime-background.jpg",category:"Series",description:"Lonely thirty-seven-year-old Satoru Mikami is stuck in a dead-end job, unhappy with his mundane life, but after dying at the hands of a robber, he awakens to a fresh start in a fantasy realm...as a slime monster!",isNew:!0,seasons:[{season:1,episodes:[{id:1,title:"Storm Dragon Veldora",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4"},{id:2,title:"Meeting the Goblins",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4"}]}]},{id:3,title:"Kamisama Kiss",image:"https://images3.alphacoders.com/711/711397.png",category:"Series",description:"Nanami Momozono finds herself homeless after her father ruins her life with his gambling debts. She meets a strange man who offers her his homewhich turns out to be a shrine.",isNew:!1,seasons:[{season:1,episodes:[{id:1,title:"Nanami Becomes a God",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/SubaruOutbackOnStreetAndDirt.mp4"},{id:2,title:"The God Becomes a Target",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4"}]}]},{id:4,title:"Bloom Into You",image:"https://rogueshogunate.wordpress.com/wp-content/uploads/2021/03/wp3977954.jpg?w=1920",category:"Series",description:"Yuu Koito has always loved shoujo manga and awaits the day she gets a love confession that sends her heart aflutter with bubbles and blushes, but when a junior high classmate confesses his feelings to her...she feels nothing.",isNew:!1,seasons:[{season:1,episodes:[{id:1,title:"Standard Episode",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4"}]}]},{id:5,title:"Grand Blue",image:"https://occ-0-8407-2219.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABQ-OdWspi0Z8N4z-b0XbrHHrNXhw1Jps9zsEuq9Vi0DnlMvPmo4eCcEv9dfJAabVcc0cXMN5hybU1-jUVWDVPwmKW9JpkrYDCsRT.jpg?r=b84",category:"Series",description:"A college student moves to a coastal town and gets roped into the wild antics of the local diving club.",isNew:!1,seasons:[{season:1,episodes:[{id:1,title:"Deep Blue",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WeAreGoingOnBullrun.mp4"}]}]},{id:6,title:"Haikyuu!!",image:"https://wallpapercave.com/wp/wp2490697.jpg",category:"Series",description:"Determined to be like the volleyball championship's star player, Shouyou Hinata joins his school's volleyball club.",isNew:!0,seasons:[{season:1,episodes:[{id:1,title:"The End and the Beginning",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4"}]}]},{id:7,title:"Hataraku Maou-sama!",image:"https://occ-0-8407-90.1.nflxso.net/dnm/api/v6/E8vDc_W8CLv7-yMQu8KMEC7Rrr8/AAAABZdwu5tMoMtEiUI1MxM4TG3MAWZ2SUr81LCiATRnRKqrJz7Xj2Wi1oHxHnkMnRqLgjnh-UlzxSYo9jaDRsBCwQk23dgE5kmyoG7S.jpg?r=072",category:"Series",description:"Stripped of his powers and stranded in modern-day Tokyo, the Demon Lord Satan takes a part-time job at a fast food joint.",isNew:!1,seasons:[{season:1,episodes:[{id:1,title:"Devil in Tokyo",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"}]}]},{id:8,title:"KonoSuba",image:"https://images.immediate.co.uk/production/volatile/sites/3/2021/07/KonoSube-3d1a589.jpg?resize=1200%2C630",category:"Series",description:"After a traffic accident, Kazuma Sato's disappointingly brief life was supposed to be over, but he wakes up to see a beautiful girl before him.",isNew:!1,seasons:[{season:1,episodes:[{id:1,title:"This Self Proclaimed Goddess",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"}]}]},{id:9,title:"Mikadono Sanshimai wa Angai, Choroi!",image:"https://images.plex.tv/photo?size=large-1920&scale=1&url=https%3A%2F%2Fimage.tmdb.org%2Ft%2Fp%2Foriginal%2FwXtS2qD4wXN1xK6IAc4jMPIsnSl.jpg",category:"Series",description:"Yuu Ayase is an ordinary high school boy who ends up living with the three beautiful Mikadono sisters.",isNew:!0,seasons:[{season:1,episodes:[{id:1,title:"Episode 1",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4"}]}]},{id:10,title:"Kusuriya no Hitorigoto",description:"Maomao, a pharmacist from the pleasure district, finds herself kidnapped and sold to the imperial palace. Her quiet life ends when she uses her skills to solve medical mysteries in the court.",image:"https://image.tmdb.org/t/p/original/lJuQBW4w1x6NgD514xDPqZ2Lbpz.jpg",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",genre:"Mystery, Slice of Life",category:"Series",isNew:!0,featured:!0,seasons:[{season:1,episodes:[{id:1,title:"Maomao",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4"},{id:2,title:"Cold-hearted Apothecary",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4"},{id:3,title:"The Ghost",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4"}]}]},{id:11,title:"My Love for Yamada-kun at Lv999",image:"https://image.tmdb.org/t/p/original/4U5cJTbXBzW1WxDUZErqU3VNNWl.jpg",category:"Series",description:"After her boyfriend cheats on her with another girl he met in-game, Akane Kinoshita learns the hard way that gamer boyfriends can be just as bad as the real thing.",isNew:!0,seasons:[{season:1,episodes:[{id:1,title:"Why are you here?",duration:"24m",video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4"}]}]},{id:12,title:"Tensei Shitara Slime Datta Ken Movie: Guren no Kizuna-hen",image:"https://www.animenewsnetwork.com/thumbnails/crop1200x630gFK/cms/review/192259/tensuramovie.jpg",category:"Movie",description:"A long-running conspiracy swirls over a mysterious power wielding queen in Raja, a small country west of Tempest.",isNew:!0,video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4",genre:"Fantasy, Action"},{id:13,title:"KonoSuba: Legend of Crimson",image:"https://occ-0-8407-90.1.nflxso.net/dnm/api/v6/6AYY37jfdO6hpXcMjf9Yu5cnmO0/AAAABVoB0OqaM6FeBmTrQK93Co7qOlD-G2zCqsqu3JjoixE7Jv6oh2OyzHcmTBkiDMXaamH0weeafe-ZsbWcfbfNg-rEORBPZp5ZWKWM.jpg?r=504",category:"Movie",description:"Kazuma's party travels to the Crimson Demon village to save it from a threat.",isNew:!1,video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",genre:"Comedy, Fantasy"},{id:14,title:"Haikyuu!! Movie: Gomisuteba no Kessen",image:"https://static0.polygonimages.com/wordpress/wp-content/uploads/chorus/uploads/chorus_asset/file/25460586/HAIKYU___The_Dumpster_Battle___Photo_1.jpeg?w=1600&h=900&fit=crop",category:"Movie",description:"Shouyou Hinata and Tobio Kageyama's Karasuno High School volleyball team faces off against their rivals, Nekoma High.",isNew:!0,video:"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WeAreGoingOnBullrun.mp4",genre:"Sports, Shonen"}],b4=()=>{const[r,e]=L.useState(null),n=Lh.filter(s=>s.category==="Series");return b.jsxs(b.Fragment,{children:[b.jsx(vs,{}),b.jsxs("div",{className:"w-full text-white pt-[100px]",children:[b.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"TV Series"}),b.jsx(or,{title:"All Series",animes:n,onPlay:e})]}),r&&b.jsx(Do,{anime:r,onClose:()=>e(null)})]})},S4=()=>{const[r,e]=L.useState(null),n=Lh.filter(s=>s.category==="Movie");return b.jsxs(b.Fragment,{children:[b.jsx(vs,{}),b.jsxs("div",{className:"w-full text-white pt-[100px]",children:[b.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"Movies"}),b.jsx(or,{title:"All Movies",animes:n,onPlay:e})]}),r&&b.jsx(Do,{anime:r,onClose:()=>e(null)})]})},A4=()=>{const[r,e]=L.useState(null),n=Lh.filter(s=>s.isNew);return b.jsxs(b.Fragment,{children:[b.jsx(vs,{}),b.jsxs("div",{className:"w-full text-white pt-[100px]",children:[b.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"New & Popular"}),b.jsx(or,{title:"New Releases",animes:n,onPlay:e}),b.jsx(or,{title:"Trending Now",animes:Lh,onPlay:e})]}),r&&b.jsx(Do,{anime:r,onClose:()=>e(null)})]})},w4=()=>{const[r,e]=L.useState(null),[n,s]=L.useState([]),{user:o}=_r();return L.useEffect(()=>{(async()=>{if(o?.email){const m=(await cf(af(Pi,"users",o.email,"savedShows"))).docs.map(p=>p.data());s(m)}})()},[o,r]),b.jsxs(b.Fragment,{children:[b.jsx(vs,{}),b.jsxs("div",{className:"w-full text-white pt-[100px]",children:[b.jsx("h1",{className:"text-3xl font-bold mb-8 px-[4%]",children:"My List"}),n.length>0?b.jsx(or,{title:"Saved Shows",animes:n,onPlay:e}):b.jsx("p",{className:"text-gray-500 px-[4%]",children:"You haven't added anything to your list yet."})]}),r&&b.jsx(Do,{anime:r,onClose:()=>e(null)})]})},R4=()=>{const[r]=Ew(),e=r.get("q"),[n,s]=L.useState([]),{animeList:o}=ff();return L.useEffect(()=>{if(e&&o.length>0){const u=o.filter(f=>f.title.toLowerCase().includes(e.toLowerCase()));s(u)}else s([])},[e]),b.jsxs("div",{className:"w-full min-h-screen bg-black text-white",children:[b.jsx(vs,{}),b.jsxs("div",{className:"pt-[100px] px-[4%]",children:[b.jsxs("h2",{className:"text-2xl font-bold mb-6",children:['Results for "',e,'"']}),n.length>0?b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(u=>b.jsx(hn,{to:`/title/${u.id}`,children:b.jsxs("div",{className:"relative group cursor-pointer transition-transform duration-300 hover:scale-105 hover:z-10",children:[b.jsx("img",{src:u.image,alt:u.title,className:"w-full h-auto rounded block"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:b.jsx("p",{className:"text-white font-bold text-center px-2",children:u.title})})]})},u.id))}):b.jsx("p",{className:"text-gray-400",children:"No matches found."})]})]})},C4=()=>{const{id:r}=x1(),{user:e}=_r(),{animeList:n,featuredAnime:s}=ff(),[o,u]=L.useState(null),[f,m]=L.useState(!1),[p,g]=L.useState(null),[E,T]=L.useState(!1);L.useEffect(()=>{if(!n||n.length===0)return;const k=n.find($=>$.id.toString()===r);k?u(k):s&&s.id.toString()===r&&u(s),window.scrollTo(0,0),(async()=>{if(e?.email&&r){const $=To(Pi,"users",e.email,"savedShows",r);(await kh($)).exists()?T(!0):T(!1)}})()},[r,n,s,e]);const w=async()=>{if(!e?.email||!o)return;const k=o.id.toString(),G=To(Pi,"users",e.email,"savedShows",k);E?(await jD(G),T(!1)):(await ig(G,{id:k,title:o.title,image:o.image,category:o.category||"Series"}),T(!0))};return o?b.jsxs("div",{className:"bg-[#141414] min-h-screen text-white",children:[b.jsx(vs,{}),b.jsxs("div",{className:"relative w-full h-[70vh]",children:[b.jsx("div",{className:"absolute w-full h-full bg-gradient-to-r from-black via-transparent to-transparent z-10"}),b.jsx("div",{className:"absolute w-full h-full bg-gradient-to-b from-transparent via-[#141414]/50 to-[#141414] z-10 bottom-0"}),b.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"}),b.jsxs("div",{className:"absolute top-[30%] lg:top-[40%] pl-[4%] z-20 max-w-[90%] md:max-w-[50%]",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 drop-shadow-lg",children:o.title}),b.jsxs("div",{className:"flex items-center gap-4 text-gray-300 mb-6 text-sm md:text-base",children:[b.jsx("span",{className:"text-green-400 font-bold",children:"98% Match"}),b.jsx("span",{children:"2024"}),b.jsx("span",{className:"border border-gray-500 px-2 py-0.5 text-xs",children:"16+"}),b.jsx("span",{children:o.category==="Movie"?"1h 55m":"1 Season"})]}),b.jsxs("div",{className:"flex gap-4 mb-4",children:[b.jsxs("button",{onClick:()=>{o.category==="Movie"?g(null):o.seasons&&o.seasons[0]?.episodes[0]&&g(o.seasons[0].episodes[0]),m(!0)},className:"bg-[var(--primary)] text-black px-6 py-2 rounded font-bold flex items-center gap-2 hover:bg-opacity-80 transition",children:[b.jsx(mh,{size:24,fill:"black"})," Play"]}),b.jsxs("button",{onClick:w,className:"bg-[#9c7880]/90 text-white px-6 py-2 rounded font-bold flex items-center gap-2 hover:bg-[#8a6a72] transition",children:[E?b.jsx(n4,{size:24}):b.jsx(h4,{size:24}),E?"In List":"My List"]})]}),b.jsx("p",{className:"text-gray-300 text-sm md:text-lg drop-shadow-md",children:o.description||"Join the adventure in this critically acclaimed series."})]})]}),b.jsxs("div",{className:"px-[4%] py-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsx("div",{className:"md:col-span-2",children:o.category==="Movie"?b.jsxs("div",{className:"mt-4",children:[b.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Watch Movie"}),b.jsxs("div",{className:"flex items-center gap-6 p-6 bg-[#222] hover:bg-[#333] rounded-lg cursor-pointer transition group border border-gray-800",onClick:()=>{g(null),m(!0)},children:[b.jsxs("div",{className:"relative w-48 h-28 bg-gray-700 rounded overflow-hidden flex-shrink-0 shadow-lg",children:[b.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-transparent transition",children:b.jsx("div",{className:"bg-white/20 p-3 rounded-full backdrop-blur-sm group-hover:scale-110 transition",children:b.jsx(mh,{size:30,className:"text-white",fill:"white"})})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:o.title}),b.jsx("p",{className:"text-gray-400 text-sm mb-2",children:o.genre}),b.jsx("span",{className:"text-sm font-semibold bg-[var(--primary)] px-2 py-1 rounded text-black",children:"Full Movie"})]})]})]}):o.seasons?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex justify-between items-end mb-6 border-b border-gray-700 pb-2",children:[b.jsx("h3",{className:"text-2xl font-bold",children:"Episodes"}),b.jsxs("span",{className:"text-lg text-gray-400",children:[o.seasons.length," Season",o.seasons.length>1?"s":""]})]}),b.jsx("div",{className:"space-y-4",children:o.seasons[0].episodes.map(k=>b.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-[#333] rounded cursor-pointer transition group",onClick:()=>{g(k),m(!0)},children:[b.jsx("span",{className:"text-2xl text-gray-500 font-bold w-6",children:k.id}),b.jsxs("div",{className:"relative w-32 h-20 bg-gray-700 rounded overflow-hidden flex-shrink-0",children:[b.jsx("img",{src:o.image,alt:`Ep ${k.id}`,className:"w-full h-full object-cover opacity-70 group-hover:opacity-100"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx(mh,{size:20,className:"invisible group-hover:visible",fill:"white"})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-sm md:text-base",children:k.title}),b.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:k.duration})]})]},k.id))})]}):null}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500 block text-sm",children:"Genre:"}),b.jsx("span",{className:"text-white text-sm",children:o.genre||"Anime"})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500 block text-sm",children:"Cast:"}),b.jsx("span",{className:"text-white text-sm",children:"Voice Actor 1, Voice Actor 2"})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500 block text-sm",children:"Maturity Rating:"}),b.jsx("span",{className:"border border-white/40 px-2 py-0.5 text-xs inline-block mt-1",children:"TV-MA"}),b.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Violence, Language"})]})]})]}),f&&b.jsx(Do,{anime:o,onClose:()=>{m(!1),g(null)},videoUrl:p?.video})]}):b.jsx("div",{className:"text-white pt-20",children:"Loading..."})},Jr=({children:r})=>{const{user:e,loading:n}=_r();return n?null:e?r:b.jsx(q1,{to:"/login"})};function I4(){return b.jsx("div",{className:"app",children:b.jsx(qD,{children:b.jsx(FD,{children:b.jsx(pw,{children:b.jsxs(G1,{children:[b.jsx(ei,{path:"/login",element:b.jsx(v4,{})}),b.jsx(ei,{path:"/signup",element:b.jsx(E4,{})}),b.jsx(ei,{path:"/",element:b.jsx(Jr,{children:b.jsx(_4,{})})}),b.jsx(ei,{path:"/series",element:b.jsx(Jr,{children:b.jsx(b4,{})})}),b.jsx(ei,{path:"/movies",element:b.jsx(Jr,{children:b.jsx(S4,{})})}),b.jsx(ei,{path:"/new",element:b.jsx(Jr,{children:b.jsx(A4,{})})}),b.jsx(ei,{path:"/mylist",element:b.jsx(Jr,{children:b.jsx(w4,{})})}),b.jsx(ei,{path:"/search",element:b.jsx(Jr,{children:b.jsx(R4,{})})}),b.jsx(ei,{path:"/title/:id",element:b.jsx(Jr,{children:b.jsx(C4,{})})}),b.jsx(ei,{path:"/account",element:b.jsx(Jr,{children:b.jsx(T4,{})})})]})})})})})}WA.createRoot(document.getElementById("root")).render(b.jsx(L.StrictMode,{children:b.jsx(I4,{})}));export{Lh as a,Pi as b,To as d,D4 as w};
