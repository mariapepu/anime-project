(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function ZA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var pm={exports:{}},jl={};var Vv;function JA(){if(Vv)return jl;Vv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var Pv;function ew(){return Pv||(Pv=1,pm.exports=JA()),pm.exports}var T=ew(),gm={exports:{}},Se={};var Lv;function tw(){if(Lv)return Se;Lv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),w=Symbol.iterator;function O(P){return P===null||typeof P!="object"?null:(P=w&&P[w]||P["@@iterator"],typeof P=="function"?P:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Q=Object.assign,z={};function ne(P,Y,re){this.props=P,this.context=Y,this.refs=z,this.updater=re||U}ne.prototype.isReactComponent={},ne.prototype.setState=function(P,Y){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,Y,"setState")},ne.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function ie(){}ie.prototype=ne.prototype;function W(P,Y,re){this.props=P,this.context=Y,this.refs=z,this.updater=re||U}var ue=W.prototype=new ie;ue.constructor=W,Q(ue,ne.prototype),ue.isPureReactComponent=!0;var _e=Array.isArray;function pe(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function x(P,Y,re){var ae=re.ref;return{$$typeof:r,type:P,key:Y,ref:ae!==void 0?ae:null,props:re}}function V(P,Y){return x(P.type,Y,P.props)}function D(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function k(P){var Y={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(re){return Y[re]})}var C=/\/+/g;function ze(P,Y){return typeof P=="object"&&P!==null&&P.key!=null?k(""+P.key):Y.toString(36)}function ht(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(pe,pe):(P.status="pending",P.then(function(Y){P.status==="pending"&&(P.status="fulfilled",P.value=Y)},function(Y){P.status==="pending"&&(P.status="rejected",P.reason=Y)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function G(P,Y,re,ae,he){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var Ue=!1;if(P===null)Ue=!0;else switch(xe){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(P.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=P._init,G(Ue(P._payload),Y,re,ae,he)}}if(Ue)return he=he(P),Ue=ae===""?"."+ze(P,0):ae,_e(he)?(re="",Ue!=null&&(re=Ue.replace(C,"$&/")+"/"),G(he,Y,re,"",function(Ss){return Ss})):he!=null&&(D(he)&&(he=V(he,re+(he.key==null||P&&P.key===he.key?"":(""+he.key).replace(C,"$&/")+"/")+Ue)),Y.push(he)),1;Ue=0;var Ot=ae===""?".":ae+":";if(_e(P))for(var st=0;st<P.length;st++)ae=P[st],xe=Ot+ze(ae,st),Ue+=G(ae,Y,re,xe,he);else if(st=O(P),typeof st=="function")for(P=st.call(P),st=0;!(ae=P.next()).done;)ae=ae.value,xe=Ot+ze(ae,st++),Ue+=G(ae,Y,re,xe,he);else if(xe==="object"){if(typeof P.then=="function")return G(ht(P),Y,re,ae,he);throw Y=String(P),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(P,Y,re){if(P==null)return P;var ae=[],he=0;return G(P,ae,"","",function(xe){return Y.call(re,xe,he++)}),ae}function me(P){if(P._status===-1){var Y=P._result;Y=Y(),Y.then(function(re){(P._status===0||P._status===-1)&&(P._status=1,P._result=re)},function(re){(P._status===0||P._status===-1)&&(P._status=2,P._result=re)}),P._status===-1&&(P._status=0,P._result=Y)}if(P._status===1)return P._result.default;throw P._result}var Le=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},He={map:oe,forEach:function(P,Y,re){oe(P,function(){Y.apply(this,arguments)},re)},count:function(P){var Y=0;return oe(P,function(){Y++}),Y},toArray:function(P){return oe(P,function(Y){return Y})||[]},only:function(P){if(!D(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Se.Activity=b,Se.Children=He,Se.Component=ne,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=W,Se.StrictMode=s,Se.Suspense=p,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Se.__COMPILER_RUNTIME={__proto__:null,c:function(P){return I.H.useMemoCache(P)}},Se.cache=function(P){return function(){return P.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(P,Y,re){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ae=Q({},P.props),he=P.key;if(Y!=null)for(xe in Y.key!==void 0&&(he=""+Y.key),Y)!R.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(ae[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)ae.children=re;else if(1<xe){for(var Ue=Array(xe),Ot=0;Ot<xe;Ot++)Ue[Ot]=arguments[Ot+2];ae.children=Ue}return x(P.type,he,ae)},Se.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Se.createElement=function(P,Y,re){var ae,he={},xe=null;if(Y!=null)for(ae in Y.key!==void 0&&(xe=""+Y.key),Y)R.call(Y,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(he[ae]=Y[ae]);var Ue=arguments.length-2;if(Ue===1)he.children=re;else if(1<Ue){for(var Ot=Array(Ue),st=0;st<Ue;st++)Ot[st]=arguments[st+2];he.children=Ot}if(P&&P.defaultProps)for(ae in Ue=P.defaultProps,Ue)he[ae]===void 0&&(he[ae]=Ue[ae]);return x(P,xe,he)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(P){return{$$typeof:m,render:P}},Se.isValidElement=D,Se.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:me}},Se.memo=function(P,Y){return{$$typeof:g,type:P,compare:Y===void 0?null:Y}},Se.startTransition=function(P){var Y=I.T,re={};I.T=re;try{var ae=P(),he=I.S;he!==null&&he(re,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(pe,Le)}catch(xe){Le(xe)}finally{Y!==null&&re.types!==null&&(Y.types=re.types),I.T=Y}},Se.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Se.use=function(P){return I.H.use(P)},Se.useActionState=function(P,Y,re){return I.H.useActionState(P,Y,re)},Se.useCallback=function(P,Y){return I.H.useCallback(P,Y)},Se.useContext=function(P){return I.H.useContext(P)},Se.useDebugValue=function(){},Se.useDeferredValue=function(P,Y){return I.H.useDeferredValue(P,Y)},Se.useEffect=function(P,Y){return I.H.useEffect(P,Y)},Se.useEffectEvent=function(P){return I.H.useEffectEvent(P)},Se.useId=function(){return I.H.useId()},Se.useImperativeHandle=function(P,Y,re){return I.H.useImperativeHandle(P,Y,re)},Se.useInsertionEffect=function(P,Y){return I.H.useInsertionEffect(P,Y)},Se.useLayoutEffect=function(P,Y){return I.H.useLayoutEffect(P,Y)},Se.useMemo=function(P,Y){return I.H.useMemo(P,Y)},Se.useOptimistic=function(P,Y){return I.H.useOptimistic(P,Y)},Se.useReducer=function(P,Y,re){return I.H.useReducer(P,Y,re)},Se.useRef=function(P){return I.H.useRef(P)},Se.useState=function(P){return I.H.useState(P)},Se.useSyncExternalStore=function(P,Y,re){return I.H.useSyncExternalStore(P,Y,re)},Se.useTransition=function(){return I.H.useTransition()},Se.version="19.2.1",Se}var kv;function fp(){return kv||(kv=1,gm.exports=tw()),gm.exports}var L=fp();const nw=ZA(L);var ym={exports:{}},zl={},_m={exports:{}},vm={};var Uv;function iw(){return Uv||(Uv=1,(function(r){function e(G,oe){var me=G.length;G.push(oe);e:for(;0<me;){var Le=me-1>>>1,He=G[Le];if(0<o(He,oe))G[Le]=oe,G[me]=He,me=Le;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var oe=G[0],me=G.pop();if(me!==oe){G[0]=me;e:for(var Le=0,He=G.length,P=He>>>1;Le<P;){var Y=2*(Le+1)-1,re=G[Y],ae=Y+1,he=G[ae];if(0>o(re,me))ae<He&&0>o(he,re)?(G[Le]=he,G[ae]=me,Le=ae):(G[Le]=re,G[Y]=me,Le=Y);else if(ae<He&&0>o(he,me))G[Le]=he,G[ae]=me,Le=ae;else break e}}return oe}function o(G,oe){var me=G.sortIndex-oe.sortIndex;return me!==0?me:G.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,w=3,O=!1,U=!1,Q=!1,z=!1,ne=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ue(G){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=G)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function _e(G){if(Q=!1,ue(G),!U)if(n(p)!==null)U=!0,pe||(pe=!0,k());else{var oe=n(g);oe!==null&&ht(_e,oe.startTime-G)}}var pe=!1,I=-1,R=5,x=-1;function V(){return z?!0:!(r.unstable_now()-x<R)}function D(){if(z=!1,pe){var G=r.unstable_now();x=G;var oe=!0;try{e:{U=!1,Q&&(Q=!1,ie(I),I=-1),O=!0;var me=w;try{t:{for(ue(G),b=n(p);b!==null&&!(b.expirationTime>G&&V());){var Le=b.callback;if(typeof Le=="function"){b.callback=null,w=b.priorityLevel;var He=Le(b.expirationTime<=G);if(G=r.unstable_now(),typeof He=="function"){b.callback=He,ue(G),oe=!0;break t}b===n(p)&&s(p),ue(G)}else s(p);b=n(p)}if(b!==null)oe=!0;else{var P=n(g);P!==null&&ht(_e,P.startTime-G),oe=!1}}break e}finally{b=null,w=me,O=!1}oe=void 0}}finally{oe?k():pe=!1}}}var k;if(typeof W=="function")k=function(){W(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ze=C.port2;C.port1.onmessage=D,k=function(){ze.postMessage(null)}}else k=function(){ne(D,0)};function ht(G,oe){I=ne(function(){G(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var me=w;w=oe;try{return G()}finally{w=me}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=w;w=G;try{return oe()}finally{w=me}},r.unstable_scheduleCallback=function(G,oe,me){var Le=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Le+me:Le):me=Le,G){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=me+He,G={id:E++,callback:oe,priorityLevel:G,startTime:me,expirationTime:He,sortIndex:-1},me>Le?(G.sortIndex=me,e(g,G),n(p)===null&&G===n(g)&&(Q?(ie(I),I=-1):Q=!0,ht(_e,me-Le))):(G.sortIndex=He,e(p,G),U||O||(U=!0,pe||(pe=!0,k()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var oe=w;return function(){var me=w;w=oe;try{return G.apply(this,arguments)}finally{w=me}}}})(vm)),vm}var jv;function rw(){return jv||(jv=1,_m.exports=iw()),_m.exports}var Em={exports:{}},$t={};var zv;function sw(){if(zv)return $t;zv=1;var r=fp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},$t.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},$t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},$t.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},$t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},$t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},$t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},$t.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},$t.requestFormReset=function(p){s.d.r(p)},$t.unstable_batchedUpdates=function(p,g){return p(g)},$t.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},$t.useFormStatus=function(){return f.H.useHostTransitionStatus()},$t.version="19.2.1",$t}var Bv;function aw(){if(Bv)return Em.exports;Bv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=sw(),Em.exports}var qv;function ow(){if(qv)return zl;qv=1;var r=rw(),e=fp(),n=aw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,w=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Q:return"Fragment";case ne:return"Profiler";case z:return"StrictMode";case _e:return"Suspense";case pe:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case W:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return i=t.displayName||null,i!==null?i:ze(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ze(t(i))}catch{}}return null}var ht=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Le=[],He=-1;function P(t){return{current:t}}function Y(t){0>He||(t.current=Le[He],Le[He]=null,He--)}function re(t,i){He++,Le[He]=t.current,t.current=i}var ae=P(null),he=P(null),xe=P(null),Ue=P(null);function Ot(t,i){switch(re(xe,i),re(he,t),re(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?iv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=iv(i),t=rv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(ae),re(ae,t)}function st(){Y(ae),Y(he),Y(xe)}function Ss(t){t.memoizedState!==null&&re(Ue,t);var i=ae.current,a=rv(i,t.type);i!==a&&(re(he,t),re(ae,a))}function ya(t){he.current===t&&(Y(ae),Y(he)),Ue.current===t&&(Y(Ue),Pl._currentValue=me)}var _a,va;function li(t){if(_a===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);_a=i&&i[1]||"",va=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_a+t+va}var Po=!1;function As(t,i){if(!t||Po)return"";Po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch($){var F=$}Reflect.construct(t,[],ee)}else{try{ee.call()}catch($){F=$}t.call(ee.prototype)}}else{try{throw Error()}catch($){F=$}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch($){if($&&F&&typeof $.stack=="string")return[$.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),H=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===H.length)for(l=N.length-1,h=H.length-1;1<=l&&0<=h&&N[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==H[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Po=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function Lo(t,i){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return As(t.type,!1);case 11:return As(t.type.render,!1);case 1:return As(t.type,!0);case 31:return li("Activity");default:return""}}function ko(t){try{var i="",a=null;do i+=Lo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Mt=r.unstable_scheduleCallback,Sr=r.unstable_cancelCallback,yf=r.unstable_shouldYield,Cu=r.unstable_requestPaint,en=r.unstable_now,ws=r.unstable_getCurrentPriorityLevel,Uo=r.unstable_ImmediatePriority,jo=r.unstable_UserBlockingPriority,Ar=r.unstable_NormalPriority,_f=r.unstable_LowPriority,Iu=r.unstable_IdlePriority,Nu=r.log,Du=r.unstable_setDisableYieldValue,Gn=null,zt=null;function In(t){if(typeof Nu=="function"&&Du(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Gn,t)}catch{}}var pt=Math.clz32?Math.clz32:Mu,Ou=Math.log,Ea=Math.LN2;function Mu(t){return t>>>=0,t===0?32:31-(Ou(t)/Ea|0)|0}var ui=256,Rs=262144,Tt=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ci(l):(_&=S,_!==0?h=ci(_):a||(a=S&~t,a!==0&&(h=ci(a))))):(S=l&~d,S!==0?h=ci(S):_!==0?h=ci(_):a||(a=l&~t,a!==0&&(h=ci(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function vf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function xs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ef(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-pt(a),ee=1<<X;S[X]=0,N[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var $=F[X];$!==null&&($.lane&=-536870913)}a&=~ee}l!==0&&Cs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Cs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-pt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function zo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-pt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Bo(t,i){var a=i&-i;return a=(a&42)!==0?1:Is(a),(a&(t.suspendedLanes|i))!==0?0:a}function Is(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:xv(t.type))}function Kn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Yn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Yn,Lt="__reactProps$"+Yn,di="__reactContainer$"+Yn,Ta="__reactEvents$"+Yn,Tf="__reactListeners$"+Yn,Lu="__reactHandles$"+Yn,ku="__reactResources$"+Yn,mi="__reactMarker$"+Yn;function ba(t){delete t[bt],delete t[Lt],delete t[Ta],delete t[Tf],delete t[Lu]}function pi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=hv(t);t!==null;){if(a=t[bt])return a;t=hv(t)}return i}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[bt]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gi(t){var i=t[ku];return i||(i=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[mi]=!0}var qo=new Set,Ho={};function yi(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(Ho[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Go={},Qo={};function Uu(t){return Et.call(Qo,t)?!0:Et.call(Go,t)?!1:Fo.test(t)?Qo[t]=!0:(Go[t]=!0,!1)}function Sa(t,i,a){if(Uu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ko(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=wr(t)?"checked":"value";t._valueTracker=Ko(t,i,""+t[i])}}function Ns(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=wr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ds=/[\n"\\]/g;function an(t){return t.replace(Ds,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Aa(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Yo(t,_,kt(i)):a!=null?Yo(t,_,kt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+kt(S):t.removeAttribute("name")}function ju(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+kt(a):"",i=i!=null?""+kt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Yo(t,i,a){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Rr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function zu(t,i,a){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+kt(a):""}function xr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function on(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Bu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Xo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&$o(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&$o(t,d,i[d])}function wa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(t){return Cr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var Wo=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ir=null,Ei=null;function Os(t){var i=Nn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));Aa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ns(l)}break e;case"textarea":zu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Rr(t,!!a.multiple,i,!1)}}}var xa=!1;function Nr(t,i,a){if(xa)return t(i,a);xa=!0;try{var l=t(i);return l}finally{if(xa=!1,(Ir!==null||Ei!==null)&&(Pc(),Ir&&(i=Ir,t=Ei,Ei=Ir=null,Os(i),t)))for(i=0;i<t.length;i++)Os(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(On)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Ms=!1}var Ti=null,Zo=null,Vs=null;function Jo(){if(Vs)return Vs;var t,i=Zo,a=i.length,l,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Vs=h.slice(t,1<l?1-l:void 0)}function Ps(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Hi(){return!0}function Wn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Hi:Wn,this.isPropagationStopped=Wn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),i}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Bt(Fi),Dr=b({},Fi,{view:0,detail:0}),el=Bt(Dr),Or,Ca,Si,Ia=b({},Dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Or=t.screenX-Si.screenX,Ca=t.screenY-Si.screenY):Ca=Or=0,Si=t),Or)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),tl=Bt(Ia),Ls=b({},Ia,{dataTransfer:0}),Hu=Bt(Ls),Fu=b({},Dr,{relatedTarget:0}),ks=Bt(Fu),nl=b({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Bt(nl),Na=b({},Fi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Qu=Bt(Na),Ku=b({},Fi,{data:0}),Ai=Bt(Ku),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Xu[t])?!!i[t]:!1}function Mr(){return Wu}var tn=b({},Dr,{key:function(t){if(t.key){var i=Yu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ps(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(t){return t.type==="keypress"?Ps(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ps(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=Bt(tn),Ju=b({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Bt(Ju),c=b({},Dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),y=Bt(c),v=b({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),B=b({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Bt(B),se=b({},Fi,{newState:0,oldState:0}),we=Bt(se),gt=[9,13,27,32],Fe=On&&"CompositionEvent"in window,at=null;On&&"documentMode"in document&&(at=document.documentMode);var Mn=On&&"TextEvent"in window&&!at,wi=On&&(!Fe||at&&8<at&&11>=at),Zn=" ",Jn=!1;function Us(t,i){switch(t){case"keyup":return gt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Da(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Oa=!1;function bS(t,i){switch(t){case"compositionend":return Da(i);case"keypress":return i.which!==32?null:(Jn=!0,Zn);case"textInput":return t=i.data,t===Zn&&Jn?null:t;default:return null}}function SS(t,i){if(Oa)return t==="compositionend"||!Fe&&Us(t,i)?(t=Jo(),Vs=Zo=Ti=null,Oa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var AS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!AS[t.type]:i==="textarea"}function pg(t,i,a,l){Ir?Ei?Ei.push(l):Ei=[l]:Ir=l,i=qc(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var il=null,rl=null;function wS(t){W_(t,0)}function ec(t){var i=_n(t);if(Ns(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(On){var bf;if(On){var Sf="oninput"in document;if(!Sf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),Sf=typeof _g.oninput=="function"}bf=Sf}else bf=!1;yg=bf&&(!document.documentMode||9<document.documentMode)}function vg(){il&&(il.detachEvent("onpropertychange",Eg),rl=il=null)}function Eg(t){if(t.propertyName==="value"&&ec(rl)){var i=[];pg(i,rl,t,Dn(t)),Nr(wS,i)}}function RS(t,i,a){t==="focusin"?(vg(),il=i,rl=a,il.attachEvent("onpropertychange",Eg)):t==="focusout"&&vg()}function xS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(rl)}function CS(t,i){if(t==="click")return ec(i)}function IS(t,i){if(t==="input"||t==="change")return ec(i)}function NS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:NS;function sl(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!En(t[h],i[h]))return!1}return!0}function Tg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bg(t,i){var a=Tg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tg(a)}}function Sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vi(t.document)}return i}function Af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var DS=On&&"documentMode"in document&&11>=document.documentMode,Ma=null,wf=null,al=null,Rf=!1;function wg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Rf||Ma==null||Ma!==vi(l)||(l=Ma,"selectionStart"in l&&Af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=qc(wf,"onSelect"),0<l.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ma)))}function js(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Va={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},xf={},Rg={};On&&(Rg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function zs(t){if(xf[t])return xf[t];if(!Va[t])return t;var i=Va[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Rg)return xf[t]=i[a];return t}var xg=zs("animationend"),Cg=zs("animationiteration"),Ig=zs("animationstart"),OS=zs("transitionrun"),MS=zs("transitionstart"),VS=zs("transitioncancel"),Ng=zs("transitionend"),Dg=new Map,Cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cf.push("scrollEnd");function ei(t,i){Dg.set(t,i),yi(i,[t])}var tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],Pa=0,If=0;function nc(){for(var t=Pa,i=If=Pa=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Og(a,h,d)}}function ic(t,i,a,l){Vn[Pa++]=t,Vn[Pa++]=i,Vn[Pa++]=a,Vn[Pa++]=l,If|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nf(t,i,a,l){return ic(t,i,a,l),rc(t)}function Bs(t,i){return ic(t,null,null,i),rc(t)}function Og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-pt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function rc(t){if(50<Cl)throw Cl=0,jd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var La={};function PS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new PS(t,i,a,l)}function Df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Qi(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Mg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function sc(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Df(t)&&(_=1);else if(typeof t=="string")_=zA(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=Tn(31,a,i,h),t.elementType=x,t.lanes=d,t;case Q:return qs(a.children,h,d,i);case z:_=8,h|=24;break;case ne:return t=Tn(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case _e:return t=Tn(13,a,i,h),t.elementType=_e,t.lanes=d,t;case pe:return t=Tn(19,a,i,h),t.elementType=pe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:_=10;break e;case ie:_=9;break e;case ue:_=11;break e;case I:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function qs(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function Of(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function Vg(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function Mf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Pg=new WeakMap;function Pn(t,i){if(typeof t=="object"&&t!==null){var a=Pg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ko(i)},Pg.set(t,i),i)}return{value:t,source:i,stack:ko(i)}}var ka=[],Ua=0,ac=null,ol=0,Ln=[],kn=0,Vr=null,Ri=1,xi="";function Ki(t,i){ka[Ua++]=ol,ka[Ua++]=ac,ac=t,ol=i}function Lg(t,i,a){Ln[kn++]=Ri,Ln[kn++]=xi,Ln[kn++]=Vr,Vr=t;var l=Ri;t=xi;var h=32-pt(l)-1;l&=~(1<<h),a+=1;var d=32-pt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ri=1<<32-pt(i)+h|a<<h|l,xi=d+t}else Ri=1<<d|a<<h|l,xi=t}function Vf(t){t.return!==null&&(Ki(t,1),Lg(t,1,0))}function Pf(t){for(;t===ac;)ac=ka[--Ua],ka[Ua]=null,ol=ka[--Ua],ka[Ua]=null;for(;t===Vr;)Vr=Ln[--kn],Ln[kn]=null,xi=Ln[--kn],Ln[kn]=null,Ri=Ln[--kn],Ln[kn]=null}function kg(t,i){Ln[kn++]=Ri,Ln[kn++]=xi,Ln[kn++]=Vr,Ri=i.id,xi=i.overflow,Vr=t}var qt=null,nt=null,ke=!1,Pr=null,Un=!1,Lf=Error(s(519));function Lr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ll(Pn(i,t)),Lf}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ne(Nl[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),ju(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),xr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||tv(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Lr(t,!0)}function jg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:qt=qt.return}}function ja(t){if(t!==qt)return!1;if(!ke)return jg(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&nt&&Lr(t),jg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=cv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));nt=cv(t)}else i===27?(i=nt,Xr(t.type)?(t=sm,sm=null,nt=t):nt=i):nt=qt?zn(t.stateNode.nextSibling):null;return!0}function Hs(){nt=qt=null,ke=!1}function kf(){var t=Pr;return t!==null&&(hn===null?hn=t:hn.push.apply(hn,t),Pr=null),t}function ll(t){Pr===null?Pr=[t]:Pr.push(t)}var Uf=P(null),Fs=null,Yi=null;function kr(t,i,a){re(Uf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Uf.current,Y(Uf)}function jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function zf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),jf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),jf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function za(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&zf(i,t,a,l),i.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Gs(t){Fs=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return zg(Fs,t)}function lc(t,i){return Fs===null&&Gs(t),zg(t,i)}function zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Yi=Yi.next=i;return a}var LS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},kS=r.unstable_scheduleCallback,US=r.unstable_NormalPriority,wt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bf(){return{controller:new LS,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&kS(US,function(){t.controller.abort()})}var cl=null,qf=0,Ba=0,qa=null;function jS(t,i){if(cl===null){var a=cl=[];qf=0,Ba=Gd(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return qf++,i.then(Bg,Bg),i}function Bg(){if(--qf===0&&cl!==null){qa!==null&&(qa.status="fulfilled");var t=cl;cl=null,Ba=0,qa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function zS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=G.S;G.S=function(t,i){w_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jS(t,i),qg!==null&&qg(t,i)};var Qs=P(null);function Hf(){var t=Qs.current;return t!==null?t:et.pooledCache}function uc(t,i){i===null?re(Qs,Qs.current):re(Qs,i.pool)}function Hg(){var t=Hf();return t===null?null:{parent:wt._currentValue,pool:t}}var Ha=Error(s(460)),Ff=Error(s(474)),cc=Error(s(542)),hc={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw Ys=i,Ha}}function Ks(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ys=a,Ha):a}}var Ys=null;function Qg(){if(Ys===null)throw Error(s(459));var t=Ys;return Ys=null,t}function Kg(t){if(t===Ha||t===cc)throw Error(s(483))}var Fa=null,hl=0;function fc(t){var i=hl;return hl+=1,Fa===null&&(Fa=[]),Gg(Fa,t,i)}function fl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function dc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Yg(t){function i(j,M){if(t){var q=j.deletions;q===null?(j.deletions=[M],j.flags|=16):q.push(M)}}function a(j,M){if(!t)return null;for(;M!==null;)i(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function h(j,M){return j=Qi(j,M),j.index=0,j.sibling=null,j}function d(j,M,q){return j.index=q,t?(q=j.alternate,q!==null?(q=q.index,q<M?(j.flags|=67108866,M):q):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function S(j,M,q,Z){return M===null||M.tag!==6?(M=Of(q,j.mode,Z),M.return=j,M):(M=h(M,q),M.return=j,M)}function N(j,M,q,Z){var ge=q.type;return ge===Q?X(j,M,q.props.children,Z,q.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Ks(ge)===M.type)?(M=h(M,q.props),fl(M,q),M.return=j,M):(M=sc(q.type,q.key,q.props,null,j.mode,Z),fl(M,q),M.return=j,M)}function H(j,M,q,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Mf(q,j.mode,Z),M.return=j,M):(M=h(M,q.children||[]),M.return=j,M)}function X(j,M,q,Z,ge){return M===null||M.tag!==7?(M=qs(q,j.mode,Z,ge),M.return=j,M):(M=h(M,q),M.return=j,M)}function ee(j,M,q){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Of(""+M,j.mode,q),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case O:return q=sc(M.type,M.key,M.props,null,j.mode,q),fl(q,M),q.return=j,q;case U:return M=Mf(M,j.mode,q),M.return=j,M;case R:return M=Ks(M),ee(j,M,q)}if(ht(M)||k(M))return M=qs(M,j.mode,q,null),M.return=j,M;if(typeof M.then=="function")return ee(j,fc(M),q);if(M.$$typeof===W)return ee(j,lc(j,M),q);dc(j,M)}return null}function F(j,M,q,Z){var ge=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:S(j,M,""+q,Z);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return q.key===ge?N(j,M,q,Z):null;case U:return q.key===ge?H(j,M,q,Z):null;case R:return q=Ks(q),F(j,M,q,Z)}if(ht(q)||k(q))return ge!==null?null:X(j,M,q,Z,null);if(typeof q.then=="function")return F(j,M,fc(q),Z);if(q.$$typeof===W)return F(j,M,lc(j,q),Z);dc(j,q)}return null}function $(j,M,q,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(q)||null,S(M,j,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return j=j.get(Z.key===null?q:Z.key)||null,N(M,j,Z,ge);case U:return j=j.get(Z.key===null?q:Z.key)||null,H(M,j,Z,ge);case R:return Z=Ks(Z),$(j,M,q,Z,ge)}if(ht(Z)||k(Z))return j=j.get(q)||null,X(M,j,Z,ge,null);if(typeof Z.then=="function")return $(j,M,q,fc(Z),ge);if(Z.$$typeof===W)return $(j,M,q,lc(M,Z),ge);dc(M,Z)}return null}function fe(j,M,q,Z){for(var ge=null,Be=null,de=M,Ce=M=0,Oe=null;de!==null&&Ce<q.length;Ce++){de.index>Ce?(Oe=de,de=null):Oe=de.sibling;var qe=F(j,de,q[Ce],Z);if(qe===null){de===null&&(de=Oe);break}t&&de&&qe.alternate===null&&i(j,de),M=d(qe,M,Ce),Be===null?ge=qe:Be.sibling=qe,Be=qe,de=Oe}if(Ce===q.length)return a(j,de),ke&&Ki(j,Ce),ge;if(de===null){for(;Ce<q.length;Ce++)de=ee(j,q[Ce],Z),de!==null&&(M=d(de,M,Ce),Be===null?ge=de:Be.sibling=de,Be=de);return ke&&Ki(j,Ce),ge}for(de=l(de);Ce<q.length;Ce++)Oe=$(de,j,Ce,q[Ce],Z),Oe!==null&&(t&&Oe.alternate!==null&&de.delete(Oe.key===null?Ce:Oe.key),M=d(Oe,M,Ce),Be===null?ge=Oe:Be.sibling=Oe,Be=Oe);return t&&de.forEach(function(ts){return i(j,ts)}),ke&&Ki(j,Ce),ge}function ve(j,M,q,Z){if(q==null)throw Error(s(151));for(var ge=null,Be=null,de=M,Ce=M=0,Oe=null,qe=q.next();de!==null&&!qe.done;Ce++,qe=q.next()){de.index>Ce?(Oe=de,de=null):Oe=de.sibling;var ts=F(j,de,qe.value,Z);if(ts===null){de===null&&(de=Oe);break}t&&de&&ts.alternate===null&&i(j,de),M=d(ts,M,Ce),Be===null?ge=ts:Be.sibling=ts,Be=ts,de=Oe}if(qe.done)return a(j,de),ke&&Ki(j,Ce),ge;if(de===null){for(;!qe.done;Ce++,qe=q.next())qe=ee(j,qe.value,Z),qe!==null&&(M=d(qe,M,Ce),Be===null?ge=qe:Be.sibling=qe,Be=qe);return ke&&Ki(j,Ce),ge}for(de=l(de);!qe.done;Ce++,qe=q.next())qe=$(de,j,Ce,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&de.delete(qe.key===null?Ce:qe.key),M=d(qe,M,Ce),Be===null?ge=qe:Be.sibling=qe,Be=qe);return t&&de.forEach(function(WA){return i(j,WA)}),ke&&Ki(j,Ce),ge}function Je(j,M,q,Z){if(typeof q=="object"&&q!==null&&q.type===Q&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case O:e:{for(var ge=q.key;M!==null;){if(M.key===ge){if(ge=q.type,ge===Q){if(M.tag===7){a(j,M.sibling),Z=h(M,q.props.children),Z.return=j,j=Z;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Ks(ge)===M.type){a(j,M.sibling),Z=h(M,q.props),fl(Z,q),Z.return=j,j=Z;break e}a(j,M);break}else i(j,M);M=M.sibling}q.type===Q?(Z=qs(q.props.children,j.mode,Z,q.key),Z.return=j,j=Z):(Z=sc(q.type,q.key,q.props,null,j.mode,Z),fl(Z,q),Z.return=j,j=Z)}return _(j);case U:e:{for(ge=q.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){a(j,M.sibling),Z=h(M,q.children||[]),Z.return=j,j=Z;break e}else{a(j,M);break}else i(j,M);M=M.sibling}Z=Mf(q,j.mode,Z),Z.return=j,j=Z}return _(j);case R:return q=Ks(q),Je(j,M,q,Z)}if(ht(q))return fe(j,M,q,Z);if(k(q)){if(ge=k(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),ve(j,M,q,Z)}if(typeof q.then=="function")return Je(j,M,fc(q),Z);if(q.$$typeof===W)return Je(j,M,lc(j,q),Z);dc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,M!==null&&M.tag===6?(a(j,M.sibling),Z=h(M,q),Z.return=j,j=Z):(a(j,M),Z=Of(q,j.mode,Z),Z.return=j,j=Z),_(j)):a(j,M)}return function(j,M,q,Z){try{hl=0;var ge=Je(j,M,q,Z);return Fa=null,ge}catch(de){if(de===Ha||de===cc)throw de;var Be=Tn(29,de,null,j.mode);return Be.lanes=Z,Be.return=j,Be}finally{}}}var $s=Yg(!0),$g=Yg(!1),Ur=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function jr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function zr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(t),Og(t,null,a),i}return ic(t,l,i,a),rc(t)}function dl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}function Kf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Yf=!1;function ml(){if(Yf){var t=qa;if(t!==null)throw t}}function pl(t,i,a,l){Yf=!1;var h=t.updateQueue;Ur=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,H=N.next;N.next=null,_===null?d=H:_.next=H,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=H:S.next=H,X.lastBaseUpdate=N))}if(d!==null){var ee=h.baseState;_=0,X=H=N=null,S=d;do{var F=S.lane&-536870913,$=F!==S.lane;if($?(De&F)===F:(l&F)===F){F!==0&&F===Ba&&(Yf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var fe=t,ve=S;F=i;var Je=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){ee=fe.call(Je,ee,F);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,F=typeof fe=="function"?fe.call(Je,ee,F):fe,F==null)break e;ee=b({},ee,F);break e;case 2:Ur=!0}}F=S.callback,F!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[F]:$.push(F))}else $={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(H=X=$,N=ee):X=X.next=$,_|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;$=S,S=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);X===null&&(N=ee),h.baseState=N,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Gr|=_,t.lanes=_,t.memoizedState=ee}}function Xg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],i)}var Ga=P(null),mc=P(0);function Zg(t,i){t=rr,re(mc,t),re(Ga,i),rr=t|i.baseLanes}function $f(){re(mc,rr),re(Ga,Ga.current)}function Xf(){rr=mc.current,Y(Ga),Y(mc)}var bn=P(null),jn=null;function Br(t){var i=t.alternate;re(yt,yt.current&1),re(bn,t),jn===null&&(i===null||Ga.current!==null||i.memoizedState!==null)&&(jn=t)}function Wf(t){re(yt,yt.current),re(bn,t),jn===null&&(jn=t)}function Jg(t){t.tag===22?(re(yt,yt.current),re(bn,t),jn===null&&(jn=t)):qr()}function qr(){re(yt,yt.current),re(bn,bn.current)}function Sn(t){Y(bn),jn===t&&(jn=null),Y(yt)}var yt=P(0);function pc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||im(a)||rm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Re=null,We=null,Rt=null,gc=!1,Qa=!1,Xs=!1,yc=0,gl=0,Ka=null,BS=0;function ft(){throw Error(s(321))}function Zf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Jf(t,i,a,l,h,d){return Xi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Ly:md,Xs=!1,d=a(l,h),Xs=!1,Qa&&(d=ty(i,a,l,h)),ey(t),d}function ey(t){G.H=vl;var i=We!==null&&We.next!==null;if(Xi=0,Rt=We=Re=null,gc=!1,gl=0,Ka=null,i)throw Error(s(300));t===null||xt||(t=t.dependencies,t!==null&&oc(t)&&(xt=!0))}function ty(t,i,a,l){Re=t;var h=0;do{if(Qa&&(Ka=null),gl=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,Rt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=ky,d=i(a,l)}while(Qa);return d}function qS(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Re.flags|=1024),i}function ed(){var t=yc!==0;return yc=0,t}function td(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function nd(t){if(gc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}gc=!1}Xi=0,Rt=We=Re=null,Qa=!1,gl=yc=0,Ka=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function _t(){if(We===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=Rt===null?Re.memoizedState:Rt.next;if(i!==null)Rt=i,We=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(t){var i=gl;return gl+=1,Ka===null&&(Ka=[]),t=Gg(Ka,t,i),i=Re,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Ly:md),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===W)return Ht(t)}throw Error(s(438,String(t)))}function id(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=_c(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function Wi(t,i){return typeof i=="function"?i(t):i}function Ec(t){var i=_t();return rd(i,We,t)}function rd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,H=i,X=!1;do{var ee=H.lane&-536870913;if(ee!==H.lane?(De&ee)===ee:(Xi&ee)===ee){var F=H.revertLane;if(F===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ee===Ba&&(X=!0);else if((Xi&F)===F){H=H.next,F===Ba&&(X=!0);continue}else ee={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=ee,_=d):N=N.next=ee,Re.lanes|=F,Gr|=F;ee=H.action,Xs&&a(d,ee),d=H.hasEagerState?H.eagerState:a(d,ee)}else F={lane:ee,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},N===null?(S=N=F,_=d):N=N.next=F,Re.lanes|=ee,Gr|=ee;H=H.next}while(H!==null&&H!==i);if(N===null?_=d:N.next=S,!En(d,t.memoizedState)&&(xt=!0,X&&(a=qa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function sd(t){var i=_t(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(xt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(t,i,a){var l=Re,h=_t(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!En((We||h).memoizedState,a);if(_&&(h.memoizedState=a,xt=!0),h=h.queue,ld(sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ya(9,{destroy:void 0},ry.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Xi&127)!==0||iy(l,i,a)}return a}function iy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=_c(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ry(t,i,a,l){i.value=a,i.getSnapshot=l,ay(i)&&oy(t)}function sy(t,i,a){return a(function(){ay(i)&&oy(t)})}function ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function oy(t){var i=Bs(t,2);i!==null&&fn(i,t,2)}function ad(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Xs){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:t},i}function ly(t,i,a,l){return t.baseState=a,rd(t,We,typeof l=="function"?l:Wi)}function HS(t,i,a,l,h){if(Sc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,uy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function uy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var S=a(h,l),N=G.S;N!==null&&N(_,S),cy(t,i,S)}catch(H){od(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),cy(t,i,d)}catch(H){od(t,i,H)}}function cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,i,l)},function(l){return od(t,i,l)}):hy(t,i,a)}function hy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,uy(t,a)))}function od(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dy(t,i){return i}function my(t,i){if(ke){var a=et.formState;if(a!==null){e:{var l=Re;if(ke){if(nt){t:{for(var h=nt,d=Un;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){nt=zn(h.nextSibling),l=h.data==="F!";break e}}Lr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=l,a=My.bind(null,Re,l),l.dispatch=a,l=ad(!1),d=dd.bind(null,Re,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=HS.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function py(t){var i=_t();return gy(i,We,t)}function gy(t,i,a){if(i=rd(t,i,dy)[0],t=Ec(Wi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(_){throw _===Ha?cc:_}else l=i;i=_t();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ya(9,{destroy:void 0},FS.bind(null,h,a),null)),[l,d,t]}function FS(t,i){t.action=i}function yy(t){var i=_t(),a=We;if(a!==null)return gy(i,a,t);_t(),i=i.memoizedState,a=_t();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ya(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=_c(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return _t().memoizedState}function Tc(t,i,a,l){var h=nn();Re.flags|=t,h.memoizedState=Ya(1|i,{destroy:void 0},a,l===void 0?null:l)}function bc(t,i,a,l){var h=_t();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&Zf(l,We.memoizedState.deps)?h.memoizedState=Ya(i,d,a,l):(Re.flags|=t,h.memoizedState=Ya(1|i,d,a,l))}function vy(t,i){Tc(8390656,8,t,i)}function ld(t,i){bc(2048,8,t,i)}function GS(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=_c(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Ey(t){var i=_t().memoizedState;return GS({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Ty(t,i){return bc(4,2,t,i)}function by(t,i){return bc(4,4,t,i)}function Sy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ay(t,i,a){a=a!=null?a.concat([t]):null,bc(4,4,Sy.bind(null,i,t),a)}function ud(){}function wy(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Zf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ry(t,i){var a=_t();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Zf(i,l[1]))return l[0];if(l=t(),Xs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function cd(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=x_(),Re.lanes|=t,Gr|=t,a)}function xy(t,i,a,l){return En(a,i)?a:Ga.current!==null?(t=cd(t,a,l),En(t,i)||(xt=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(De&261930)===0?(xt=!0,t.memoizedState=a):(t=x_(),Re.lanes|=t,Gr|=t,i)}function Cy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=G.T,S={};G.T=S,dd(t,!1,i,a);try{var N=h(),H=G.S;if(H!==null&&H(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=zS(N,l);_l(t,i,X,Rn(t))}else _l(t,i,l,Rn(t))}catch(ee){_l(t,i,{then:function(){},status:"rejected",reason:ee},Rn())}finally{oe.p=d,_!==null&&S.types!==null&&(_.types=S.types),G.T=_}}function QS(){}function hd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Iy(t).queue;Cy(t,h,i,me,a===null?QS:function(){return Ny(t),a(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ny(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),_l(t,i.next.queue,{},Rn())}function fd(){return Ht(Pl)}function Dy(){return _t().memoizedState}function Oy(){return _t().memoizedState}function KS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();t=jr(a);var l=zr(i,t,a);l!==null&&(fn(l,i,a),dl(l,i,a)),i={cache:Bf()},t.payload=i;return}i=i.return}}function YS(t,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(t)?Vy(i,a):(a=Nf(t,i,a,l),a!==null&&(fn(a,t,l),Py(a,i,l)))}function My(t,i,a){var l=Rn();_l(t,i,a,l)}function _l(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))Vy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,En(S,_))return ic(t,i,h,0),et===null&&nc(),!1}catch{}finally{}if(a=Nf(t,i,h,l),a!==null)return fn(a,t,l),Py(a,i,l),!0}return!1}function dd(t,i,a,l){if(l={lane:2,revertLane:Gd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(i)throw Error(s(479))}else i=Nf(t,a,l,2),i!==null&&fn(i,t,2)}function Sc(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function Vy(t,i){Qa=gc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Py(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,zo(t,a)}}var vl={readContext:Ht,use:vc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};vl.useEffectEvent=ft;var Ly={readContext:Ht,use:vc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Tc(4194308,4,Sy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Tc(4194308,4,t,i)},useInsertionEffect:function(t,i){Tc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Xs){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Xs){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=YS.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=ad(t);var i=t.queue,a=My.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,i){var a=nn();return cd(a,t,i)},useTransition:function(){var t=ad(!1);return t=Cy.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=nn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||iy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vy(sy.bind(null,l,d,t),[t]),l.flags|=2048,Ya(9,{destroy:void 0},ry.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=et.identifierPrefix;if(ke){var a=xi,l=Ri;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=BS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:fd,useFormState:my,useActionState:my,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=dd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:id,useCacheRefresh:function(){return nn().memoizedState=KS.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},md={readContext:Ht,use:vc,useCallback:wy,useContext:Ht,useEffect:ld,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ry,useReducer:Ec,useRef:_y,useState:function(){return Ec(Wi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=_t();return xy(a,We.memoizedState,t,i)},useTransition:function(){var t=Ec(Wi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:fd,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=_t();return ly(a,We,t,i)},useMemoCache:id,useCacheRefresh:Oy};md.useEffectEvent=Ey;var ky={readContext:Ht,use:vc,useCallback:wy,useContext:Ht,useEffect:ld,useImperativeHandle:Ay,useInsertionEffect:Ty,useLayoutEffect:by,useMemo:Ry,useReducer:sd,useRef:_y,useState:function(){return sd(Wi)},useDebugValue:ud,useDeferredValue:function(t,i){var a=_t();return We===null?cd(a,t,i):xy(a,We.memoizedState,t,i)},useTransition:function(){var t=sd(Wi)[0],i=_t().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:ny,useId:Dy,useHostTransitionStatus:fd,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=_t();return We!==null?ly(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:id,useCacheRefresh:Oy};ky.useEffectEvent=Ey;function pd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Rn(),h=jr(l);h.payload=i,a!=null&&(h.callback=a),i=zr(t,h,l),i!==null&&(fn(i,t,l),dl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Rn(),h=jr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=zr(t,h,l),i!==null&&(fn(i,t,l),dl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Rn(),l=jr(a);l.tag=2,i!=null&&(l.callback=i),i=zr(t,l,a),i!==null&&(fn(i,t,a),dl(i,t,a))}};function Uy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!sl(a,l)||!sl(h,d):!0}function jy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&gd.enqueueReplaceState(i,i.state,null)}function Ws(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function zy(t){tc(t)}function By(t){console.error(t)}function qy(t){tc(t)}function Ac(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Hy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function yd(t,i,a){return a=jr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(t,i)},a}function Fy(t){return t=jr(t),t.tag=3,t}function Gy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Hy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Hy(i,a,l),typeof h!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function $S(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&za(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return jn===null?Lc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),qd(t,l,h)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),qd(t,l,h)),!1}throw Error(s(435,a.tag))}return qd(t,l,h),Lc(),!1}if(ke)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Lf&&(t=Error(s(422),{cause:l}),ll(Pn(t,a)))):(l!==Lf&&(i=Error(s(423),{cause:l}),ll(Pn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Pn(l,a),h=yd(t.stateNode,l,h),Kf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Pn(d,a),xl===null?xl=[d]:xl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Pn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=yd(a.stateNode,l,t),Kf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qr===null||!Qr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Gy(h,t,a,l),Kf(a,h),!1}a=a.return}while(a!==null);return!1}var _d=Error(s(461)),xt=!1;function Ft(t,i,a,l){i.child=t===null?$g(i,null,a,l):$s(i,t.child,a,l)}function Qy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Gs(i),l=Jf(t,i,a,_,d,h),S=ed(),t!==null&&!xt?(td(t,i,h),Zi(t,i,h)):(ke&&S&&Vf(i),i.flags|=1,Ft(t,i,l,h),i.child)}function Ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Yy(t,i,d,l,h)):(t=sc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Rd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:sl,a(_,l)&&t.ref===i.ref)return Zi(t,i,h)}return i.flags|=1,t=Qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Yy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(sl(d,l)&&t.ref===i.ref)if(xt=!1,i.pendingProps=l=d,Rd(t,h))(t.flags&131072)!==0&&(xt=!0);else return i.lanes=t.lanes,Zi(t,i,h)}return vd(t,i,a,l,h)}function $y(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Xy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(i,d!==null?d.cachePool:null),d!==null?Zg(i,d):$f(),Jg(i);else return l=i.lanes=536870912,Xy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(uc(i,d.cachePool),Zg(i,d),qr(),i.memoizedState=null):(t!==null&&uc(i,null),$f(),qr());return Ft(t,i,h,a),i.child}function El(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(t,i,a,l,h){var d=Hf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&uc(i,null),$f(),Jg(i),t!==null&&za(t,i,l,!0),i.childLanes=h,null}function wc(t,i){return i=xc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Wy(t,i,a){return $s(i,t.child,null,a),t=wc(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function XS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=wc(i,l),i.lanes=536870912,El(null,t);if(Wf(i),(t=nt)?(t=uv(t,Un),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Vr!==null?{id:Ri,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw Lr(i);return i.lanes=536870912,null}return wc(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Wf(i),h)if(i.flags&256)i.flags&=-257,i=Wy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(xt||za(t,i,a,!1),h=(a&t.childLanes)!==0,xt||h){if(l=et,l!==null&&(_=Bo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(t,_),fn(l,t,_),_d;Lc(),i=Wy(t,i,a)}else t=d.treeContext,nt=zn(_.nextSibling),qt=i,ke=!0,Pr=null,Un=!1,t!==null&&kg(i,t),i=wc(i,l),i.flags|=4096;return i}return t=Qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Rc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function vd(t,i,a,l,h){return Gs(i),a=Jf(t,i,a,l,void 0,h),l=ed(),t!==null&&!xt?(td(t,i,h),Zi(t,i,h)):(ke&&l&&Vf(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Zy(t,i,a,l,h,d){return Gs(i),i.updateQueue=null,a=ty(i,l,a,h),ey(t),l=ed(),t!==null&&!xt?(td(t,i,d),Zi(t,i,d)):(ke&&l&&Vf(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Jy(t,i,a,l,h){if(Gs(i),i.stateNode===null){var d=La,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):La,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(pd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&gd.enqueueReplaceState(d,d.state,null),pl(i,l,d,h),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Ws(a,S);d.props=N;var H=d.context,X=a.contextType;_=La,typeof X=="object"&&X!==null&&(_=Ht(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||H!==_)&&jy(i,d,l,_),Ur=!1;var F=i.memoizedState;d.state=F,pl(i,l,d,h),ml(),H=i.memoizedState,S||F!==H||Ur?(typeof ee=="function"&&(pd(i,a,ee,l),H=i.memoizedState),(N=Ur||Uy(i,a,N,l,F,H,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Qf(t,i),_=i.memoizedProps,X=Ws(a,_),d.props=X,ee=i.pendingProps,F=d.context,H=a.contextType,N=La,typeof H=="object"&&H!==null&&(N=Ht(H)),S=a.getDerivedStateFromProps,(H=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||F!==N)&&jy(i,d,l,N),Ur=!1,F=i.memoizedState,d.state=F,pl(i,l,d,h),ml();var $=i.memoizedState;_!==ee||F!==$||Ur||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof S=="function"&&(pd(i,a,S,l),$=i.memoizedState),(X=Ur||Uy(i,a,X,l,F,$,N)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Rc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=$s(i,t.child,null,h),i.child=$s(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Zi(t,i,h),t}function e_(t,i,a,l){return Hs(),i.flags|=256,Ft(t,i,a,l),i.child}var Ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(t){return{baseLanes:t,cachePool:Hg()}}function bd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=wn),t}function t_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?Br(i):qr(),(t=nt)?(t=uv(t,Un),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Vr!==null?{id:Ri,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Vg(t),a.return=i,i.child=a,qt=i,nt=null)):t=null,t===null)throw Lr(i);return rm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(qr(),h=i.mode,S=xc({mode:"hidden",children:S},h),l=qs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Td(a),l.childLanes=bd(t,_,a),i.memoizedState=Ed,El(null,l)):(Br(i),Sd(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Br(i),i.flags&=-257,i=Ad(t,i,a)):i.memoizedState!==null?(qr(),i.child=t.child,i.flags|=128,i=null):(qr(),S=l.fallback,h=i.mode,l=xc({mode:"visible",children:l.children},h),S=qs(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,$s(i,t.child,null,a),l=i.child,l.memoizedState=Td(a),l.childLanes=bd(t,_,a),i.memoizedState=Ed,i=El(null,l));else if(Br(i),rm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,ll({value:l,source:null,stack:null}),i=Ad(t,i,a)}else if(xt||za(t,i,a,!1),_=(a&t.childLanes)!==0,xt||_){if(_=et,_!==null&&(l=Bo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Bs(t,l),fn(_,t,l),_d;im(S)||Lc(),i=Ad(t,i,a)}else im(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,nt=zn(S.nextSibling),qt=i,ke=!0,Pr=null,Un=!1,t!==null&&kg(i,t),i=Sd(i,l.children),i.flags|=4096);return i}return h?(qr(),S=l.fallback,h=i.mode,N=t.child,H=N.sibling,l=Qi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,H!==null?S=Qi(H,S):(S=qs(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,El(null,l),l=i.child,S=t.child.memoizedState,S===null?S=Td(a):(h=S.cachePool,h!==null?(N=wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Hg(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=bd(t,_,a),i.memoizedState=Ed,El(t.child,l)):(Br(i),a=t.child,t=a.sibling,a=Qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Sd(t,i){return i=xc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function xc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function Ad(t,i,a){return $s(i,t.child,null,a),t=Sd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function n_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),jf(t.return,i,a)}function wd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function i_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=yt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,re(yt,_),Ft(t,i,l,a),l=ke?ol:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,i);else if(t.tag===19)n_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&pc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),wd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&pc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}wd(i,!0,a,null,d,l);break;case"together":wd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Gr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(za(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function WS(t,i,a){switch(i.tag){case 3:Ot(i,i.stateNode.containerInfo),kr(i,wt,t.memoizedState.cache),Hs();break;case 27:case 5:Ss(i);break;case 4:Ot(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Wf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(t,i,a):(Br(i),t=Zi(t,i,a),t!==null?t.sibling:null);Br(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(za(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return i_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(yt,yt.current),l)break;return null;case 22:return i.lanes=0,$y(t,i,a,i.pendingProps);case 24:kr(i,wt,t.memoizedState.cache)}return Zi(t,i,a)}function r_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)xt=!0;else{if(!Rd(t,a)&&(i.flags&128)===0)return xt=!1,WS(t,i,a);xt=(t.flags&131072)!==0}else xt=!1,ke&&(i.flags&1048576)!==0&&Lg(i,ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ks(i.elementType),i.type=t,typeof t=="function")Df(t)?(l=Ws(t,l),i.tag=1,i=Jy(null,i,t,l,a)):(i.tag=0,i=vd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ue){i.tag=11,i=Qy(null,i,t,l,a);break e}else if(h===I){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=ze(t)||t,Error(s(306,i,""))}}return i;case 0:return vd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ws(l,i.pendingProps),Jy(t,i,l,h,a);case 3:e:{if(Ot(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Qf(t,i),pl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,kr(i,wt,l),l!==d.cache&&zf(i,[wt],a,!0),ml(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=e_(t,i,l,a);break e}else if(l!==h){h=Pn(Error(s(424)),i),ll(h),i=e_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(nt=zn(t.firstChild),qt=i,ke=!0,Pr=null,Un=!0,a=$g(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hs(),l===h){i=Zi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return Rc(t,i),t===null?(a=pv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,l=Hc(xe.current).createElement(a),l[bt]=i,l[Lt]=t,Gt(l,a,t),St(l),i.stateNode=l):i.memoizedState=pv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ss(i),t===null&&ke&&(l=i.stateNode=fv(i.type,i.pendingProps,xe.current),qt=i,Un=!0,h=nt,Xr(i.type)?(sm=h,nt=zn(l.firstChild)):nt=h),Ft(t,i,i.pendingProps.children,a),Rc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=l=nt)&&(l=xA(l,i.type,i.pendingProps,Un),l!==null?(i.stateNode=l,qt=i,nt=zn(l.firstChild),Un=!1,h=!0):h=!1),h||Lr(i)),Ss(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,em(h,d)?l=null:_!==null&&em(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Jf(t,i,qS,null,null,a),Pl._currentValue=h),Rc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&ke&&((t=a=nt)&&(a=CA(a,i.pendingProps,Un),a!==null?(i.stateNode=a,qt=i,nt=null,t=!0):t=!1),t||Lr(i)),null;case 13:return t_(t,i,a);case 4:return Ot(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$s(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return Qy(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Gs(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Yy(t,i,i.type,i.pendingProps,a);case 19:return i_(t,i,a);case 31:return XS(t,i,a);case 22:return $y(t,i,a,i.pendingProps);case 24:return Gs(i),l=Ht(wt),t===null?(h=Hf(),h===null&&(h=et,d=Bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Gf(i),kr(i,wt,h)):((t.lanes&a)!==0&&(Qf(t,i),pl(i,null,null,a),ml()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,wt,l)):(l=d.cache,kr(i,wt,l),l!==h.cache&&zf(i,[wt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(t){t.flags|=4}function xd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(D_())t.flags|=8192;else throw Ys=hc,Ff}else t.flags&=-16777217}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ev(i))if(D_())t.flags|=8192;else throw Ys=hc,Ff}function Cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Vu():536870912,t.lanes|=i,Za|=i)}function Tl(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function ZS(t,i,a){var l=i.pendingProps;switch(Pf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(wt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ja(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,kf())),it(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(it(i),s_(i,d)):(it(i),xd(i,h,null,l,a))):d?d!==t.memoizedState?(Ji(i),it(i),s_(i,d)):(it(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),it(i),xd(i,h,t,l,a)),null;case 27:if(ya(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=ae.current,ja(i)?Ug(i):(t=fv(h,l,a),i.stateNode=t,Ji(i))}return it(i),null;case 5:if(ya(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(d=ae.current,ja(i))Ug(i);else{var _=Hc(xe.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return it(i),xd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,ja(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||tv(t.nodeValue,a)),t||Lr(i,!0)}else t=Hc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return it(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ja(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),t=!1}else a=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=kf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),it(i),null);case 4:return st(),t===null&&$d(i.stateNode.containerInfo),it(i),null;case 10:return $i(i.type),it(i),null;case 19:if(Y(yt),l=i.memoizedState,l===null)return it(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Tl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=pc(t),d!==null){for(i.flags|=128,Tl(l,!1),t=d.updateQueue,i.updateQueue=t,Cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Mg(a,t),a=a.sibling;return re(yt,yt.current&1|2),ke&&Ki(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Mc&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304)}else{if(!h)if(t=pc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Cc(i,t),Tl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return it(i),null}else 2*en()-l.renderingStartTime>Mc&&a!==536870912&&(i.flags|=128,h=!0,Tl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=yt.current,re(yt,h?a&1|2:a&1),ke&&Ki(i,l.treeForkCount),t):(it(i),null);case 22:case 23:return Sn(i),Xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Y(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(wt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JS(t,i){switch(Pf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(wt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ya(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Y(yt),null;case 4:return st(),null;case 10:return $i(i.type),null;case 22:case 23:return Sn(i),Xf(),t!==null&&Y(Qs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(wt),null;case 25:return null;default:return null}}function a_(t,i){switch(Pf(i),i.tag){case 3:$i(wt),st();break;case 26:case 27:case 5:ya(i);break;case 4:st();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:Y(yt);break;case 10:$i(i.type);break;case 22:case 23:Sn(i),Xf(),t!==null&&Y(Qs);break;case 24:$i(wt)}}function bl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){$e(i,i.return,S)}}function Hr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,H=S;try{H()}catch(X){$e(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){$e(i,i.return,X)}}function o_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Wg(i,a)}catch(l){$e(t,t.return,l)}}}function l_(t,i,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){$e(t,i,l)}}function Sl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){$e(t,i,h)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){$e(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$e(t,i,h)}else a.current=null}function u_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){$e(t,t.return,h)}}function Cd(t,i,a){try{var l=t.stateNode;TA(l,t.type,a,i),l[Lt]=i}catch(h){$e(t,t.return,h)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Xr(t.type)||t.tag===4}function Id(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Xr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nd(t,i,a),t=t.sibling;t!==null;)Nd(t,i,a),t=t.sibling}function Ic(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Xr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ic(t,i,a),t=t.sibling;t!==null;)Ic(t,i,a),t=t.sibling}function h_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){$e(t,t.return,d)}}var er=!1,Ct=!1,Dd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function eA(t,i){if(t=t.containerInfo,Zd=Xc,t=Ag(t),Af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,H=0,X=0,ee=t,F=null;t:for(;;){for(var $;ee!==a||h!==0&&ee.nodeType!==3||(S=_+h),ee!==d||l!==0&&ee.nodeType!==3||(N=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),($=ee.firstChild)!==null;)F=ee,ee=$;for(;;){if(ee===t)break t;if(F===a&&++H===h&&(S=_),F===d&&++X===l&&(N=_),($=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=$}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Xc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ws(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){$e(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function d_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:nr(t,a),l&4&&bl(5,a);break;case 1:if(nr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){$e(a,a.return,_)}else{var h=Ws(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){$e(a,a.return,_)}}l&64&&o_(a),l&512&&Sl(a,a.return);break;case 3:if(nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Wg(t,i)}catch(_){$e(a,a.return,_)}}break;case 27:i===null&&l&4&&h_(a);case 26:case 5:nr(t,a),i===null&&l&4&&u_(a),l&512&&Sl(a,a.return);break;case 12:nr(t,a);break;case 31:nr(t,a),l&4&&g_(t,a);break;case 13:nr(t,a),l&4&&y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=uA.bind(null,a),IA(t,a))));break;case 22:if(l=a.memoizedState!==null||er,!l){i=i!==null&&i.memoizedState!==null||Ct,h=er;var d=Ct;er=l,(Ct=i)&&!d?ir(t,a,(a.subtreeFlags&8772)!==0):nr(t,a),er=h,Ct=d}break;case 30:break;default:nr(t,a)}}function m_(t){var i=t.alternate;i!==null&&(t.alternate=null,m_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ba(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function tr(t,i,a){for(a=a.child;a!==null;)p_(t,i,a),a=a.sibling}function p_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:Ct||Ci(a,i),tr(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Ci(a,i);var l=ot,h=ln;Xr(a.type)&&(ot=a.stateNode,ln=!1),tr(t,i,a),Ol(a.stateNode),ot=l,ln=h;break;case 5:Ct||Ci(a,i);case 6:if(l=ot,h=ln,ot=null,tr(t,i,a),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){$e(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){$e(a,i,d)}break;case 18:ot!==null&&(ln?(t=ot,ov(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ao(t)):ov(ot,a.stateNode));break;case 4:l=ot,h=ln,ot=a.stateNode.containerInfo,ln=!0,tr(t,i,a),ot=l,ln=h;break;case 0:case 11:case 14:case 15:Hr(2,a,i),Ct||Hr(4,a,i),tr(t,i,a);break;case 1:Ct||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),tr(t,i,a);break;case 21:tr(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,tr(t,i,a),Ct=l;break;default:tr(t,i,a)}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{ao(t)}catch(a){$e(i,i.return,a)}}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ao(t)}catch(a){$e(i,i.return,a)}}function tA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f_),i;default:throw Error(s(435,t.tag))}}function Nc(t,i){var a=tA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=cA.bind(null,t,l);l.then(h,h)}})}function un(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Xr(S.type)){ot=S.stateNode,ln=!1;break e}break;case 5:ot=S.stateNode,ln=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,ln=!0;break e}S=S.return}if(ot===null)throw Error(s(160));p_(d,_,h),ot=null,ln=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,t),i=i.sibling}var ti=null;function __(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(i,t),cn(t),l&4&&(Hr(3,t,t.return),bl(3,t),Hr(5,t,t.return));break;case 1:un(i,t),cn(t),l&512&&(Ct||a===null||Ci(a,a.return)),l&64&&er&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(un(i,t),cn(t),l&512&&(Ct||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mi]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[bt]=t,St(d),l=d;break e;case"link":var _=_v("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=_v("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,St(d),l=d}t.stateNode=l}else vv(h,t.type,t.stateNode);else t.stateNode=yv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?vv(h,t.type,t.stateNode):yv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(i,t),cn(t),l&512&&(Ct||a===null||Ci(a,a.return)),a!==null&&l&4&&Cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(i,t),cn(t),l&512&&(Ct||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{on(h,"")}catch(fe){$e(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Dd=!0);break;case 6:if(un(i,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){$e(t,t.return,fe)}}break;case 3:if(Qc=null,h=ti,ti=Fc(i.containerInfo),un(i,t),ti=h,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ao(i.containerInfo)}catch(fe){$e(t,t.return,fe)}Dd&&(Dd=!1,v_(t));break;case 4:l=ti,ti=Fc(t.stateNode.containerInfo),un(i,t),cn(t),ti=l;break;case 12:un(i,t),cn(t);break;case 31:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 13:un(i,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,H=er,X=Ct;if(er=H||h,Ct=X||N,un(i,t),Ct=X,er=H,cn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||er||Ct||Zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var ee=N.memoizedProps.style,F=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(fe){$e(N,N.return,fe)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(fe){$e(N,N.return,fe)}}}else if(i.tag===18){if(a===null){N=i;try{var $=N.stateNode;h?lv($,!0):lv(N.stateNode,!1)}catch(fe){$e(N,N.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nc(t,a))));break;case 19:un(i,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nc(t,l)));break;case 30:break;case 21:break;default:un(i,t),cn(t)}}function cn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Id(t);Ic(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(on(_,""),a.flags&=-33);var S=Id(t);Ic(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,H=Id(t);Nd(t,H,N);break;default:throw Error(s(161))}}catch(X){$e(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function v_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function nr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(t,i.alternate,i),i=i.sibling}function Zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Hr(4,i,i.return),Zs(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),Zs(i);break;case 27:Ol(i.stateNode);case 26:case 5:Ci(i,i.return),Zs(i);break;case 22:i.memoizedState===null&&Zs(i);break;case 30:Zs(i);break;default:Zs(i)}t=t.sibling}}function ir(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:ir(h,d,a),bl(4,d);break;case 1:if(ir(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){$e(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Xg(N[h],S)}catch(H){$e(l,l.return,H)}}a&&_&64&&o_(d),Sl(d,d.return);break;case 27:h_(d);case 26:case 5:ir(h,d,a),a&&l===null&&_&4&&u_(d),Sl(d,d.return);break;case 12:ir(h,d,a);break;case 31:ir(h,d,a),a&&_&4&&g_(h,d);break;case 13:ir(h,d,a),a&&_&4&&y_(h,d);break;case 22:d.memoizedState===null&&ir(h,d,a),Sl(d,d.return);break;case 30:break;default:ir(h,d,a)}i=i.sibling}}function Od(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function Md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)E_(t,i,a,l),i=i.sibling}function E_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),h&2048&&bl(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(h&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){$e(i,i.return,N)}}else ni(t,i,a,l);break;case 31:ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):Al(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,$a(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Od(_,i);break;case 24:ni(t,i,a,l),h&2048&&Md(i.alternate,i);break;default:ni(t,i,a,l)}}function $a(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:$a(d,_,S,N,h),bl(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?$a(d,_,S,N,h):Al(d,_):(X._visibility|=2,$a(d,_,S,N,h)),h&&H&2048&&Od(_.alternate,_);break;case 24:$a(d,_,S,N,h),h&&H&2048&&Md(_.alternate,_);break;default:$a(d,_,S,N,h)}i=i.sibling}}function Al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Al(a,l),h&2048&&Od(l.alternate,l);break;case 24:Al(a,l),h&2048&&Md(l.alternate,l);break;default:Al(a,l)}i=i.sibling}}var wl=8192;function Xa(t,i,a){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)T_(t,i,a),t=t.sibling}function T_(t,i,a){switch(t.tag){case 26:Xa(t,i,a),t.flags&wl&&t.memoizedState!==null&&BA(a,ti,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,i,a);break;case 3:case 4:var l=ti;ti=Fc(t.stateNode.containerInfo),Xa(t,i,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,Xa(t,i,a),wl=l):Xa(t,i,a));break;default:Xa(t,i,a)}}function b_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,A_(l,t)}b_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S_(t),t=t.sibling}function S_(t){switch(t.tag){case 0:case 11:case 15:Rl(t),t.flags&2048&&Hr(9,t,t.return);break;case 3:Rl(t);break;case 12:Rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Dc(t)):Rl(t);break;default:Rl(t)}}function Dc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,A_(l,t)}b_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Hr(8,i,i.return),Dc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(i));break;default:Dc(i)}t=t.sibling}}function A_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Hr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(m_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var nA={getCacheForType:function(t){var i=Ht(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},iA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,Ie=null,De=0,Ye=0,An=null,Fr=!1,Wa=!1,Vd=!1,rr=0,dt=0,Gr=0,Js=0,Pd=0,wn=0,Za=0,xl=null,hn=null,Ld=!1,Oc=0,w_=0,Mc=1/0,Vc=null,Qr=null,Vt=0,Kr=null,Ja=null,sr=0,kd=0,Ud=null,R_=null,Cl=0,jd=null;function Rn(){return(Ge&2)!==0&&De!==0?De&-De:G.T!==null?Gd():Pu()}function x_(){if(wn===0)if((De&536870912)===0||ke){var t=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function fn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(eo(t,0),Yr(t,De,wn,!1)),xs(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Js|=a),dt===4&&Yr(t,De,wn,!1)),Ii(t))}function C_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Qn(t,i),h=l?aA(t,i):Bd(t,i,!0),d=l;do{if(h===0){Wa&&!l&&Yr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!rA(a)){h=Bd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=xl;var N=S.current.memoizedState.isDehydrated;if(N&&(eo(S,_).flags|=256),_=Bd(S,_,!1),_!==2){if(Vd&&!N){S.errorRecoveryDisabledLanes|=d,Js|=d,h=4;break e}d=hn,hn=h,d!==null&&(hn===null?hn=d:hn.push.apply(hn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),Yr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Yr(l,i,wn,!Fr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Oc+300-en(),10<h)){if(Yr(l,i,wn,!Fr),hi(l,0,!0)!==0)break e;sr=i,l.timeoutHandle=sv(I_.bind(null,l,a,hn,Vc,Ld,i,wn,Js,Za,Fr,d,"Throttled",-0,0),h);break e}I_(l,a,hn,Vc,Ld,i,wn,Js,Za,Fr,d,null,-0,0)}}break}while(!0);Ii(t)}function I_(t,i,a,l,h,d,_,S,N,H,X,ee,F,$){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},T_(i,d,ee);var fe=(d&62914560)===d?Oc-en():(d&4194048)===d?w_-en():0;if(fe=qA(ee,fe),fe!==null){sr=d,t.cancelPendingCommit=fe(k_.bind(null,t,i,d,a,l,h,_,S,N,X,ee,null,F,$)),Yr(t,d,_,!H);return}}k_(t,i,d,a,l,h,_,S,N)}function rA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yr(t,i,a,l){i&=~Pd,i&=~Js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-pt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Cs(t,a,i)}function Pc(){return(Ge&6)===0?(Il(0),!1):!0}function zd(){if(Ie!==null){if(Ye===0)var t=Ie.return;else t=Ie,Yi=Fs=null,nd(t),Fa=null,hl=0,t=Ie;for(;t!==null;)a_(t.alternate,t),t=t.return;Ie=null}}function eo(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,AA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),sr=0,zd(),et=t,Ie=a=Qi(t.current,null),De=i,Ye=0,An=null,Fr=!1,Wa=Qn(t,i),Vd=!1,Za=wn=Pd=Js=Gr=dt=0,hn=xl=null,Ld=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-pt(l),d=1<<h;i|=t[h],l&=~d}return rr=i,nc(),a}function N_(t,i){Re=null,G.H=vl,i===Ha||i===cc?(i=Qg(),Ye=3):i===Ff?(i=Qg(),Ye=4):Ye=i===_d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Ie===null&&(dt=1,Ac(t,Pn(i,t.current)))}function D_(){var t=bn.current;return t===null?!0:(De&4194048)===De?jn===null:(De&62914560)===De||(De&536870912)!==0?t===jn:!1}function O_(){var t=G.H;return G.H=vl,t===null?vl:t}function M_(){var t=G.A;return G.A=nA,t}function Lc(){dt=4,Fr||(De&4194048)!==De&&bn.current!==null||(Wa=!0),(Gr&134217727)===0&&(Js&134217727)===0||et===null||Yr(et,De,wn,!1)}function Bd(t,i,a){var l=Ge;Ge|=2;var h=O_(),d=M_();(et!==t||De!==i)&&(Vc=null,eo(t,i)),i=!1;var _=dt;e:do try{if(Ye!==0&&Ie!==null){var S=Ie,N=An;switch(Ye){case 8:zd(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var H=Ye;if(Ye=0,An=null,to(t,S,N,H),a&&Wa){_=0;break e}break;default:H=Ye,Ye=0,An=null,to(t,S,N,H)}}sA(),_=dt;break}catch(X){N_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Yi=Fs=null,Ge=l,G.H=h,G.A=d,Ie===null&&(et=null,De=0,nc()),_}function sA(){for(;Ie!==null;)V_(Ie)}function aA(t,i){var a=Ge;Ge|=2;var l=O_(),h=M_();et!==t||De!==i?(Vc=null,Mc=en()+500,eo(t,i)):Wa=Qn(t,i);e:do try{if(Ye!==0&&Ie!==null){i=Ie;var d=An;t:switch(Ye){case 1:Ye=0,An=null,to(t,i,d,1);break;case 2:case 9:if(Fg(d)){Ye=0,An=null,P_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ii(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Fg(d)?(Ye=0,An=null,P_(i)):(Ye=0,An=null,to(t,i,d,7));break;case 5:var _=null;switch(Ie.tag){case 26:_=Ie.memoizedState;case 5:case 27:var S=Ie;if(_?Ev(_):S.stateNode.complete){Ye=0,An=null;var N=S.sibling;if(N!==null)Ie=N;else{var H=S.return;H!==null?(Ie=H,kc(H)):Ie=null}break t}}Ye=0,An=null,to(t,i,d,5);break;case 6:Ye=0,An=null,to(t,i,d,6);break;case 8:zd(),dt=6;break e;default:throw Error(s(462))}}oA();break}catch(X){N_(t,X)}while(!0);return Yi=Fs=null,G.H=l,G.A=h,Ge=a,Ie!==null?0:(et=null,De=0,nc(),dt)}function oA(){for(;Ie!==null&&!yf();)V_(Ie)}function V_(t){var i=r_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?kc(t):Ie=i}function P_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Zy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Zy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:nd(i);default:a_(a,i),i=Ie=Mg(i,rr),i=r_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?kc(t):Ie=i}function to(t,i,a,l){Yi=Fs=null,nd(i),Fa=null,hl=0;var h=i.return;try{if($S(t,h,i,a,De)){dt=1,Ac(t,Pn(a,t.current)),Ie=null;return}}catch(d){if(h!==null)throw Ie=h,d;dt=1,Ac(t,Pn(a,t.current)),Ie=null;return}i.flags&32768?(ke||l===1?t=!0:Wa||(De&536870912)!==0?t=!1:(Fr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),L_(i,t)):kc(i)}function kc(t){var i=t;do{if((i.flags&32768)!==0){L_(i,Fr);return}t=i.return;var a=ZS(i.alternate,i,rr);if(a!==null){Ie=a;return}if(i=i.sibling,i!==null){Ie=i;return}Ie=i=t}while(i!==null);dt===0&&(dt=5)}function L_(t,i){do{var a=JS(t.alternate,t);if(a!==null){a.flags&=32767,Ie=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ie=t;return}Ie=t=a}while(t!==null);dt=6,Ie=null}function k_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Uc();while(Vt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=If,Ef(t,a,d,_,S,N),t===et&&(Ie=et=null,De=0),Ja=i,Kr=t,sr=a,kd=d,Ud=h,R_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,hA(Ar,function(){return q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=oe.p,oe.p=2,_=Ge,Ge|=4;try{eA(t,i,a)}finally{Ge=_,oe.p=h,G.T=l}}Vt=1,U_(),j_(),z_()}}function U_(){if(Vt===1){Vt=0;var t=Kr,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{__(i,t);var d=Jd,_=Ag(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Sg(S.ownerDocument.documentElement,S)){if(N!==null&&Af(S)){var H=N.start,X=N.end;if(X===void 0&&(X=H),"selectionStart"in S)S.selectionStart=H,S.selectionEnd=Math.min(X,S.value.length);else{var ee=S.ownerDocument||document,F=ee&&ee.defaultView||window;if(F.getSelection){var $=F.getSelection(),fe=S.textContent.length,ve=Math.min(N.start,fe),Je=N.end===void 0?ve:Math.min(N.end,fe);!$.extend&&ve>Je&&(_=Je,Je=ve,ve=_);var j=bg(S,ve),M=bg(S,Je);if(j&&M&&($.rangeCount!==1||$.anchorNode!==j.node||$.anchorOffset!==j.offset||$.focusNode!==M.node||$.focusOffset!==M.offset)){var q=ee.createRange();q.setStart(j.node,j.offset),$.removeAllRanges(),ve>Je?($.addRange(q),$.extend(M.node,M.offset)):(q.setEnd(M.node,M.offset),$.addRange(q))}}}}for(ee=[],$=S;$=$.parentNode;)$.nodeType===1&&ee.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var Z=ee[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Xc=!!Zd,Jd=Zd=null}finally{Ge=h,oe.p=l,G.T=a}}t.current=i,Vt=2}}function j_(){if(Vt===2){Vt=0;var t=Kr,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{d_(t,i.alternate,i)}finally{Ge=h,oe.p=l,G.T=a}}Vt=3}}function z_(){if(Vt===4||Vt===3){Vt=0,Cu();var t=Kr,i=Ja,a=sr,l=R_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,Ja=Kr=null,B_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Qr=null),qi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=oe.p,oe.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{G.T=i,oe.p=h}}(sr&3)!==0&&Uc(),Ii(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===jd?Cl++:(Cl=0,jd=t):Cl=0,Il(0)}}function B_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function Uc(){return U_(),j_(),z_(),q_()}function q_(){if(Vt!==5)return!1;var t=Kr,i=kd;kd=0;var a=qi(sr),l=G.T,h=oe.p;try{oe.p=32>a?32:a,G.T=null,a=Ud,Ud=null;var d=Kr,_=sr;if(Vt=0,Ja=Kr=null,sr=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,S_(d.current),E_(d,d.current,_,a),Ge=S,Il(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{oe.p=h,G.T=l,B_(t,i)}}function H_(t,i,a){i=Pn(a,i),i=yd(t.stateNode,i,2),t=zr(t,i,2),t!==null&&(xs(t,2),Ii(t))}function $e(t,i,a){if(t.tag===3)H_(t,t,a);else for(;i!==null;){if(i.tag===3){H_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qr===null||!Qr.has(l))){t=Pn(a,t),a=Fy(2),l=zr(i,a,2),l!==null&&(Gy(a,l,i,t),xs(l,2),Ii(l));break}}i=i.return}}function qd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new iA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Vd=!0,h.add(a),t=lA.bind(null,t,i,a),i.then(t,t))}function lA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>en()-Oc?(Ge&2)===0&&eo(t,0):Pd|=a,Za===De&&(Za=0)),Ii(t)}function F_(t,i){i===0&&(i=Vu()),t=Bs(t,i),t!==null&&(xs(t,i),Ii(t))}function uA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(t,a)}function cA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),F_(t,a)}function hA(t,i){return Mt(t,i)}var jc=null,no=null,Hd=!1,zc=!1,Fd=!1,$r=0;function Ii(t){t!==no&&t.next===null&&(no===null?jc=no=t:no=no.next=t),zc=!0,Hd||(Hd=!0,dA())}function Il(t,i){if(!Fd&&zc){Fd=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-pt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=De,d=hi(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);Fd=!1}}function fA(){G_()}function G_(){zc=Hd=!1;var t=0;$r!==0&&SA()&&(t=$r);for(var i=en(),a=null,l=jc;l!==null;){var h=l.next,d=Q_(l,i);d===0?(l.next=null,a===null?jc=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(zc=!0)),l=h}Vt!==0&&Vt!==5||Il(t),$r!==0&&($r=0)}function Q_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-pt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=vf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=De,a=hi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Sr(l),qi(a)){case 2:case 8:a=jo;break;case 32:a=Ar;break;case 268435456:a=Iu;break;default:a=Ar}return l=K_.bind(null,t),a=Mt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Sr(l),t.callbackPriority=2,t.callbackNode=null,2}function K_(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uc()&&t.callbackNode!==a)return null;var l=De;return l=hi(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(C_(t,l,i),Q_(t,en()),t.callbackNode!=null&&t.callbackNode===a?K_.bind(null,t):null)}function Y_(t,i){if(Uc())return null;C_(t,i,!0)}function dA(){wA(function(){(Ge&6)!==0?Mt(Uo,fA):G_()})}function Gd(){if($r===0){var t=Ba;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),$r=t}return $r}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ra(""+t)}function X_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function mA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=$_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?$_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new bi("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var N=_?X_(h,_):new FormData(h);hd(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?X_(h,_):new FormData(h),hd(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Qd=0;Qd<Cf.length;Qd++){var Kd=Cf[Qd],pA=Kd.toLowerCase(),gA=Kd[0].toUpperCase()+Kd.slice(1);ei(pA,"on"+gA)}ei(xg,"onAnimationEnd"),ei(Cg,"onAnimationIteration"),ei(Ig,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(OS,"onTransitionRun"),ei(MS,"onTransitionStart"),ei(VS,"onTransitionCancel"),ei(Ng,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function W_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,H=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(X){tc(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,H=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=H;try{d(h)}catch(X){tc(X)}h.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[Ta];a===void 0&&(a=i[Ta]=new Set);var l=t+"__bubble";a.has(l)||(Z_(i,t,2,!1),a.add(l))}function Yd(t,i,a){var l=0;i&&(l|=4),Z_(a,t,l,i)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Bc]){t[Bc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(yA.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Bc]||(i[Bc]=!0,Yd("selectionchange",!1,i))}}function Z_(t,i,a,l){switch(xv(i)){case 2:var h=GA;break;case 8:h=QA;break;default:h=cm}a=h.bind(null,i,a,t),h=void 0,!Ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Xd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=pi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Nr(function(){var H=d,X=Dn(a),ee=[];e:{var F=Dg.get(t);if(F!==void 0){var $=bi,fe=t;switch(t){case"keypress":if(Ps(a)===0)break e;case"keydown":case"keyup":$=Zu;break;case"focusin":fe="focus",$=ks;break;case"focusout":fe="blur",$=ks;break;case"beforeblur":case"afterblur":$=ks;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Hu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case xg:case Cg:case Ig:$=Gu;break;case Ng:$=A;break;case"scroll":case"scrollend":$=el;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=Qu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Gi;break;case"toggle":case"beforetoggle":$=we}var ve=(i&4)!==0,Je=!ve&&(t==="scroll"||t==="scrollend"),j=ve?F!==null?F+"Capture":null:F;ve=[];for(var M=H,q;M!==null;){var Z=M;if(q=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||q===null||j===null||(Z=Xn(M,j),Z!=null&&ve.push(Dl(M,Z,q))),Je)break;M=M.return}0<ve.length&&(F=new $(F,fe,null,a,X),ee.push({event:F,listeners:ve}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",F&&a!==Wo&&(fe=a.relatedTarget||a.fromElement)&&(pi(fe)||fe[di]))break e;if(($||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,$?(fe=a.relatedTarget||a.toElement,$=H,fe=fe?pi(fe):null,fe!==null&&(Je=u(fe),ve=fe.tag,fe!==Je||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):($=null,fe=H),$!==fe)){if(ve=tl,Z="onMouseLeave",j="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Gi,Z="onPointerLeave",j="onPointerEnter",M="pointer"),Je=$==null?F:_n($),q=fe==null?F:_n(fe),F=new ve(Z,M+"leave",$,a,X),F.target=Je,F.relatedTarget=q,Z=null,pi(X)===H&&(ve=new ve(j,M+"enter",fe,a,X),ve.target=q,ve.relatedTarget=Je,Z=ve),Je=Z,$&&fe)t:{for(ve=_A,j=$,M=fe,q=0,Z=j;Z;Z=ve(Z))q++;Z=0;for(var ge=M;ge;ge=ve(ge))Z++;for(;0<q-Z;)j=ve(j),q--;for(;0<Z-q;)M=ve(M),Z--;for(;q--;){if(j===M||M!==null&&j===M.alternate){ve=j;break t}j=ve(j),M=ve(M)}ve=null}else ve=null;$!==null&&J_(ee,F,$,ve,!1),fe!==null&&Je!==null&&J_(ee,Je,fe,ve,!0)}}e:{if(F=H?_n(H):window,$=F.nodeName&&F.nodeName.toLowerCase(),$==="select"||$==="input"&&F.type==="file")var Be=gg;else if(mg(F))if(yg)Be=IS;else{Be=xS;var de=RS}else $=F.nodeName,!$||$.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&wa(H.elementType)&&(Be=gg):Be=CS;if(Be&&(Be=Be(t,H))){pg(ee,Be,a,X);break e}de&&de(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Yo(F,"number",F.value)}switch(de=H?_n(H):window,t){case"focusin":(mg(de)||de.contentEditable==="true")&&(Ma=de,wf=H,al=null);break;case"focusout":al=wf=Ma=null;break;case"mousedown":Rf=!0;break;case"contextmenu":case"mouseup":case"dragend":Rf=!1,wg(ee,a,X);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":wg(ee,a,X)}var Ce;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Oa?Us(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(wi&&a.locale!=="ko"&&(Oa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Oa&&(Ce=Jo()):(Ti=X,Zo="value"in Ti?Ti.value:Ti.textContent,Oa=!0)),de=qc(H,Oe),0<de.length&&(Oe=new Ai(Oe,t,null,a,X),ee.push({event:Oe,listeners:de}),Ce?Oe.data=Ce:(Ce=Da(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Mn?bS(t,a):SS(t,a))&&(Oe=qc(H,"onBeforeInput"),0<Oe.length&&(de=new Ai("onBeforeInput","beforeinput",null,a,X),ee.push({event:de,listeners:Oe}),de.data=Ce)),mA(ee,t,H,a,X)}W_(ee,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function qc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(Dl(t,h,d)),h=Xn(t,i),h!=null&&l.push(Dl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function _A(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function J_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,H=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||H===null||(N=H,h?(H=Xn(a,d),H!=null&&_.unshift(Dl(a,H,N))):h||(H=Xn(a,d),H!=null&&_.push(Dl(a,H,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var vA=/\r\n?/g,EA=/\u0000|\uFFFD/g;function ev(t){return(typeof t=="string"?t:""+t).replace(vA,`
`).replace(EA,"")}function tv(t,i){return i=ev(i),ev(t)===i}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||on(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&on(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Xo(t,l,d);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ra(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ra(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Sa(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=qu.get(a)||a,Sa(t,a,l))}}function Wd(t,i,a,l,h,d){switch(a){case"style":Xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?on(t,l):(typeof l=="number"||typeof l=="bigint")&&on(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Sa(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,_,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=h=null,N=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Ze(t,i,l,X,a,null)}}ju(t,d,S,N,H,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Rr(t,!!l,i,!1):a!=null&&Rr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,i,_,S,a,null)}xr(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ne(Nl[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,H,l,a,null)}return;default:if(wa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Wd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,i,S,l,a,null))}function TA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,H=null,X=null;for($ in a){var ee=a[$];if(a.hasOwnProperty($)&&ee!=null)switch($){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty($)||Ze(t,i,$,null,l,ee)}}for(var F in l){var $=l[F];if(ee=a[F],l.hasOwnProperty(F)&&($!=null||ee!=null))switch(F){case"type":d=$;break;case"name":h=$;break;case"checked":H=$;break;case"defaultChecked":X=$;break;case"value":_=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==ee&&Ze(t,i,F,$,l,ee)}}Aa(t,_,S,N,H,X,d,h);return;case"select":$=_=S=F=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":$=N;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Ze(t,i,h,d,l,N)}i=S,a=_,l=$,F!=null?Rr(t,!!a,F,!1):!!l!=!!a&&(i!=null?Rr(t,!!a,i,!0):Rr(t,!!a,a?[]:"",!1));return;case"textarea":$=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":F=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,_,h,l,d)}zu(t,F,$);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:Ze(t,i,fe,null,l,F)}for(N in l)if(F=l[N],$=a[N],l.hasOwnProperty(N)&&F!==$&&(F!=null||$!=null))switch(N){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ze(t,i,N,F,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)F=a[ve],a.hasOwnProperty(ve)&&F!=null&&!l.hasOwnProperty(ve)&&Ze(t,i,ve,null,l,F);for(H in l)if(F=l[H],$=a[H],l.hasOwnProperty(H)&&F!==$&&(F!=null||$!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ze(t,i,H,F,l,$)}return;default:if(wa(i)){for(var Je in a)F=a[Je],a.hasOwnProperty(Je)&&F!==void 0&&!l.hasOwnProperty(Je)&&Wd(t,i,Je,void 0,l,F);for(X in l)F=l[X],$=a[X],!l.hasOwnProperty(X)||F===$||F===void 0&&$===void 0||Wd(t,i,X,F,l,$);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&Ze(t,i,j,null,l,F);for(ee in l)F=l[ee],$=a[ee],!l.hasOwnProperty(ee)||F===$||F==null&&$==null||Ze(t,i,ee,F,l,$)}function nv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&nv(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],H=N.startTime;if(H>S)break;var X=N.transferSize,ee=N.initiatorType;X&&nv(ee)&&(N=N.responseEnd,_+=X*(N<S?1:(S-H)/(N-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zd=null,Jd=null;function Hc(t){return t.nodeType===9?t:t.ownerDocument}function iv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function em(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var tm=null;function SA(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var sv=typeof setTimeout=="function"?setTimeout:void 0,AA=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(RA)}:sv;function RA(t){setTimeout(function(){throw t})}function Xr(t){return t==="head"}function ov(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),ao(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ol(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ol(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[mi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Ol(t.ownerDocument.body);a=h}while(a);ao(i)}function lv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function nm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),ba(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function xA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function CA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function uv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$?"||t.data==="$~"}function rm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function IA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var sm=null;function cv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function hv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function fv(t,i,a){switch(i=Hc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ol(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ba(t)}var Bn=new Map,dv=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ar=oe.d;oe.d={f:NA,r:DA,D:OA,C:MA,L:VA,m:PA,X:kA,S:LA,M:UA};function NA(){var t=ar.f(),i=Pc();return t||i}function DA(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?Ny(i):ar.r(t)}var io=typeof document>"u"?null:document;function mv(t,i,a){var l=io;if(l&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),dv.has(h)||(dv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function OA(t){ar.D(t),mv("dns-prefetch",t,null)}function MA(t,i){ar.C(t,i),mv("preconnect",t,i)}function VA(t,i,a){ar.L(t,i,a);var l=io;if(l&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var d=h;switch(i){case"style":d=ro(t);break;case"script":d=so(t)}Bn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function PA(t,i){ar.m(t,i);var a=io;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(l)+'"][href="'+an(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!Bn.has(d)&&(t=b({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Gt(l,"link",t),St(l),a.head.appendChild(l)}}}function LA(t,i,a){ar.S(t,i,a);var l=io;if(l&&t){var h=gi(l).hoistableStyles,d=ro(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ml(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&am(t,a);var N=_=l.createElement("link");St(N),Gt(N,"link",t),N._p=new Promise(function(H,X){N.onload=H,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function kA(t,i){ar.X(t,i);var a=io;if(a&&t){var l=gi(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=b({src:t,async:!0},i),(i=Bn.get(h))&&om(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function UA(t,i){ar.M(t,i);var a=io;if(a&&t){var l=gi(a).hoistableScripts,h=so(t),d=l.get(h);d||(d=a.querySelector(Vl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&om(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function pv(t,i,a,l){var h=(h=xe.current)?Fc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ro(a.href),a=gi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=gi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Ml(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||jA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=so(a),a=gi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+an(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function gv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function jA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),St(i),t.head.appendChild(i))}function so(t){return'[src="'+an(t)+'"]'}function Vl(t){return"script[async]"+t}function yv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+an(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Gt(l,"style",h),Gc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ro(a.href);var d=t.querySelector(Ml(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=gv(a),(h=Bn.get(h))&&am(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,Gc(d,a.precedence,t),i.instance=d;case"script":return d=so(a.src),(h=t.querySelector(Vl(d)))?(i.instance=h,St(h),h):(l=a,(h=Bn.get(d))&&(l=b({},a),om(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Gc(l,a.precedence,t));return i.instance}function Gc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function om(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Qc=null;function _v(t,i,a){if(Qc===null){var l=new Map,h=Qc=new Map;h.set(a,l)}else h=Qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[mi]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function vv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function zA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ev(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function BA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=ro(l.href),d=i.querySelector(Ml(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Kc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=gv(l),(h=Bn.get(h))&&am(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Kc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var lm=0;function qA(t,i){return t.stylesheets&&t.count===0&&$c(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&lm===0&&(lm=62500*bA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>lm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function $c(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,i.forEach(HA,t),Yc=null,Kc.call(t))}function HA(t,i){if(!(i.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Kc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:W,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function FA(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Tv(t,i,a,l,h,d,_,S,N,H,X,ee){return t=new FA(t,i,a,_,N,H,X,ee,S),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=Bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),t}function bv(t){return t?(t=La,t):La}function Sv(t,i,a,l,h,d){h=bv(h),l.context===null?l.context=h:l.pendingContext=h,l=jr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zr(t,l,i),a!==null&&(fn(a,t,i),dl(a,t,i))}function Av(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function um(t,i){Av(t,i),(t=t.alternate)&&Av(t,i)}function wv(t){if(t.tag===13||t.tag===31){var i=Bs(t,67108864);i!==null&&fn(i,t,67108864),um(t,67108864)}}function Rv(t){if(t.tag===13||t.tag===31){var i=Rn();i=Is(i);var a=Bs(t,i);a!==null&&fn(a,t,i),um(t,i)}}var Xc=!0;function GA(t,i,a,l){var h=G.T;G.T=null;var d=oe.p;try{oe.p=2,cm(t,i,a,l)}finally{oe.p=d,G.T=h}}function QA(t,i,a,l){var h=G.T;G.T=null;var d=oe.p;try{oe.p=8,cm(t,i,a,l)}finally{oe.p=d,G.T=h}}function cm(t,i,a,l){if(Xc){var h=hm(l);if(h===null)Xd(t,i,l,Wc,a),Cv(t,l);else if(YA(h,t,i,a,l))l.stopPropagation();else if(Cv(t,l),i&4&&-1<KA.indexOf(t)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-pt(_);S.entanglements[1]|=N,_&=~N}Ii(d),(Ge&6)===0&&(Mc=en()+500,Il(0))}}break;case 31:case 13:S=Bs(d,2),S!==null&&fn(S,d,2),Pc(),um(d,2)}if(d=hm(l),d===null&&Xd(t,i,l,Wc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,i,l,null,a)}}function hm(t){return t=Dn(t),fm(t)}var Wc=null;function fm(t){if(Wc=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Wc=t,null}function xv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case Uo:return 2;case jo:return 8;case Ar:case _f:return 32;case Iu:return 268435456;default:return 32}default:return 32}}var dm=!1,Wr=null,Zr=null,Jr=null,Ll=new Map,kl=new Map,es=[],KA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(t,i){switch(t){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ll.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Ul(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&wv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function YA(t,i,a,l,h){switch(i){case"focusin":return Wr=Ul(Wr,t,i,a,l,h),!0;case"dragenter":return Zr=Ul(Zr,t,i,a,l,h),!0;case"mouseover":return Jr=Ul(Jr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ll.set(d,Ul(Ll.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Ul(kl.get(d)||null,t,i,a,l,h)),!0}return!1}function Iv(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Rv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Rv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=hm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return i=Nn(a),i!==null&&wv(i),t.blockedOn=a,!1;i.shift()}return!0}function Nv(t,i,a){Zc(t)&&a.delete(i)}function $A(){dm=!1,Wr!==null&&Zc(Wr)&&(Wr=null),Zr!==null&&Zc(Zr)&&(Zr=null),Jr!==null&&Zc(Jr)&&(Jr=null),Ll.forEach(Nv),kl.forEach(Nv)}function Jc(t,i){t.blockedOn===i&&(t.blockedOn=null,dm||(dm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$A)))}var eh=null;function Dv(t){eh!==t&&(eh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=Nn(a);d!==null&&(t.splice(i,3),i-=3,hd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function ao(t){function i(N){return Jc(N,t)}Wr!==null&&Jc(Wr,t),Zr!==null&&Jc(Zr,t),Jr!==null&&Jc(Jr,t),Ll.forEach(i),kl.forEach(i);for(var a=0;a<es.length;a++){var l=es[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<es.length&&(a=es[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&es.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Dv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)S=_.formAction;else if(fm(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Dv(a)}}}function Ov(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function mm(t){this._internalRoot=t}th.prototype.render=mm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();Sv(a,l,t,i,null,null)},th.prototype.unmount=mm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Sv(t.current,2,null,t,null,null),Pc(),i[di]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var i=Pu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<es.length&&i!==0&&i<es[a].priority;a++);es.splice(a,0,t),a===0&&Iv(t)}};var Mv=e.version;if(Mv!=="19.2.1")throw Error(s(527,Mv,"19.2.1"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var XA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Gn=nh.inject(XA),zt=nh}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=zy,d=By,_=qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Tv(t,1,!1,null,null,a,l,null,h,d,_,Ov),t[di]=i.current,$d(t),new mm(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=zy,_=By,S=qy,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=Tv(t,1,!0,i,a??null,l,h,N,d,_,S,Ov),i.context=bv(null),a=i.current,l=Rn(),l=Is(l),h=jr(l),h.callback=null,zr(a,h,l),a=l,i.current.lanes=a,xs(i,a),Ii(i),t[di]=i.current,$d(t),new th(i)},zl.version="19.2.1",zl}var Hv;function lw(){if(Hv)return ym.exports;Hv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=ow(),ym.exports}var uw=lw();var Fv="popstate";function cw(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=fa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Lm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){yn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return fw(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hw(){return Math.random().toString(36).substring(2,10)}function Gv(r,e){return{usr:r.state,key:r.key,idx:e}}function Lm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fa(e):e,state:n,key:e&&e.key||s||hw()}}function eu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fa(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function fw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let z=E(),ne=z==null?null:z-g;g=z,p&&p({action:m,location:Q.location,delta:ne})}function w(z,ne){m="PUSH";let ie=Lm(Q.location,z,ne);n&&n(ie,z),g=E()+1;let W=Gv(ie,g),ue=Q.createHref(ie);try{f.pushState(W,"",ue)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(ue)}u&&p&&p({action:m,location:Q.location,delta:1})}function O(z,ne){m="REPLACE";let ie=Lm(Q.location,z,ne);n&&n(ie,z),g=E();let W=Gv(ie,g),ue=Q.createHref(ie);f.replaceState(W,"",ue),u&&p&&p({action:m,location:Q.location,delta:0})}function U(z){return dw(z)}let Q={get action(){return m},get location(){return r(o,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,b),p=z,()=>{o.removeEventListener(Fv,b),p=null}},createHref(z){return e(o,z)},createURL:U,encodeLocation(z){let ne=U(z);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:O,go(z){return f.go(z)}};return Q}function dw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:eu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function NE(r,e,n="/"){return mw(r,e,n,!1)}function mw(r,e,n,s){let o=typeof e=="string"?fa(e):e,u=fr(o.pathname||"/",n);if(u==null)return null;let f=DE(r);pw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Rw(u);m=Aw(f[p],g,s)}return m}function DE(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=cr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),DE(f.children,e,w,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:bw(b,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of OE(f.path))u(f,m,!0,p)}),e}function OE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=OE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function pw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Sw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var gw=/^:[\w-]+$/,yw=3,_w=2,vw=1,Ew=10,Tw=-2,Qv=r=>r==="*";function bw(r,e){let n=r.split("/"),s=n.length;return n.some(Qv)&&(s+=Tw),e&&(s+=_w),n.filter(o=>!Qv(o)).reduce((o,u)=>o+(gw.test(u)?yw:u===""?vw:Ew),s)}function Sw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Aw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:cr([u,b.pathname]),pathnameBase:Dw(cr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=cr([u,b.pathnameBase]))}return f}function Sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=ww(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},w)=>{if(E==="*"){let U=m[w]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const O=m[w];return b&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function ww(r,e=!1,n=!0){yn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Rw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function fr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var xw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cw=r=>xw.test(r);function Iw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fa(r):r,u;if(n)if(Cw(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),yn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=Kv(n.substring(1),"/"):u=Kv(n,e)}else u=e;return{pathname:u,search:Ow(s),hash:Mw(o)}}function Kv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Tm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Nw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dp(r){let e=Nw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function mp(r,e,n,s=!1){let o;typeof r=="string"?o=fa(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;o.pathname=w.join("/")}m=b>=0?e[b]:"/"}let p=Iw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),Dw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Ow=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Mw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Vw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function Pw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var Lw=["GET",...ME];new Set(Lw);var Ao=L.createContext(null);Ao.displayName="DataRouter";var Gh=L.createContext(null);Gh.displayName="DataRouterState";L.createContext(!1);var VE=L.createContext({isTransitioning:!1});VE.displayName="ViewTransition";var kw=L.createContext(new Map);kw.displayName="Fetchers";var Uw=L.createContext(null);Uw.displayName="Await";var Fn=L.createContext(null);Fn.displayName="Navigation";var hu=L.createContext(null);hu.displayName="Location";var oi=L.createContext({outlet:null,matches:[],isDataRoute:!1});oi.displayName="Route";var pp=L.createContext(null);pp.displayName="RouteError";function jw(r,{relative:e}={}){lt(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Fn),{hash:o,pathname:u,search:f}=fu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function wo(){return L.useContext(hu)!=null}function vr(){return lt(wo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(hu).location}var PE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LE(r){L.useContext(Fn).static||L.useLayoutEffect(r)}function Er(){let{isDataRoute:r}=L.useContext(oi);return r?Jw():zw()}function zw(){lt(wo(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(Ao),{basename:e,navigator:n}=L.useContext(Fn),{matches:s}=L.useContext(oi),{pathname:o}=vr(),u=JSON.stringify(dp(s)),f=L.useRef(!1);return LE(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(yn(f.current,PE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=mp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:cr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}L.createContext(null);function Bw(){let{matches:r}=L.useContext(oi),e=r[r.length-1];return e?e.params:{}}function fu(r,{relative:e}={}){let{matches:n}=L.useContext(oi),{pathname:s}=vr(),o=JSON.stringify(dp(n));return L.useMemo(()=>mp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function qw(r,e){return kE(r,e)}function kE(r,e,n,s,o){lt(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(Fn),{matches:f}=L.useContext(oi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let ie=b&&b.path||"";UE(g,!b||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let w=vr(),O;if(e){let ie=typeof e=="string"?fa(e):e;lt(E==="/"||ie.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),O=ie}else O=w;let U=O.pathname||"/",Q=U;if(E!=="/"){let ie=E.replace(/^\//,"").split("/");Q="/"+U.replace(/^\//,"").split("/").slice(ie.length).join("/")}let z=NE(r,{pathname:Q});yn(b||z!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),yn(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=Kw(z&&z.map(ie=>Object.assign({},ie,{params:Object.assign({},p,ie.params),pathname:cr([E,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?E:cr([E,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&ne?L.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},ne):ne}function Hw(){let r=Zw(),e=Vw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var Fw=L.createElement(Hw,null),Gw=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(oi.Provider,{value:this.props.routeContext},L.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Qw({routeContext:r,match:e,children:n}){let s=L.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(oi.Provider,{value:r},n)}function Kw(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=E),b.route.id){let{loaderData:w,errors:O}=n,U=b.route.loader&&!w.hasOwnProperty(b.route.id)&&(!O||O[b.route.id]===void 0);if(b.route.lazy||U){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:Pw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,w)=>{let O,U=!1,Q=null,z=null;n&&(O=f&&b.route.id?f[b.route.id]:void 0,Q=b.route.errorElement||Fw,m&&(p<0&&w===0?(UE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),U=!0,z=null):p===w&&(U=!0,z=b.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,w+1)),ie=()=>{let W;return O?W=Q:U?W=z:b.route.Component?W=L.createElement(b.route.Component,null):b.route.element?W=b.route.element:W=E,L.createElement(Qw,{match:b,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:W})};return n&&(b.route.ErrorBoundary||b.route.errorElement||w===0)?L.createElement(Gw,{location:n.location,revalidation:n.revalidation,component:Q,error:O,children:ie(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):ie()},null)}function gp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yw(r){let e=L.useContext(Ao);return lt(e,gp(r)),e}function $w(r){let e=L.useContext(Gh);return lt(e,gp(r)),e}function Xw(r){let e=L.useContext(oi);return lt(e,gp(r)),e}function yp(r){let e=Xw(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Ww(){return yp("useRouteId")}function Zw(){let r=L.useContext(pp),e=$w("useRouteError"),n=yp("useRouteError");return r!==void 0?r:e.errors?.[n]}function Jw(){let{router:r}=Yw("useNavigate"),e=yp("useNavigate"),n=L.useRef(!1);return LE(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{yn(n.current,PE),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Yv={};function UE(r,e,n){!e&&!Yv[r]&&(Yv[r]=!0,yn(!1,n))}L.memo(e1);function e1({routes:r,future:e,state:n,unstable_onError:s}){return kE(r,void 0,n,s,e)}function t1({to:r,replace:e,state:n,relative:s}){lt(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(Fn);yn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(oi),{pathname:f}=vr(),m=Er(),p=mp(r,dp(u),f,s==="path"),g=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function qn(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function n1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=fa(n));let{pathname:g="/",search:E="",hash:b="",state:w=null,key:O="default"}=n,U=L.useMemo(()=>{let Q=fr(g,m);return Q==null?null:{location:{pathname:Q,search:E,hash:b,state:w,key:O},navigationType:s}},[m,g,E,b,w,O,s]);return yn(U!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:L.createElement(Fn.Provider,{value:p},L.createElement(hu.Provider,{children:e,value:U}))}function i1({children:r,location:e}){return qw(km(r),e)}function km(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,km(s.props.children,u));return}lt(s.type===qn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=km(s.props.children,u)),n.push(f)}),n}var ch="get",hh="application/x-www-form-urlencoded";function Qh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function r1(r){return Qh(r)&&r.tagName.toLowerCase()==="button"}function s1(r){return Qh(r)&&r.tagName.toLowerCase()==="form"}function a1(r){return Qh(r)&&r.tagName.toLowerCase()==="input"}function o1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function l1(r,e){return r.button===0&&(!e||e==="_self")&&!o1(r)}function Um(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function u1(r,e){let n=Um(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ih=null;function c1(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var h1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(r){return r!=null&&!h1.has(r)?(yn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):r}function f1(r,e){let n,s,o,u,f;if(s1(r)){let m=r.getAttribute("action");s=m?fr(m,e):null,n=r.getAttribute("method")||ch,o=bm(r.getAttribute("enctype"))||hh,u=new FormData(r)}else if(r1(r)||a1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?fr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ch,o=bm(r.getAttribute("formenctype"))||bm(m.getAttribute("enctype"))||hh,u=new FormData(m,r),!c1()){let{name:g,type:E,value:b}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,b)}}else{if(Qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,s=null,o=hh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _p(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function d1(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&fr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function m1(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function p1(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function g1(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await m1(u,n);return f.links?f.links():[]}return[]}));return E1(s.flat(1).filter(p1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $v(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function y1(r,e,{includeHydrateFallback:n}={}){return _1(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function _1(r){return[...new Set(r)]}function v1(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function E1(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(v1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function jE(){let r=L.useContext(Ao);return _p(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function T1(){let r=L.useContext(Gh);return _p(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vp=L.createContext(void 0);vp.displayName="FrameworkContext";function zE(){let r=L.useContext(vp);return _p(r,"You must render this element inside a <HydratedRouter> element"),r}function b1(r,e){let n=L.useContext(vp),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,w=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=ne=>{ne.forEach(ie=>{f(ie.isIntersecting)})},z=new IntersectionObserver(Q,{threshold:.5});return w.current&&z.observe(w.current),()=>{z.disconnect()}}},[r]),L.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let O=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Bl(m,O),onBlur:Bl(p,U),onMouseEnter:Bl(g,O),onMouseLeave:Bl(E,U),onTouchStart:Bl(b,O)}]:[!1,w,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function S1({page:r,...e}){let{router:n}=jE(),s=L.useMemo(()=>NE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(w1,{page:r,matches:s,...e}):null}function A1(r){let{manifest:e,routeModules:n}=zE(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return g1(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function w1({page:r,matches:e,...n}){let s=vr(),{manifest:o,routeModules:u}=zE(),{basename:f}=jE(),{loaderData:m,matches:p}=T1(),g=L.useMemo(()=>$v(r,e,p,o,s,"data"),[r,e,p,o,s]),E=L.useMemo(()=>$v(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,Q=!1;if(e.forEach(ne=>{let ie=o.routes[ne.route.id];!ie||!ie.hasLoader||(!g.some(W=>W.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||ie.hasClientLoader?Q=!0:U.add(ne.route.id))}),U.size===0)return[];let z=d1(r,f,"data");return Q&&U.size>0&&z.searchParams.set("_routes",e.filter(ne=>U.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,g,e,r,u]),w=L.useMemo(()=>y1(E,o),[E,o]),O=A1(E);return L.createElement(L.Fragment,null,b.map(U=>L.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),w.map(U=>L.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),O.map(({key:U,link:Q})=>L.createElement("link",{key:U,nonce:n.nonce,...Q})))}function R1(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var BE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{BE&&(window.__reactRouterVersion="7.10.1")}catch{}function x1({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=L.useRef();o.current==null&&(o.current=cw({window:s,v5Compat:!0}));let u=o.current,[f,m]=L.useState({action:u.action,location:u.location}),p=L.useCallback(g=>{n===!1?m(g):L.startTransition(()=>m(g))},[n]);return L.useLayoutEffect(()=>u.listen(p),[u,p]),L.createElement(n1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var qE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...w},O){let{basename:U,unstable_useTransitions:Q}=L.useContext(Fn),z=typeof g=="string"&&qE.test(g),ne,ie=!1;if(typeof g=="string"&&z&&(ne=g,BE))try{let V=new URL(window.location.href),D=g.startsWith("//")?new URL(V.protocol+g):new URL(g),k=fr(D.pathname,U);D.origin===V.origin&&k!=null?g=k+D.search+D.hash:ie=!0}catch{yn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=jw(g,{relative:o}),[ue,_e,pe]=b1(s,w),I=D1(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b,unstable_useTransitions:Q});function R(V){e&&e(V),V.defaultPrevented||I(V)}let x=L.createElement("a",{...w,...pe,href:ne||W,onClick:ie||u?e:R,ref:R1(O,_e),target:p,"data-discover":!z&&n==="render"?"true":void 0});return ue&&!z?L.createElement(L.Fragment,null,x,L.createElement(S1,{page:W})):x});rn.displayName="Link";var C1=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=fu(f,{relative:g.relative}),w=vr(),O=L.useContext(Gh),{navigator:U,basename:Q}=L.useContext(Fn),z=O!=null&&k1(b)&&m===!0,ne=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,ie=w.pathname,W=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),W=W?W.toLowerCase():null,ne=ne.toLowerCase()),W&&Q&&(W=fr(W,Q)||W);const ue=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let _e=ie===ne||!o&&ie.startsWith(ne)&&ie.charAt(ue)==="/",pe=W!=null&&(W===ne||!o&&W.startsWith(ne)&&W.charAt(ne.length)==="/"),I={isActive:_e,isPending:pe,isTransitioning:z},R=_e?e:void 0,x;typeof s=="function"?x=s(I):x=[s,_e?"active":null,pe?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(I):u;return L.createElement(rn,{...g,"aria-current":R,className:x,ref:E,style:V,to:f,viewTransition:m},typeof p=="function"?p(I):p)});C1.displayName="NavLink";var I1=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ch,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...w},O)=>{let{unstable_useTransitions:U}=L.useContext(Fn),Q=P1(),z=L1(m,{relative:g}),ne=f.toLowerCase()==="get"?"get":"post",ie=typeof m=="string"&&qE.test(m),W=ue=>{if(p&&p(ue),ue.defaultPrevented)return;ue.preventDefault();let _e=ue.nativeEvent.submitter,pe=_e?.getAttribute("formmethod")||f,I=()=>Q(_e||ue.currentTarget,{fetcherKey:e,method:pe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b});U&&n!==!1?L.startTransition(()=>I()):I()};return L.createElement("form",{ref:O,method:ne,action:z,onSubmit:s?p:W,...w,"data-discover":!ie&&r==="render"?"true":void 0})});I1.displayName="Form";function N1(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function HE(r){let e=L.useContext(Ao);return lt(e,N1(r)),e}function D1(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=Er(),g=vr(),E=fu(r,{relative:u});return L.useCallback(b=>{if(l1(b,e)){b.preventDefault();let w=n!==void 0?n:eu(g)===eu(E),O=()=>p(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?L.startTransition(()=>O()):O()}},[g,p,E,n,s,e,r,o,u,f,m])}function O1(r){yn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(Um(r)),n=L.useRef(!1),s=vr(),o=L.useMemo(()=>u1(s.search,n.current?null:e.current),[s.search]),u=Er(),f=L.useCallback((m,p)=>{const g=Um(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var M1=0,V1=()=>`__${String(++M1)}__`;function P1(){let{router:r}=HE("useSubmit"),{basename:e}=L.useContext(Fn),n=Ww(),s=r.fetch,o=r.navigate;return L.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:b}=f1(u,e);if(f.navigate===!1){let w=f.fetcherKey||V1();await s(w,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function L1(r,{relative:e}={}){let{basename:n}=L.useContext(Fn),s=L.useContext(oi);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(r||".",{relative:e})},f=vr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),eu(u)}function k1(r,{relative:e}={}){let n=L.useContext(VE);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=HE("useViewTransitionState"),o=fu(r,{relative:e});if(!n.isTransitioning)return!1;let u=fr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=fr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Sh(o.pathname,f)!=null||Sh(o.pathname,u)!=null}const U1=()=>{};var Xv={};const FE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},j1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},GE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(w=64)),s.push(n[E],n[b],n[w],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(FE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):j1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new z1;const w=u<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),b!==64){const U=g<<6&192|b;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class z1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B1=function(r){const e=FE(r);return GE.encodeByteArray(e,!0)},Ah=function(r){return B1(r).replace(/\./g,"")},QE=function(r){try{return GE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const H1=()=>q1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof Xv>"u")return;const r=Xv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},G1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&QE(r[1]);return e&&JSON.parse(e)},Kh=()=>{try{return U1()||H1()||F1()||G1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KE=r=>Kh()?.emulatorHosts?.[r],Q1=r=>{const e=KE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},YE=()=>Kh()?.config,$E=r=>Kh()?.[`_${r}`];class K1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function XE(r){return(await fetch(r,{credentials:"include"})).ok}function Y1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ah(JSON.stringify(n)),Ah(JSON.stringify(f)),""].join(".")}const Yl={};function $1(){const r={prod:[],emulator:[]};for(const e of Object.keys(Yl))Yl[e]?r.emulator.push(e):r.prod.push(e);return r}function X1(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Wv=!1;function WE(r,e){if(typeof window>"u"||typeof document>"u"||!Ro(window.location.host)||Yl[r]===e||Yl[r]||Wv)return;Yl[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=$1().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,O){w.setAttribute("width","24"),w.setAttribute("id",O),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Wv=!0,f()},w}function E(w,O){w.setAttribute("id",O),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function b(){const w=X1(s),O=n("text"),U=document.getElementById(O)||document.createElement("span"),Q=n("learnmore"),z=document.getElementById(Q)||document.createElement("a"),ne=n("preprendIcon"),ie=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const W=w.element;m(W),E(z,Q);const ue=g();p(ie,ne),W.append(ie,U,z,ue),document.body.appendChild(W)}u?(U.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",O)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function W1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Z1(){const r=Kh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function iR(){return!Z1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rR(){try{return typeof indexedDB=="object"}catch{return!1}}function sR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const aR="FirebaseError";class Tr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=aR,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?oR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Tr(o,m,s)}}function oR(r,e){return r.replace(lR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const lR=/\{\$([^}]+)}/g;function uR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function sa(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Zv(u)&&Zv(f)){if(!sa(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Zv(r){return r!==null&&typeof r=="object"}function mu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Hl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function cR(r,e){const n=new hR(r,e);return n.subscribe.bind(n)}class hR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");fR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Sm),o.error===void 0&&(o.error=Sm),o.complete===void 0&&(o.complete=Sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Sm(){}function ut(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ta="[DEFAULT]";class dR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new K1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:mR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(r){return r===ta?void 0:r}function pR(r){return r.instantiationMode==="EAGER"}class gR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const yR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},_R=Me.INFO,vR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},ER=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=vR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ep{constructor(e){this.name=e,this._logLevel=_R,this._logHandler=ER,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const TR=(r,e)=>e.some(n=>r instanceof n);let Jv,e0;function bR(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SR(){return e0||(e0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ZE=new WeakMap,jm=new WeakMap,JE=new WeakMap,Am=new WeakMap,Tp=new WeakMap;function AR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ls(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ZE.set(n,r)}).catch(()=>{}),Tp.set(e,r),e}function wR(r){if(jm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});jm.set(r,e)}let zm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return jm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||JE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function RR(r){zm=r(zm)}function xR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(wm(this),e,...n);return JE.set(s,e.sort?e.sort():[e]),ls(s)}:SR().includes(r)?function(...e){return r.apply(wm(this),e),ls(ZE.get(this))}:function(...e){return ls(r.apply(wm(this),e))}}function CR(r){return typeof r=="function"?xR(r):(r instanceof IDBTransaction&&wR(r),TR(r,bR())?new Proxy(r,zm):r)}function ls(r){if(r instanceof IDBRequest)return AR(r);if(Am.has(r))return Am.get(r);const e=CR(r);return e!==r&&(Am.set(r,e),Tp.set(e,r)),e}const wm=r=>Tp.get(r);function IR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ls(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ls(f.result),p.oldVersion,p.newVersion,ls(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const NR=["get","getKey","getAll","getAllKeys","count"],DR=["put","add","delete","clear"],Rm=new Map;function t0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=DR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||NR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Rm.set(e,u),u}RR(r=>({...r,get:(e,n,s)=>t0(e,n)||r.get(e,n,s),has:(e,n)=>!!t0(e,n)||r.has(e,n)}));class OR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function MR(r){return r.getComponent()?.type==="VERSION"}const Bm="@firebase/app",n0="0.14.6";const dr=new Ep("@firebase/app"),VR="@firebase/app-compat",PR="@firebase/analytics-compat",LR="@firebase/analytics",kR="@firebase/app-check-compat",UR="@firebase/app-check",jR="@firebase/auth",zR="@firebase/auth-compat",BR="@firebase/database",qR="@firebase/data-connect",HR="@firebase/database-compat",FR="@firebase/functions",GR="@firebase/functions-compat",QR="@firebase/installations",KR="@firebase/installations-compat",YR="@firebase/messaging",$R="@firebase/messaging-compat",XR="@firebase/performance",WR="@firebase/performance-compat",ZR="@firebase/remote-config",JR="@firebase/remote-config-compat",ex="@firebase/storage",tx="@firebase/storage-compat",nx="@firebase/firestore",ix="@firebase/ai",rx="@firebase/firestore-compat",sx="firebase",ax="12.6.0";const qm="[DEFAULT]",ox={[Bm]:"fire-core",[VR]:"fire-core-compat",[LR]:"fire-analytics",[PR]:"fire-analytics-compat",[UR]:"fire-app-check",[kR]:"fire-app-check-compat",[jR]:"fire-auth",[zR]:"fire-auth-compat",[BR]:"fire-rtdb",[qR]:"fire-data-connect",[HR]:"fire-rtdb-compat",[FR]:"fire-fn",[GR]:"fire-fn-compat",[QR]:"fire-iid",[KR]:"fire-iid-compat",[YR]:"fire-fcm",[$R]:"fire-fcm-compat",[XR]:"fire-perf",[WR]:"fire-perf-compat",[ZR]:"fire-rc",[JR]:"fire-rc-compat",[ex]:"fire-gcs",[tx]:"fire-gcs-compat",[nx]:"fire-fst",[rx]:"fire-fst-compat",[ix]:"fire-vertex","fire-js":"fire-js",[sx]:"fire-js-all"};const wh=new Map,lx=new Map,Hm=new Map;function i0(r,e){try{r.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if(Hm.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;Hm.set(e,r);for(const n of wh.values())i0(n,r);for(const n of lx.values())i0(n,r);return!0}function bp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function xn(r){return r==null?!1:r.settings!==void 0}const ux={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new du("app","Firebase",ux);class cx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}const xo=ax;function eT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:qm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw us.create("bad-app-name",{appName:String(o)});if(n||(n=YE()),!n)throw us.create("no-options");const u=wh.get(o);if(u){if(sa(n,u.options)&&sa(s,u.config))return u;throw us.create("duplicate-app",{appName:o})}const f=new gR(o);for(const p of Hm.values())f.addComponent(p);const m=new cx(n,s,f);return wh.set(o,m),m}function tT(r=qm){const e=wh.get(r);if(!e&&r===qm&&YE())return eT();if(!e)throw us.create("no-app",{appName:r});return e}function cs(r,e,n){let s=ox[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(f.join(" "));return}yo(new aa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const hx="firebase-heartbeat-database",fx=1,tu="firebase-heartbeat-store";let xm=null;function nT(){return xm||(xm=IR(hx,fx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw us.create("idb-open",{originalErrorMessage:r.message})})),xm}async function dx(r){try{const n=(await nT()).transaction(tu),s=await n.objectStore(tu).get(iT(r));return await n.done,s}catch(e){if(e instanceof Tr)dr.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e?.message});dr.warn(n.message)}}}async function r0(r,e){try{const s=(await nT()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,iT(r)),await s.done}catch(n){if(n instanceof Tr)dr.warn(n.message);else{const s=us.create("idb-set",{originalErrorMessage:n?.message});dr.warn(s.message)}}}function iT(r){return`${r.name}!${r.options.appId}`}const mx=1024,px=30;class gx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _x(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=s0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>px){const o=vx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){dr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=s0(),{heartbeatsToSend:n,unsentEntries:s}=yx(this._heartbeatsCache.heartbeats),o=Ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return dr.warn(e),""}}}function s0(){return new Date().toISOString().substring(0,10)}function yx(r,e=mx){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),a0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),a0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class _x{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rR()?sR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return r0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function a0(r){return Ah(JSON.stringify({version:2,heartbeats:r})).length}function vx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function Ex(r){yo(new aa("platform-logger",e=>new OR(e),"PRIVATE")),yo(new aa("heartbeat",e=>new gx(e),"PRIVATE")),cs(Bm,n0,r),cs(Bm,n0,"esm2020"),cs("fire-js","")}Ex("");var Tx="firebase",bx="12.6.0";cs(Tx,bx,"app");function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Sx=rT,sT=new du("auth","Firebase",rT());const Rh=new Ep("@firebase/auth");function Ax(r,...e){Rh.logLevel<=Me.WARN&&Rh.warn(`Auth (${xo}): ${r}`,...e)}function fh(r,...e){Rh.logLevel<=Me.ERROR&&Rh.error(`Auth (${xo}): ${r}`,...e)}function si(r,...e){throw Sp(r,...e)}function Di(r,...e){return Sp(r,...e)}function aT(r,e,n){const s={...Sx(),[e]:n};return new du("auth","Firebase",s).create(e,{appName:r.name})}function Oi(r){return aT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return sT.create(r,...e)}function Ee(r,e,...n){if(!r)throw Sp(e,...n)}function lr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw fh(e),new Error(e)}function mr(r,e){r||lr(e)}function Fm(){return typeof self<"u"&&self.location?.href||""}function wx(){return o0()==="http:"||o0()==="https:"}function o0(){return typeof self<"u"&&self.location?.protocol||null}function Rx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wx()||eR()||"connection"in navigator)?navigator.onLine:!0}function xx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class pu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=W1()||tR()}get(){return Rx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ap(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class oT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;lr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;lr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;lr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ix=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Nx=new pu(3e4,6e4);function vs(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ji(r,e,n,s,o={}){return lT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=mu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return J1()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(g.credentials="include"),oT.fetch()(await uT(r,r.config.apiHost,n,m),g)})}async function lT(r,e,n){r._canInitEmulator=!1;const s={...Cx,...e};try{const o=new Ox(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw rh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw aT(r,E,g);si(r,E)}}catch(o){if(o instanceof Tr)throw o;si(r,"network-request-failed",{message:String(o)})}}async function gu(r,e,n,s,o={}){const u=await ji(r,e,n,s,o);return"mfaPendingCredential"in u&&si(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function uT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Ap(r.config,o):`${r.config.apiScheme}://${o}`;return Ix.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Dx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),Nx.get())})}}function rh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Di(r,e,s);return o.customData._tokenResponse=n,o}function l0(r){return r!==void 0&&r.enterprise!==void 0}class Mx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Dx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Vx(r,e){return ji(r,"GET","/v2/recaptchaConfig",vs(r,e))}async function Px(r,e){return ji(r,"POST","/v1/accounts:delete",e)}async function xh(r,e){return ji(r,"POST","/v1/accounts:lookup",e)}function $l(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Lx(r,e=!1){const n=ut(r),s=await n.getIdToken(e),o=wp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:$l(Cm(o.auth_time)),issuedAtTime:$l(Cm(o.iat)),expirationTime:$l(Cm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Cm(r){return Number(r)*1e3}function wp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=QE(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function u0(r){const e=wp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function oa(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Tr&&kx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function kx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Ux{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Gm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$l(this.lastLoginAt),this.creationTime=$l(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const e=r.auth,n=await r.getIdToken(),s=await oa(r,xh(e,{idToken:n}));Ee(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?cT(o.providerUserInfo):[],f=zx(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function jx(r){const e=ut(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Bx(r,e){const n=await lT(r,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await uT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Ro(r.emulatorConfig.host)&&(p.credentials="include"),oT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qx(r,e){return ji(r,"POST","/v2/accounts:revokeToken",vs(r,e))}class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):u0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=u0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Bx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new fo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return lr("not implemented")}}function ns(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Ux(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Gm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await oa(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Lx(this,e)}reload(){return jx(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(Oi(this.auth));const e=await this.getIdToken();return await oa(this,Px(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:w,isAnonymous:O,providerData:U,stsTokenManager:Q}=n;Ee(b&&Q,e,"internal-error");const z=fo.fromJSON(this.name,Q);Ee(typeof b=="string",e,"internal-error"),ns(s,e.name),ns(o,e.name),Ee(typeof w=="boolean",e,"internal-error"),Ee(typeof O=="boolean",e,"internal-error"),ns(u,e.name),ns(f,e.name),ns(m,e.name),ns(p,e.name),ns(g,e.name),ns(E,e.name);const ne=new ii({uid:b,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:O,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:g,lastLoginAt:E});return U&&Array.isArray(U)&&(ne.providerData=U.map(ie=>({...ie}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Gm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const c0=new Map;function ur(r){mr(r instanceof Function,"Expected a class definition");let e=c0.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,c0.set(r,e),e)}class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hT.type="NONE";const h0=hT;function dh(r,e,n){return`firebase:${r}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(ur(h0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ur(h0);const f=dh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const w=await xh(e,{idToken:E}).catch(()=>{});if(!w)break;b=await ii._fromGetAccountInfoResponse(e,w,E)}else b=ii._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new mo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new mo(u,e,s))}}function f0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yT(e))return"Blackberry";if(_T(e))return"Webos";if(dT(e))return"Safari";if((e.includes("chrome/")||mT(e))&&!e.includes("edge/"))return"Chrome";if(gT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function fT(r=Jt()){return/firefox\//i.test(r)}function dT(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mT(r=Jt()){return/crios\//i.test(r)}function pT(r=Jt()){return/iemobile/i.test(r)}function gT(r=Jt()){return/android/i.test(r)}function yT(r=Jt()){return/blackberry/i.test(r)}function _T(r=Jt()){return/webos/i.test(r)}function Rp(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Hx(r=Jt()){return Rp(r)&&!!window.navigator?.standalone}function Fx(){return nR()&&document.documentMode===10}function vT(r=Jt()){return Rp(r)||gT(r)||_T(r)||yT(r)||/windows phone/i.test(r)||pT(r)}function ET(r,e=[]){let n;switch(r){case"Browser":n=f0(Jt());break;case"Worker":n=`${f0(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}class Gx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Qx(r,e={}){return ji(r,"GET","/v2/passwordPolicy",vs(r,e))}const Kx=6;class Yx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Kx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class $x{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d0(this),this.idTokenSubscription=new d0(this),this.beforeStateQueue=new Gx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(xn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(Oi(this));const n=e?ut(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(Oi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(Oi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qx(this),n=new Yx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await qx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Ax(`Error while retrieving App Check token: ${e.error}`),e?.token}}function da(r){return ut(r)}class d0{constructor(e){this.auth=e,this.observer=null,this.addObserver=cR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Xx(r){Yh=r}function TT(r){return Yh.loadJS(r)}function Wx(){return Yh.recaptchaEnterpriseScript}function Zx(){return Yh.gapiScript}function Jx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class eC{constructor(){this.enterprise=new tC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class tC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const nC="recaptcha-enterprise",bT="NO_RECAPTCHA";class iC{constructor(e){this.type=nC,this.auth=da(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Vx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new Mx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;l0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(bT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&l0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Wx();p.length!==0&&(p+=m),TT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function m0(r,e,n,s=!1,o=!1){const u=new iC(r);let f;if(o)f=bT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Qm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await m0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await m0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function rC(r,e){const n=bp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sa(u,e??{}))return o;si(o,"already-initialized")}return n.initialize({options:e})}function sC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ur);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function aC(r,e,n){const s=da(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ST(e),{host:f,port:m}=oC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(sa(g,s.config.emulator)&&sa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Ro(f)?(XE(`${u}//${f}${p}`),WE("Auth",!0)):lC()}function ST(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function oC(r){const e=ST(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:p0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:p0(f)}}}function p0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function lC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return lr("not implemented")}_getIdTokenResponse(e){return lr("not implemented")}_linkToIdToken(e,n){return lr("not implemented")}_getReauthenticationResolver(e){return lr("not implemented")}}async function uC(r,e){return ji(r,"POST","/v1/accounts:update",e)}async function cC(r,e){return ji(r,"POST","/v1/accounts:signUp",e)}async function hC(r,e){return gu(r,"POST","/v1/accounts:signInWithPassword",vs(r,e))}async function fC(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}async function dC(r,e){return gu(r,"POST","/v1/accounts:signInWithEmailLink",vs(r,e))}class nu extends xp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new nu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,n,"signInWithPassword",hC);case"emailLink":return fC(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,s,"signUpPassword",cC);case"emailLink":return dC(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function po(r,e){return gu(r,"POST","/v1/accounts:signInWithIdp",vs(r,e))}const mC="http://localhost";class la extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new la(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}function pC(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function gC(r){const e=ql(Hl(r)).link,n=e?ql(Hl(e)).deep_link_id:null,s=ql(Hl(r)).deep_link_id;return(s?ql(Hl(s)).link:null)||s||n||e||r}class Cp{constructor(e){const n=ql(Hl(e)),s=n.apiKey??null,o=n.oobCode??null,u=pC(n.mode??null);Ee(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=gC(e);try{return new Cp(n)}catch{return null}}}class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Cp.parseLink(n);return Ee(s,"argument-error"),nu._fromEmailAndCode(e,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class AT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class yu extends AT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class is extends yu{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";class rs extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";class ss extends yu{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";class as extends yu{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return as.credential(n,s)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";async function yC(r,e){return gu(r,"POST","/v1/accounts:signUp",vs(r,e))}class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),f=g0(s);return new ua({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=g0(s);return new ua({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function g0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ih extends Tr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ih(e,n,s,o)}}function wT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function _C(r,e,n=!1){const s=await oa(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ua._forOperation(r,"link",s)}async function vC(r,e,n=!1){const{auth:s}=r;if(xn(s.app))return Promise.reject(Oi(s));const o="reauthenticate";try{const u=await oa(r,wT(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=wp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ua._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(s,"user-mismatch"),u}}async function RT(r,e,n=!1){if(xn(r.app))return Promise.reject(Oi(r));const s="signIn",o=await wT(r,s,e),u=await ua._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function EC(r,e){return RT(da(r),e)}async function xT(r){const e=da(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function TC(r,e,n){if(xn(r.app))return Promise.reject(Oi(r));const s=da(r),f=await Qm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&xT(r),p}),m=await ua._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function bC(r,e,n){return xn(r.app)?Promise.reject(Oi(r)):EC(ut(r),Co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xT(r),s})}async function SC(r,e){return ji(r,"POST","/v1/accounts:update",e)}async function AC(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ut(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await oa(s,SC(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function wC(r,e){const n=ut(r);return xn(n.auth.app)?Promise.reject(Oi(n.auth)):CT(n,e,null)}function RC(r,e){return CT(ut(r),null,e)}async function CT(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(u.email=e),n&&(u.password=n);const f=await oa(r,uC(s,u));await r._updateTokensIfNecessary(f,!0)}function xC(r,e,n,s){return ut(r).onIdTokenChanged(e,n,s)}function CC(r,e,n){return ut(r).beforeAuthStateChanged(e,n)}function IC(r,e,n,s){return ut(r).onAuthStateChanged(e,n,s)}function NC(r){return ut(r).signOut()}const Nh="__sak";class IT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const DC=1e3,OC=10;class NT extends IT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);Fx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NT.type="LOCAL";const MC=NT;class DT extends IT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}DT.type="SESSION";const OT=DT;function VC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class $h{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new $h(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await VC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}$h.receivers=[];function Ip(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class PC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ip("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const w=b;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Mi(){return window}function LC(r){Mi().location.href=r}function MT(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function kC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UC(){return navigator?.serviceWorker?.controller||null}function jC(){return MT()?self:null}const VT="firebaseLocalStorageDb",zC=1,Dh="firebaseLocalStorage",PT="fbase_key";class _u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function BC(){const r=indexedDB.deleteDatabase(VT);return new _u(r).toPromise()}function Km(){const r=indexedDB.open(VT,zC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dh,{keyPath:PT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dh)?e(s):(s.close(),await BC(),e(await Km()))})})}async function y0(r,e,n){const s=Xh(r,!0).put({[PT]:e,value:n});return new _u(s).toPromise()}async function qC(r,e){const n=Xh(r,!1).get(e),s=await new _u(n).toPromise();return s===void 0?null:s.value}function _0(r,e){const n=Xh(r,!0).delete(e);return new _u(n).toPromise()}const HC=800,FC=3;class LT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>FC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return MT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=$h._getInstance(jC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kC(),!this.activeServiceWorker)return;this.sender=new PC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await y0(e,Nh,"1"),await _0(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>y0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>qC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new _u(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LT.type="LOCAL";const GC=LT;new pu(3e4,6e4);function QC(r,e){return e?ur(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Np extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KC(r){return RT(r.auth,new Np(r),r.bypassAuthState)}function YC(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),vC(n,new Np(r),r.bypassAuthState)}async function $C(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),_C(n,new Np(r),r.bypassAuthState)}class kT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return YC;default:si(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const XC=new pu(2e3,1e4);class ho extends kT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XC.get())};e()}}ho.currentPopupAction=null;const WC="pendingRedirect",mh=new Map;class ZC extends kT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await JC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JC(r,e){const n=nI(e),s=tI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function eI(r,e){mh.set(r._key(),e)}function tI(r){return ur(r._redirectPersistence)}function nI(r){return dh(WC,r.config.apiKey,r.name)}async function iI(r,e,n=!1){if(xn(r.app))return Promise.reject(Oi(r));const s=da(r),o=QC(s,e),f=await new ZC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const rI=600*1e3;class sI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!UT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rI&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(e))}saveEventToCache(e){this.cachedEventUids.add(v0(e)),this.lastProcessedEventTime=Date.now()}}function v0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function UT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function aI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(r);default:return!1}}async function oI(r,e={}){return ji(r,"GET","/v1/projects",e)}const lI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uI=/^https?/;async function cI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await oI(r);for(const n of e)try{if(hI(n))return}catch{}si(r,"unauthorized-domain")}function hI(r){const e=Fm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!uI.test(n))return!1;if(lI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const fI=new pu(3e4,6e4);function E0(){const r=Mi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function dI(r){return new Promise((e,n)=>{function s(){E0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{E0(),n(Di(r,"network-request-failed"))},timeout:fI.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=Jx("iframefcb");return Mi()[o]=()=>{gapi.load?s():n(Di(r,"network-request-failed"))},TT(`${Zx()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ph=null,e})}let ph=null;function mI(r){return ph=ph||dI(r),ph}const pI=new pu(5e3,15e3),gI="__/auth/iframe",yI="emulator/auth/iframe",_I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EI(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ap(e,yI):`https://${r.config.authDomain}/${gI}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=vI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function TI(r){const e=await mI(r),n=Mi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:EI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_I,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Di(r,"network-request-failed"),m=Mi().setTimeout(()=>{u(f)},pI.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const bI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SI=500,AI=600,wI="_blank",RI="http://localhost";class T0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xI(r,e,n,s=SI,o=AI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...bI,width:s.toString(),height:o.toString(),top:u,left:f},g=Jt().toLowerCase();n&&(m=mT(g)?wI:n),fT(g)&&(e=e||RI,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[O,U])=>`${w}${O}=${U},`,"");if(Hx(g)&&m!=="_self")return CI(e||"",m),new T0(null);const b=window.open(e||"",m,E);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new T0(b)}function CI(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const II="__/auth/handler",NI="emulator/auth/handler",DI=encodeURIComponent("fac");async function b0(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof AT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",uR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof yu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${DI}=${encodeURIComponent(p)}`:"";return`${OI(r)}?${mu(m).slice(1)}${g}`}function OI({config:r}){return r.emulator?Ap(r,NI):`https://${r.authDomain}/${II}`}const Im="webStorageSupport";class MI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OT,this._completeRedirectFn=iI,this._overrideRedirectResult=eI}async _openPopup(e,n,s,o){mr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await b0(e,n,s,Fm(),o);return xI(e,u,Ip())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await b0(e,n,s,Fm(),o);return LC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await TI(e),s=new sI(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},o=>{const u=o?.[0]?.[Im];u!==void 0&&n(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vT()||dT()||Rp()}}const VI=MI;var S0="@firebase/auth",A0="1.11.1";class PI{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kI(r){yo(new aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(r)},g=new $x(s,o,u,p);return sC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new aa("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new PI(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(S0,A0,LI(r)),cs(S0,A0,"esm2020")}const UI=300,jI=$E("authIdTokenMaxAge")||UI;let w0=null;const zI=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jI)return;const o=n?.token;w0!==o&&(w0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BI(r=tT()){const e=bp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=rC(r,{popupRedirectResolver:VI,persistence:[GC,MC,OT]}),s=$E("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=zI(u.toString());CC(n,f,()=>f(n.currentUser)),xC(n,m=>f(m))}}const o=KE("auth");return o&&aC(n,`http://${o}`),n}function qI(){return document.getElementsByTagName("head")?.[0]??document}Xx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Di("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kI("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var hs,jT;(function(){var r;function e(I,R){function x(){}x.prototype=R.prototype,I.F=R.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,D,k){for(var C=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)C[ze-2]=arguments[ze];return R.prototype[D].apply(V,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,R,x){x||(x=0);const V=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)V[D]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(D=0;D<16;++D)V[D]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=I.g[0],x=I.g[1],D=I.g[2];let k=I.g[3],C;C=R+(k^x&(D^k))+V[0]+3614090360&4294967295,R=x+(C<<7&4294967295|C>>>25),C=k+(D^R&(x^D))+V[1]+3905402710&4294967295,k=R+(C<<12&4294967295|C>>>20),C=D+(x^k&(R^x))+V[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=x+(R^D&(k^R))+V[3]+3250441966&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(k^x&(D^k))+V[4]+4118548399&4294967295,R=x+(C<<7&4294967295|C>>>25),C=k+(D^R&(x^D))+V[5]+1200080426&4294967295,k=R+(C<<12&4294967295|C>>>20),C=D+(x^k&(R^x))+V[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=x+(R^D&(k^R))+V[7]+4249261313&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(k^x&(D^k))+V[8]+1770035416&4294967295,R=x+(C<<7&4294967295|C>>>25),C=k+(D^R&(x^D))+V[9]+2336552879&4294967295,k=R+(C<<12&4294967295|C>>>20),C=D+(x^k&(R^x))+V[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=x+(R^D&(k^R))+V[11]+2304563134&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(k^x&(D^k))+V[12]+1804603682&4294967295,R=x+(C<<7&4294967295|C>>>25),C=k+(D^R&(x^D))+V[13]+4254626195&4294967295,k=R+(C<<12&4294967295|C>>>20),C=D+(x^k&(R^x))+V[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=x+(R^D&(k^R))+V[15]+1236535329&4294967295,x=D+(C<<22&4294967295|C>>>10),C=R+(D^k&(x^D))+V[1]+4129170786&4294967295,R=x+(C<<5&4294967295|C>>>27),C=k+(x^D&(R^x))+V[6]+3225465664&4294967295,k=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(k^R))+V[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=x+(k^R&(D^k))+V[0]+3921069994&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(D^k&(x^D))+V[5]+3593408605&4294967295,R=x+(C<<5&4294967295|C>>>27),C=k+(x^D&(R^x))+V[10]+38016083&4294967295,k=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(k^R))+V[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=x+(k^R&(D^k))+V[4]+3889429448&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(D^k&(x^D))+V[9]+568446438&4294967295,R=x+(C<<5&4294967295|C>>>27),C=k+(x^D&(R^x))+V[14]+3275163606&4294967295,k=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(k^R))+V[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=x+(k^R&(D^k))+V[8]+1163531501&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(D^k&(x^D))+V[13]+2850285829&4294967295,R=x+(C<<5&4294967295|C>>>27),C=k+(x^D&(R^x))+V[2]+4243563512&4294967295,k=R+(C<<9&4294967295|C>>>23),C=D+(R^x&(k^R))+V[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=x+(k^R&(D^k))+V[12]+2368359562&4294967295,x=D+(C<<20&4294967295|C>>>12),C=R+(x^D^k)+V[5]+4294588738&4294967295,R=x+(C<<4&4294967295|C>>>28),C=k+(R^x^D)+V[8]+2272392833&4294967295,k=R+(C<<11&4294967295|C>>>21),C=D+(k^R^x)+V[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=x+(D^k^R)+V[14]+4259657740&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(x^D^k)+V[1]+2763975236&4294967295,R=x+(C<<4&4294967295|C>>>28),C=k+(R^x^D)+V[4]+1272893353&4294967295,k=R+(C<<11&4294967295|C>>>21),C=D+(k^R^x)+V[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=x+(D^k^R)+V[10]+3200236656&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(x^D^k)+V[13]+681279174&4294967295,R=x+(C<<4&4294967295|C>>>28),C=k+(R^x^D)+V[0]+3936430074&4294967295,k=R+(C<<11&4294967295|C>>>21),C=D+(k^R^x)+V[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=x+(D^k^R)+V[6]+76029189&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(x^D^k)+V[9]+3654602809&4294967295,R=x+(C<<4&4294967295|C>>>28),C=k+(R^x^D)+V[12]+3873151461&4294967295,k=R+(C<<11&4294967295|C>>>21),C=D+(k^R^x)+V[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=x+(D^k^R)+V[2]+3299628645&4294967295,x=D+(C<<23&4294967295|C>>>9),C=R+(D^(x|~k))+V[0]+4096336452&4294967295,R=x+(C<<6&4294967295|C>>>26),C=k+(x^(R|~D))+V[7]+1126891415&4294967295,k=R+(C<<10&4294967295|C>>>22),C=D+(R^(k|~x))+V[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=x+(k^(D|~R))+V[5]+4237533241&4294967295,x=D+(C<<21&4294967295|C>>>11),C=R+(D^(x|~k))+V[12]+1700485571&4294967295,R=x+(C<<6&4294967295|C>>>26),C=k+(x^(R|~D))+V[3]+2399980690&4294967295,k=R+(C<<10&4294967295|C>>>22),C=D+(R^(k|~x))+V[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=x+(k^(D|~R))+V[1]+2240044497&4294967295,x=D+(C<<21&4294967295|C>>>11),C=R+(D^(x|~k))+V[8]+1873313359&4294967295,R=x+(C<<6&4294967295|C>>>26),C=k+(x^(R|~D))+V[15]+4264355552&4294967295,k=R+(C<<10&4294967295|C>>>22),C=D+(R^(k|~x))+V[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=x+(k^(D|~R))+V[13]+1309151649&4294967295,x=D+(C<<21&4294967295|C>>>11),C=R+(D^(x|~k))+V[4]+4149444226&4294967295,R=x+(C<<6&4294967295|C>>>26),C=k+(x^(R|~D))+V[11]+3174756917&4294967295,k=R+(C<<10&4294967295|C>>>22),C=D+(R^(k|~x))+V[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=x+(k^(D|~R))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.v=function(I,R){R===void 0&&(R=I.length);const x=R-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<R;){if(D==0)for(;k<=x;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<R;)if(V[D++]=I.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<R;)if(V[D++]=I[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[R++]=this.g[x]>>>V&255;return I};function u(I,R){var x=m;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=R(I)}function f(I,R){this.h=R;const x=[];let V=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;V&&k==R||(x[D]=k,V=!1)}this.g=x}var m={};function p(I){return-128<=I&&I<128?u(I,function(R){return new f([R|0],R<0?-1:0)}):new f([I|0],I<0?-1:0)}function g(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return z(g(-I));const R=[];let x=1;for(let V=0;I>=x;V++)R[V]=I/x|0,x*=4294967296;return new f(R,0)}function E(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return z(E(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(R,8));let V=b;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const C=parseInt(I.substring(k,k+D),R);D<8?(D=g(Math.pow(R,D)),V=V.j(D).add(g(C))):(V=V.j(x),V=V.add(g(C)))}return V}var b=p(0),w=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-z(this).m();let I=0,R=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*R,R*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(U(this))return"0";if(Q(this))return"-"+z(this).toString(I);const R=g(Math.pow(I,6));var x=this;let V="";for(;;){const D=ue(x,R).g;x=ne(x,D.j(R));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=D,U(x))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function U(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function Q(I){return I.h==-1}r.l=function(I){return I=ne(this,I),Q(I)?-1:U(I)?0:1};function z(I){const R=I.g.length,x=[];for(let V=0;V<R;V++)x[V]=~I.g[V];return new f(x,~I.h).add(w)}r.abs=function(){return Q(this)?z(this):this},r.add=function(I){const R=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let D=0;D<=R;D++){let k=V+(this.i(D)&65535)+(I.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=C>>>16,k&=65535,C&=65535,x[D]=C<<16|k}return new f(x,x[x.length-1]&-2147483648?-1:0)};function ne(I,R){return I.add(z(R))}r.j=function(I){if(U(this)||U(I))return b;if(Q(this))return Q(I)?z(this).j(z(I)):z(z(this).j(I));if(Q(I))return z(this.j(z(I)));if(this.l(O)<0&&I.l(O)<0)return g(this.m()*I.m());const R=this.g.length+I.g.length,x=[];for(var V=0;V<2*R;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const k=this.i(V)>>>16,C=this.i(V)&65535,ze=I.i(D)>>>16,ht=I.i(D)&65535;x[2*V+2*D]+=C*ht,ie(x,2*V+2*D),x[2*V+2*D+1]+=k*ht,ie(x,2*V+2*D+1),x[2*V+2*D+1]+=C*ze,ie(x,2*V+2*D+1),x[2*V+2*D+2]+=k*ze,ie(x,2*V+2*D+2)}for(I=0;I<R;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=R;I<2*R;I++)x[I]=0;return new f(x,0)};function ie(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function W(I,R){this.g=I,this.h=R}function ue(I,R){if(U(R))throw Error("division by zero");if(U(I))return new W(b,b);if(Q(I))return R=ue(z(I),R),new W(z(R.g),z(R.h));if(Q(R))return R=ue(I,z(R)),new W(z(R.g),R.h);if(I.g.length>30){if(Q(I)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var x=w,V=R;V.l(I)<=0;)x=_e(x),V=_e(V);var D=pe(x,1),k=pe(V,1);for(V=pe(V,2),x=pe(x,2);!U(V);){var C=k.add(V);C.l(I)<=0&&(D=D.add(x),k=C),V=pe(V,1),x=pe(x,1)}return R=ne(I,D.j(R)),new W(D,R)}for(D=b;I.l(R)>=0;){for(x=Math.max(1,Math.floor(I.m()/R.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=g(x),C=k.j(R);Q(C)||C.l(I)>0;)x-=V,k=g(x),C=k.j(R);U(k)&&(k=w),D=D.add(k),I=ne(I,C)}return new W(D,I)}r.B=function(I){return ue(this,I).h},r.and=function(I){const R=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)&I.i(V);return new f(x,this.h&I.h)},r.or=function(I){const R=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)|I.i(V);return new f(x,this.h|I.h)},r.xor=function(I){const R=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<R;V++)x[V]=this.i(V)^I.i(V);return new f(x,this.h^I.h)};function _e(I){const R=I.g.length+1,x=[];for(let V=0;V<R;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new f(x,I.h)}function pe(I,R){const x=R>>5;R%=32;const V=I.g.length-x,D=[];for(let k=0;k<V;k++)D[k]=R>0?I.i(k+x)>>>R|I.i(k+x+1)<<32-R:I.i(k+x);return new f(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,jT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,hs=f}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var zT,Fl,BT,gh,Ym,qT,HT,FT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var B=c[A];if(!(B in v))break e;v=v[B]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,B,K){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[B].apply(A,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function O(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function U(c,y){for(let A=1;A<arguments.length;A++){const B=arguments[A];var v=typeof B;if(v=v!="object"?v:B?Array.isArray(B)?"array":v:"null",v=="array"||v=="object"&&typeof B.length=="number"){v=c.length||0;const K=B.length||0;c.length=v+K;for(let se=0;se<K;se++)c[v+se]=B[se]}else c.push(B)}}class Q{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ie{constructor(){this.h=this.g=null}add(y,v){const A=W.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var W=new Q(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,pe=!1,I=new ie,R=()=>{const c=Promise.resolve(void 0);_e=()=>{c.then(x)}};function x(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){z(v)}var y=W;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}pe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function ze(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(ze,D),ze.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),G=0;function oe(c,y,v,A,B){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=B,this.key=++G,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function He(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function P(c){const y={};for(const v in c)y[v]=c[v];return y}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(c,y){let v,A;for(let B=1;B<arguments.length;B++){A=arguments[B];for(v in A)c[v]=A[v];for(let K=0;K<Y.length;K++)v=Y[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,y,v,A,B){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const se=xe(c,y,A,B);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new oe(y,this.src,K,!!A,B),y.fa=v,c.push(y)),y};function he(c,y){const v=y.type;if(v in c.g){var A=c.g[v],B=Array.prototype.indexOf.call(A,y,void 0),K;(K=B>=0)&&Array.prototype.splice.call(A,B,1),K&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function xe(c,y,v,A){for(let B=0;B<c.length;++B){const K=c[B];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return B}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Ot={};function st(c,y,v,A,B){if(Array.isArray(y)){for(let K=0;K<y.length;K++)st(c,y[K],v,A,B);return null}return v=ko(v),c&&c[ht]?c.J(y,v,m(A)?!!A.capture:!1,B):Ss(c,y,v,!1,A,B)}function Ss(c,y,v,A,B,K){if(!y)throw Error("Invalid event type");const se=m(B)?!!B.capture:!!B;let we=As(c);if(we||(c[Ue]=we=new ae(c)),v=we.add(y,v,A,se,K),v.proxy)return v;if(A=ya(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),A,B);else if(c.attachEvent)c.attachEvent(li(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ya(){function c(v){return y.call(c.src,c.listener,v)}const y=Po;return c}function _a(c,y,v,A,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)_a(c,y[K],v,A,B);else A=m(A)?!!A.capture:!!A,v=ko(v),c&&c[ht]?(c=c.i,K=String(y).toString(),K in c.g&&(y=c.g[K],v=xe(y,v,A,B),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[K],c.h--)))):c&&(c=As(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,v,A,B)),(v=c>-1?y[c]:null)&&va(v))}function va(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ht])he(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(li(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=As(y))?(he(v,c),v.h==0&&(v.src=null,y[Ue]=null)):me(c)}}}function li(c){return c in Ot?Ot[c]:Ot[c]="on"+c}function Po(c,y){if(c.da)c=!0;else{y=new ze(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&va(c),c=v.call(A,y)}return c}function As(c){return c=c[Ue],c instanceof ae?c:null}var Lo="__closure_events_fn_"+(Math.random()*1e9>>>0);function ko(c){return typeof c=="function"?c:(c[Lo]||(c[Lo]=function(y){return c.handleEvent(y)}),c[Lo])}function Et(){V.call(this),this.i=new ae(this),this.M=this,this.G=null}b(Et,V),Et.prototype[ht]=!0,Et.prototype.removeEventListener=function(c,y,v,A){_a(this,c,y,v,A)};function Mt(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var B=y;y=new D(A,c),re(y,B)}B=!0;let K,se;if(v)for(se=v.length-1;se>=0;se--)K=y.g=v[se],B=Sr(K,A,!0,y)&&B;if(K=y.g=c,B=Sr(K,A,!0,y)&&B,B=Sr(K,A,!1,y)&&B,v)for(se=0;se<v.length;se++)K=y.g=v[se],B=Sr(K,A,!1,y)&&B}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Et.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Sr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let B=!0;for(let K=0;K<y.length;++K){const se=y[K];if(se&&!se.da&&se.capture==v){const we=se.listener,gt=se.ha||se.src;se.fa&&he(c.i,se),B=we.call(gt,A)!==!1&&B}}return B&&!A.defaultPrevented}function yf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Cu(c){c.g=yf(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){V.call(this),this.h=c,this.g={}}b(ws,V);var Uo=[];function jo(c){Le(c.g,function(y,v){this.g.hasOwnProperty(v)&&va(y)},c),c.g={}}ws.prototype.N=function(){ws.Z.N.call(this),jo(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ar=f.JSON.stringify,_f=f.JSON.parse,Iu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Nu(){}function Du(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}b(zt,D);function In(){D.call(this,"c")}b(In,D);var pt={},Ou=null;function Ea(){return Ou=Ou||new Et}pt.Ia="serverreachability";function Mu(c){D.call(this,pt.Ia,c)}b(Mu,D);function ui(c){const y=Ea();Mt(y,new Mu(y))}pt.STAT_EVENT="statevent";function Rs(c,y){D.call(this,pt.STAT_EVENT,c),this.stat=y}b(Rs,D);function Tt(c){const y=Ea();Mt(y,new Rs(y,c))}pt.Ja="timingevent";function ci(c,y){D.call(this,pt.Ja,c),this.size=y}b(ci,D);function hi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function vf(c,y,v,A,B,K){c.info(function(){if(c.g)if(K){var se="",we=K.split("&");for(let Fe=0;Fe<we.length;Fe++){var gt=we[Fe].split("=");if(gt.length>1){const at=gt[0];gt=gt[1];const Mn=at.split("_");se=Mn.length>=2&&Mn[1]=="type"?se+(at+"="+gt+"&"):se+(at+"=redacted&")}}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+B+"]: "+y+`
`+v+`
`+se})}function Vu(c,y,v,A,B,K,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+B+"]: "+y+`
`+v+`
`+K+" "+se})}function fi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ef(c,v)+(A?" "+A:"")})}function xs(c,y){c.info(function(){return"TIMEOUT: "+y})}Qn.prototype.info=function(){};function Ef(c,y){if(!c.g)return y;if(!y)return null;try{const K=JSON.parse(y);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var v=K[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var B=A[0];if(B!="noop"&&B!="stop"&&B!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Ar(K)}catch{return y}}var Cs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bo;function Is(){}b(Is,Nu),Is.prototype.g=function(){return new XMLHttpRequest},Bo=new Is;function qi(c){return encodeURIComponent(String(c))}function Pu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Kn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function di(c,y,v){c.M=1,c.A=Ns(At(y)),c.u=v,c.R=!0,Ta(c,null)}function Ta(c,y){c.F=Date.now(),mi(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),wa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Yn,c.g=Xu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var B="readystatechange";Array.isArray(B)||(B&&(Uo[0]=B.toString()),B=Uo);for(let K=0;K<B.length;K++){const se=st(v,B[K],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ui(),vf(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Wn(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Wn(this.g),gt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||gt==7||(gt==8||Fe<=0?ui(3):ui(2)),pi(this);var y=this.g.ca();this.X=y;var v=Tf(this);if(this.o=y==200,Vu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,B=this.g;if((A=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var K=A;break t}}K=null}if(c=K)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,Tt(12),_n(this),Nn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=ku(this,v),at==Lt){we==4&&(this.m=4,Tt(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==bt){this.m=4,Tt(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,at,null),gi(this,at);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),nl(se),se.P=!0,Tt(11))}}else fi(this.i,this.l,v,null),gi(this,v);we==4&&_n(this),this.o&&!this.K&&(we==4?Qu(this.j,this):(this.o=!1,mi(this)))}else Fi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),_n(this),Nn(this)}}}catch{}finally{}};function Tf(c){if(!Lu(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const A=y.length,B=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Nn(c),"";c.h.i=new f.TextDecoder}for(let K=0;K<A;K++)c.h.h=!0,v+=c.h.i.decode(y[K],{stream:!(B&&K==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function ku(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Lt:(v=Number(y.substring(v,A)),isNaN(v)?bt:(A+=1,A+v>y.length?Lt:(y=y.slice(A,A+v),c.C=A+v,y)))}Kn.prototype.cancel=function(){this.K=!0,_n(this)};function mi(c){c.T=Date.now()+c.H,ba(c,c.H)}function ba(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(g(c.aa,c),y)}function pi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(xs(this.i,this.B),this.M!=2&&(ui(),Tt(17)),_n(this),this.m=2,Nn(this)):ba(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Qu(c.j,c)}function _n(c){pi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,jo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function gi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var B=A;if(B[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Na(v),Or(v);else break e;ks(v),Tt(18)}}else v.xa=B[1],0<v.xa-v.K&&B[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(g(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&Na(v),!C(y))for(B=v.Ba.g.parse(y),y=0;y<B.length;y++){let Fe=B[y];const at=Fe[0];if(!(at<=v.K))if(v.K=at,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const Mn=Fe[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const wi=Fe[4];wi!=null&&(v.za=wi,v.j.info("SVER="+v.za));const Zn=Fe[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(A=1.5*Zn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Jn=c.g;if(Jn){const Us=Jn.g?Jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Us){var K=A.h;K.g||Us.indexOf("spdy")==-1&&Us.indexOf("quic")==-1&&Us.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Fo(K,K.h),K.h=null))}if(A.G){const Da=Jn.g?Jn.g.getResponseHeader("X-HTTP-Session-Id"):null;Da&&(A.wa=Da,Ke(A.J,A.G,Da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var se=c;if(A.na=$u(A,A.L?A.ba:null,A.W),se.L){Go(A.h,se);var we=se,gt=A.O;gt&&(we.H=gt),we.D&&(pi(we),mi(we)),A.g=se}else Fu(A);v.i.length>0&&Si(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Ai(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Ai(v,7):el(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}ui(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function qo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Fo(c,y){c.g?c.g.add(y):c.h=y}function Go(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}qo.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return O(c.i)}var Uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let B,K=null;A>=0?(B=c[v].substring(0,A),K=c[v].substring(A+1)):B=c[v],y(B,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.u),this.h=c.h,Ko(this,qu(c.i)),this.m=c.m):c&&(y=String(c).match(Uu))?(this.l=!1,kt(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),wr(this,y[4]),this.h=vi(y[5]||"",!0),Ko(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new xr(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ds(y,Aa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ds(y,Aa,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ds(v,v.charAt(0)=="/"?Yo:ju,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ds(v,zu)),c.join("")},vn.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?kt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)wr(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var B=y.h.lastIndexOf("/");B!=-1&&(A=y.h.slice(0,B+1)+A)}if(B=A,B==".."||B==".")A="";else if(B.indexOf("./")!=-1||B.indexOf("/.")!=-1){A=B.lastIndexOf("/",0)==0,B=B.split("/");const K=[];for(let se=0;se<B.length;){const we=B[se++];we=="."?A&&se==B.length&&K.push(""):we==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),A&&se==B.length&&K.push("")):(K.push(we),A=!0)}A=K.join("/")}else A=B}return v?y.h=A:v=c.i.toString()!=="",v?Ko(y,qu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new vn(c)}function kt(c,y,v){c.j=v?vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Ko(c,y,v){y instanceof xr?(c.i=y,Ra(c.i,c.l)):(v||(y=Ds(y,Rr)),c.i=new xr(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Ns(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ds(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,an),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function an(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Aa=/[#\/\?@]/g,ju=/[#\?:]/g,Yo=/[#\?]/g,Rr=/[#\?@]/g,zu=/#/g;function xr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function on(c){c.g||(c.g=new Map,c.h=0,c.i&&Sa(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=xr.prototype,r.add=function(c,y){on(this),this.i=null,c=Cr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Bu(c,y){on(c),y=Cr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function $o(c,y){return on(c),y=Cr(c,y),c.g.has(y)}r.forEach=function(c,y){on(this),this.g.forEach(function(v,A){v.forEach(function(B){c.call(y,B,A,this)},this)},this)};function Xo(c,y){on(c);let v=[];if(typeof y=="string")$o(c,y)&&(v=v.concat(c.g.get(Cr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return on(this),this.i=null,c=Cr(this,c),$o(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Xo(this,c),c.length>0?String(c[0]):y):y};function wa(c,y,v){Bu(c,y),v.length>0&&(c.i=null,c.g.set(Cr(c,y),O(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const B=qi(v);v=Xo(this,v);for(let K=0;K<v.length;K++){let se=B;v[K]!==""&&(se+="="+qi(v[K])),c.push(se)}}return this.i=c.join("&")};function qu(c){const y=new xr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Cr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ra(c,y){y&&!c.j&&(on(c),c.i=null,c.g.forEach(function(v,A){const B=A.toLowerCase();A!=B&&(Bu(this,A),wa(this,B,v))},c)),c.j=y}function $n(c,y){const v=new Qn;if(f.Image){const A=new Image;A.onload=E(Dn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Dn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Dn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Dn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Wo(c,y){const v=new Qn,A=new AbortController,B=setTimeout(()=>{A.abort(),Dn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(B),K.ok?Dn(v,"TestPingServer: ok",!0,y):Dn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Dn(v,"TestPingServer: error",!1,y)})}function Dn(c,y,v,A,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),A(v)}catch{}}function Ir(){this.g=new Iu}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ei,Nu),Ei.prototype.g=function(){return new Os(this.i,this.h)};function Os(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Os,Et),r=Os.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Nr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function xa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Nr(this):Xn(this),this.readyState==3&&xa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Nr(this))},r.Na=function(c){this.g&&(this.response=c,Nr(this))},r.ga=function(){this.g&&Nr(this)};function Nr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let y="";return Le(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ms(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=On(v),typeof c=="string"?v!=null&&qi(v):Ke(c,y,v))}function Xe(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,Et);var Ti=/^https?$/i,Zo=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Vs(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var B in A)v.set(B,A[B]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Zo,y,void 0)>=0)||A||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){Vs(this,K)}};function Vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Jo(c),Hi(c)}function Jo(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Mt(this,"complete"),Mt(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ps(this):this.Xa())},r.Xa=function(){Ps(this)};function Ps(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Mt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=K===0){let se=String(c.D).match(Uu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!Ti.test(se?se.toLowerCase():"")}v=A}if(v)Mt(c,"complete"),Mt(c,"success");else{c.o=6;try{var B=Wn(c)>2?c.g.statusText:""}catch{B=""}c.l=B+" ["+c.ca()+"]",Jo(c)}}finally{Hi(c)}}}}function Hi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Mt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),_f(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(c){const y={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var v=Pu(c[A]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[B]||[];y[B]=K,K.push(v)}He(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Dr(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new qo(c&&c.concurrentRequestLimit),this.Ba=new Ir,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Dr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Tt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=$u(this,null,this.W),Si(this)};function el(c){if(Ca(c),c.I==3){var y=c.V++,v=At(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Ls(c,v),y=new Kn(c,c.j,y),y.M=2,y.A=Ns(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Xu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}Yu(c)}function Or(c){c.g&&(nl(c),c.g.cancel(),c.g=null)}function Ca(c){Or(c),c.v&&(f.clearTimeout(c.v),c.v=null),Na(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!Ho(c.h)&&!c.m){c.m=!0;var y=c.Ea;_e||R(),pe||(_e(),pe=!0),I.add(y,c),c.D=0}}function Ia(c,y){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(g(c.Ea,c,y),Ku(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const B=new Kn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=P(K),re(K,this.U)):K=this.U),this.u!==null||this.R||(B.J=K,K=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Hu(this,B,y),v=At(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Ls(this,v),K&&(this.R?y="headers="+qi(On(K))+"&"+y:this.u&&Ms(v,this.u,K)),Fo(this.h,B),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),B.U=!0,di(B,v,null)):di(B,v,y),this.I=2}}else this.I==3&&(c?tl(this,c):this.i.length==0||Ho(this.h)||tl(this))};function tl(c,y){var v;y?v=y.l:v=c.V++;const A=At(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Ls(c,A),c.u&&c.o&&Ms(A,c.u,c.o),v=new Kn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Hu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Fo(c.h,v),di(v,A,y)}function Ls(c,y){c.H&&Le(c.H,function(v,A){Ke(y,A,v)}),c.l&&Le({},function(v,A){Ke(y,A,v)})}function Hu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var B=c.i;let we=-1;for(;;){const gt=["count="+v];we==-1?v>0?(we=B[0].g,gt.push("ofs="+we)):we=0:gt.push("ofs="+we);let Fe=!0;for(let at=0;at<v;at++){var K=B[at].g;const Mn=B[at].map;if(K-=we,K<0)we=Math.max(0,B[at].g-100),Fe=!1;else try{K="req"+K+"_"||"";try{var se=Mn instanceof Map?Mn:Object.entries(Mn);for(const[wi,Zn]of se){let Jn=Zn;m(Zn)&&(Jn=Ar(Zn)),gt.push(K+wi+"="+encodeURIComponent(Jn))}}catch(wi){throw gt.push(K+"type="+encodeURIComponent("_badmap")),wi}}catch{A&&A(Mn)}}if(Fe){se=gt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function Fu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;_e||R(),pe||(_e(),pe=!0),I.add(y,c),c.A=0}}function ks(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(g(c.Da,c),Ku(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Or(this),Gu(this))};function nl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Gu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Ls(c,y),c.u&&c.o&&Ms(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ns(At(y)),v.u=null,v.R=!0,Ta(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Or(this),ks(this),Tt(19))};function Na(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Qu(c,y){var v=null;if(c.g==y){Na(c),nl(c),c.g=null;var A=2}else if(_i(c.h,y))v=y.G,Go(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var B=c.D;A=Ea(),Mt(A,new ci(A,v)),Si(c)}else Fu(c);else if(B=y.m,B==3||B==0&&y.X>0||!(A==1&&Ia(c,y)||A==2&&ks(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),B){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function Ku(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ai(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const B=!A;A=new vn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||kt(A,"https"),Ns(A),B?$n(A.toString(),v):Wo(A.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(y),Yu(c),Ca(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const y=Qo(c.h);(y.length!=0||c.i.length!=0)&&(U(c.ja,y),U(c.ja,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.oa()}}function $u(c,y,v){var A=v instanceof vn?At(v):new vn(v);if(A.g!="")y&&(A.g=y+"."+A.g),wr(A,A.u);else{var B=f.location;A=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;const K=new vn(null);A&&kt(K,A),y&&(K.g=y),B&&wr(K,B),v&&(K.h=v),A=K}return v=c.G,y=c.wa,v&&y&&Ke(A,v,y),Ke(A,"VER",c.ka),Ls(c,A),A}function Xu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Ei({ab:v})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}r=Wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Mr(){}Mr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){Et.call(this),this.g=new Dr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!C(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Gi(this)}b(tn,Et),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){el(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Ar(c),c=v);y.i.push(new St(y.Ya++,c)),y.I==3&&Si(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,el(this.g),delete this.g,tn.Z.N.call(this)};function Zu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Zu,zt);function Ju(){In.call(this),this.status=1}b(Ju,In);function Gi(c){this.g=c}b(Gi,Wu),Gi.prototype.ra=function(){Mt(this.g,"a")},Gi.prototype.qa=function(c){Mt(this.g,new Zu(c))},Gi.prototype.pa=function(c){Mt(this.g,new Ju)},Gi.prototype.oa=function(){Mt(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,FT=function(){return new Mr},HT=function(){return Ea()},qT=pt,Ym={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Cs.NO_ERROR=0,Cs.TIMEOUT=8,Cs.HTTP_ERROR=6,gh=Cs,zo.COMPLETE="complete",BT=zo,Du.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,Fl=Du,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,zT=Xe}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const x0="@firebase/firestore",C0="4.9.2";let Wt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");let Io="12.3.0";const ca=new Ep("@firebase/firestore");function oo(){return ca.logLevel}function ce(r,...e){if(ca.logLevel<=Me.DEBUG){const n=e.map(Dp);ca.debug(`Firestore (${Io}): ${r}`,...n)}}function pr(r,...e){if(ca.logLevel<=Me.ERROR){const n=e.map(Dp);ca.error(`Firestore (${Io}): ${r}`,...n)}}function _o(r,...e){if(ca.logLevel<=Me.WARN){const n=e.map(Dp);ca.warn(`Firestore (${Io}): ${r}`,...n)}}function Dp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,GT(r,s,n)}function GT(r,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw pr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||GT(e,o,s)}function Ae(r,e){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class QT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class HI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Wt.UNAUTHENTICATED)))}shutdown(){}}class FI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class GI{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new QT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class QI{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KI{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new QI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Wt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class I0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YI{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new I0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new I0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $I(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Op{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=$I(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function $m(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Nm(o)===Nm(u)?Ve(o,u):Nm(o)?1:-1}return Ve(r.length,e.length)}const XI=55296,WI=57343;function Nm(r){const e=r.charCodeAt(0);return e>=XI&&e<=WI}function vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const N0="__name__";class Ni{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ni.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ni.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ni.isNumericId(e),o=Ni.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ni.extractNumericId(e).compare(Ni.extractNumericId(n)):$m(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class tt extends Ni{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new tt(n)}static emptyPath(){return new tt([])}}const ZI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ni{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return ZI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new Kt([N0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class ye{constructor(e){this.path=e}static fromPath(e){return new ye(tt.fromString(e))}static fromName(e){return new ye(tt.fromString(e).popFirst(5))}static empty(){return new ye(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new tt(e.slice()))}}function Mp(r,e,n){if(!n)throw new le(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function JI(r,e,n,s){if(e===!0&&s===!0)throw new le(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function D0(r){if(!ye.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function O0(r){if(ye.isDocumentKey(r))throw new le(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function KT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Wh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function sn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(r);throw new le(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Dt(r,e){const n={typeString:r};return e&&(n.value=e),n}function vu(r,e){if(!KT(r))throw new le(J.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(J.INVALID_ARGUMENT,n);return!0}const M0=-62135596800,V0=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*V0);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<M0)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(vu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-M0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Dt("string",rt._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new rt(0,0))}static max(){return new be(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const iu=-1;function e2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new ds(o,ye.empty(),e)}function t2(r){return new ds(r.readTime,r.key,iu)}class ds{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ds(be.min(),ye.empty(),iu)}static max(){return new ds(be.max(),ye.empty(),iu)}}function n2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const i2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class r2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function No(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==i2)throw r;ce("LocalStore","Unexpectedly lost primary lease")}class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):te.reject(n)}static resolve(e){return new te(((n,s)=>{n(e)}))}static reject(e){return new te(((n,s)=>{s(e)}))}static waitFor(e){return new te(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next((o=>o?te.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new te(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new te(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function s2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(r){return r.name==="IndexedDbTransactionError"}class Zh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zh.ce=-1;const Vp=-1;function Jh(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function a2(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const YT="";function o2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=P0(e)),e=l2(r.get(n),e);return P0(e)}function l2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case YT:n+="";break;default:n+=u}}return n}function P0(r){return r+YT+""}function L0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function $T(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class XT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new XT("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const u2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=u2.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(r.seconds),nanos:vt(r.nanos)}}function vt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ps(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const WT="server_timestamp",ZT="__type__",JT="__previous_value__",eb="__local_write_time__";function Pp(r){return(r?.mapValue?.fields||{})[ZT]?.stringValue===WT}function ef(r){const e=r.mapValue.fields[JT];return Pp(e)?ef(e):e}function ru(r){const e=ms(r.mapValue.fields[eb].timestampValue);return new rt(e.seconds,e.nanos)}class c2{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Mh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}const tb="__type__",h2="__max__",oh={mapValue:{}},nb="__vector__",Vh="value";function gs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pp(r)?4:d2(r)?9007199254740991:f2(r)?10:11:Te(28295,{value:r})}function Ui(r,e){if(r===e)return!0;const n=gs(r);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ms(o.timestampValue),m=ms(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ps(o.bytesValue).isEqual(ps(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?Oh(f)===Oh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(L0(f)!==L0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ui(f[p],m[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function au(r,e){return(r.values||[]).find((n=>Ui(n,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const n=gs(r),s=gs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return U0(r.timestampValue,e.timestampValue);case 4:return U0(ru(r),ru(e));case 5:return $m(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ps(u),p=ps(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(vt(u.latitude),vt(f.latitude));return m!==0?m:Ve(vt(u.longitude),vt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return j0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Vh]?.arrayValue,E=p[Vh]?.arrayValue,b=Ve(g?.values?.length||0,E?.values?.length||0);return b!==0?b:j0(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===oh.mapValue&&f===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(f===oh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const w=$m(p[b],E[b]);if(w!==0)return w;const O=Eo(m[p[b]],g[E[b]]);if(O!==0)return O}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function U0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ms(r),s=ms(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function j0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function To(r){return Xm(r)}function Xm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ms(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ps(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Xm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Xm(n.fields[f])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function yh(r){switch(gs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ef(r);return e?16+yh(e):16;case 5:return 2*r.stringValue.length;case 6:return ps(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+yh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Es(s.fields,((u,f)=>{o+=u.length+yh(f)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function z0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Wm(r){return!!r&&"integerValue"in r}function Lp(r){return!!r&&"arrayValue"in r}function B0(r){return!!r&&"nullValue"in r}function q0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function _h(r){return!!r&&"mapValue"in r}function f2(r){return(r?.mapValue?.fields||{})[tb]?.stringValue===nb}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Xl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return e}return{...r}}function d2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===h2}class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Es(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new mn(Xl(this.value))}}function ib(r){const e=[];return Es(r.fields,((n,s)=>{const o=new Kt([n]);if(_h(s)){const u=ib(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Cn(e)}class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,be.min(),be.min(),be.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,be.min(),be.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,be.min(),be.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function H0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function F0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ui(r.position[n],e.position[n]))return!1;return!0}class Lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function m2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class rb{}class Nt extends rb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new g2(e,n,s):n==="array-contains"?new v2(e,s):n==="in"?new E2(e,s):n==="not-in"?new T2(e,s):n==="array-contains-any"?new b2(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new y2(e,s):new _2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends rb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return sb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sb(r){return r.op==="and"}function ab(r){return p2(r)&&sb(r)}function p2(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function Zm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(ab(r))return r.filters.map((e=>Zm(e))).join(",");{const e=r.filters.map((n=>Zm(n))).join(",");return`${r.op}(${e})`}}function ob(r,e){return r instanceof Nt?(function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)})(r,e):r instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&ob(f,o.filters[m])),!0):!1})(r,e):void Te(19439)}function lb(r){return r instanceof Nt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(r):r instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(lb).join(" ,")+"}"})(r):"Filter"}class g2 extends Nt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class y2 extends Nt{constructor(e,n){super(e,"in",n),this.keys=ub("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class _2 extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=ub("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ub(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class v2 extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Lp(n)&&au(n.arrayValue,this.value)}}class E2 extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class T2 extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!au(this.value.arrayValue,n)}}class b2 extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>au(this.value.arrayValue,s)))}}class S2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function G0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new S2(r,e,n,s,o,u,f)}function kp(r){const e=Ae(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Zm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function Up(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!m2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ob(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!F0(r.startAt,e.startAt)&&F0(r.endAt,e.endAt)}function Jm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Oo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function A2(r,e,n,s,o,u,f,m){return new Oo(r,e,n,s,o,u,f,m)}function tf(r){return new Oo(r)}function Q0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cb(r){return r.collectionGroup!==null}function Wl(r){const e=Ae(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Lh(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Lh(Kt.keyField(),s))}return e.Ie}function Vi(r){const e=Ae(r);return e.Ee||(e.Ee=w2(e,Wl(r))),e.Ee}function w2(r,e){if(r.limitType==="F")return G0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Lh(o.field,u)}));const n=r.endAt?new Ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ph(r.startAt.position,r.startAt.inclusive):null;return G0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ep(r,e){const n=r.filters.concat([e]);return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function tp(r,e,n){return new Oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function nf(r,e){return Up(Vi(r),Vi(e))&&r.limitType===e.limitType}function hb(r){return`${kp(Vi(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>lb(o))).join(", ")}]`),Jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Vi(r))}; limitType=${r.limitType})`}function rf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=H0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Wl(s),o)||s.endAt&&!(function(f,m,p){const g=H0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Wl(s),o))})(r,e)}function R2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fb(r){return(e,n)=>{let s=!1;for(const o of Wl(r)){const u=x2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function x2(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Eo(p,g):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return $T(this.inner)}size(){return this.innerSize}}const C2=new ct(ye.comparator);function gr(){return C2}const db=new ct(ye.comparator);function Gl(...r){let e=db;for(const n of r)e=e.insert(n.key,n);return e}function mb(r){let e=db;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function na(){return Zl()}function pb(){return Zl()}function Zl(){return new ma((r=>r.toString()),((r,e)=>r.isEqual(e)))}const I2=new ct(ye.comparator),N2=new Pt(ye.comparator);function Pe(...r){let e=N2;for(const n of r)e=e.add(n);return e}const D2=new Pt(Ve);function O2(){return D2}function jp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function gb(r){return{integerValue:""+r}}function M2(r,e){return a2(e)?gb(e):jp(r,e)}class sf{constructor(){this._=void 0}}function V2(r,e,n){return r instanceof kh?(function(o,u){const f={fields:{[ZT]:{stringValue:WT},[eb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Pp(u)&&(u=ef(u)),u&&(f.fields[JT]=u),{mapValue:f}})(n,e):r instanceof ou?_b(r,e):r instanceof lu?vb(r,e):(function(o,u){const f=yb(o,u),m=K0(f)+K0(o.Ae);return Wm(f)&&Wm(o.Ae)?gb(m):jp(o.serializer,m)})(r,e)}function P2(r,e,n){return r instanceof ou?_b(r,e):r instanceof lu?vb(r,e):n}function yb(r,e){return r instanceof Uh?(function(s){return Wm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class kh extends sf{}class ou extends sf{constructor(e){super(),this.elements=e}}function _b(r,e){const n=Eb(e);for(const s of r.elements)n.some((o=>Ui(o,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends sf{constructor(e){super(),this.elements=e}}function vb(r,e){let n=Eb(e);for(const s of r.elements)n=n.filter((o=>!Ui(o,s)));return{arrayValue:{values:n}}}class Uh extends sf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function K0(r){return vt(r.integerValue||r.doubleValue)}function Eb(r){return Lp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function L2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof ou&&o instanceof ou||s instanceof lu&&o instanceof lu?vo(s.elements,o.elements,Ui):s instanceof Uh&&o instanceof Uh?Ui(s.Ae,o.Ae):s instanceof kh&&o instanceof kh})(r.transform,e.transform)}class k2{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class af{}function Tb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new of(r.key,pn.none()):new Eu(r.key,r.data,pn.none());{const n=r.data,s=mn.empty();let o=new Pt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ts(r.key,s,new Cn(o.toArray()),pn.none())}}function U2(r,e,n){r instanceof Eu?(function(o,u,f){const m=o.value.clone(),p=$0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof Ts?(function(o,u,f){if(!vh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(bb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Jl(r,e,n,s){return r instanceof Eu?(function(u,f,m,p){if(!vh(u.precondition,f))return m;const g=u.value.clone(),E=X0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof Ts?(function(u,f,m,p){if(!vh(u.precondition,f))return m;const g=X0(u.fieldTransforms,p,f),E=f.data;return E.setAll(bb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return vh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function j2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=yb(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function Y0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,f)=>L2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Eu extends af{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends af{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function bb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function $0(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,P2(f,m,n[o]))}return s}function X0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,V2(u,f,e))}return s}class of extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class z2 extends af{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&U2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=pb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Tb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>Y0(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>Y0(n,s)))}}class zp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return I2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new zp(e,n,s,o)}}class q2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class H2{constructor(e,n){this.count=e,this.unchangedNames=n}}var It,je;function F2(r){switch(r){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function Sb(r){if(r===void 0)return pr("GRPC error has no .code"),J.UNKNOWN;switch(r){case It.OK:return J.OK;case It.CANCELLED:return J.CANCELLED;case It.UNKNOWN:return J.UNKNOWN;case It.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case It.INTERNAL:return J.INTERNAL;case It.UNAVAILABLE:return J.UNAVAILABLE;case It.UNAUTHENTICATED:return J.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case It.NOT_FOUND:return J.NOT_FOUND;case It.ALREADY_EXISTS:return J.ALREADY_EXISTS;case It.PERMISSION_DENIED:return J.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case It.ABORTED:return J.ABORTED;case It.OUT_OF_RANGE:return J.OUT_OF_RANGE;case It.UNIMPLEMENTED:return J.UNIMPLEMENTED;case It.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:r})}}(je=It||(It={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function G2(){return new TextEncoder}const Q2=new hs([4294967295,4294967295],0);function W0(r){const e=G2().encode(r),n=new jT;return n.update(e),new Uint8Array(n.digest())}function Z0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new hs([n,s],0),new hs([o,u],0)]}class Bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=hs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(hs.fromNumber(s)));return o.compare(Q2)===1&&(o=new hs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=W0(e),[s,o]=Z0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Bp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=W0(e),[s,o]=Z0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new lf(be.min(),o,new ct(Ve),gr(),Pe())}}class Tu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Tu(s,n,Pe(),Pe(),Pe())}}class Eh{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Ab{constructor(e,n){this.targetId=e,this.Ce=n}}class wb{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class J0{constructor(){this.ve=0,this.Fe=eE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new Tu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=eE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class K2{constructor(e){this.Ge=e,this.ze=new Map,this.je=gr(),this.Je=lh(),this.He=lh(),this.Ye=new ct(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Jm(u))if(s===0){const f=new ye(u.path);this.et(n,f,Zt.newNoDocument(f,be.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ps(s).toUint8Array()}catch(p){if(p instanceof XT)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Bp(f,o,u)}catch(p){return _o(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Jm(m.target)){const p=new ye(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new lf(e,n,this.Ye,this.je,s);return this.je=gr(),this.Je=lh(),this.He=lh(),this.Ye=new ct(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new J0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new J0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function lh(){return new ct(ye.comparator)}function eE(){return new ct(ye.comparator)}const Y2={asc:"ASCENDING",desc:"DESCENDING"},$2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},X2={and:"AND",or:"OR"};class W2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function np(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Rb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Z2(r,e){return jh(r,e.toTimestamp())}function Pi(r){return Qe(!!r,49232),be.fromTimestamp((function(n){const s=ms(n);return new rt(s.seconds,s.nanos)})(r))}function qp(r,e){return ip(r,e).canonicalString()}function ip(r,e){const n=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function xb(r){const e=tt.fromString(r);return Qe(Ob(e),10190,{key:e.toString()}),e}function rp(r,e){return qp(r.databaseId,e.path)}function Dm(r,e){const n=xb(e);if(n.get(1)!==r.databaseId.projectId)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(Ib(n))}function Cb(r,e){return qp(r.databaseId,e)}function J2(r){const e=xb(r);return e.length===4?tt.emptyPath():Ib(e)}function sp(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Ib(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function tE(r,e,n){return{name:rp(r,e),fields:n.value.mapValue.fields}}function eN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?J.UNKNOWN:Sb(g.code);return new le(E,g.message||"")})(f);n=new wb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(r,s.document.name),u=Pi(s.document.updateTime),f=s.document.createTime?Pi(s.document.createTime):be.min(),m=new mn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Eh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(r,s.document),u=s.readTime?Pi(s.readTime):be.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Eh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(r,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new H2(o,u),m=s.targetId;n=new Ab(m,f)}}return n}function tN(r,e){let n;if(e instanceof Eu)n={update:tE(r,e.key,e.value)};else if(e instanceof of)n={delete:rp(r,e.key)};else if(e instanceof Ts)n={update:tE(r,e.key,e.data),updateMask:cN(e.fieldMask)};else{if(!(e instanceof z2))return Te(16599,{Vt:e.type});n={verify:rp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof kh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:Z2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function nN(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Pi(o.updateTime):Pi(u);return f.isEqual(be.min())&&(f=Pi(u)),new k2(f,o.transformResults||[])})(n,e)))):[]}function iN(r,e){return{documents:[Cb(r,e.path)]}}function rN(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Cb(r,o);const u=(function(g){if(g.length!==0)return Db(ai.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:uo(w.field),direction:oN(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=np(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function sN(r){let e=J2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const w=Nb(b);return w instanceof ai&&ab(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((w=>(function(U){return new Lh(co(U.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let w;return w=typeof b=="object"?b.value:b,Jh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(b){const w=!!b.before,O=b.values||[];return new Ph(O,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const w=!b.before,O=b.values||[];return new Ph(O,w)})(n.endAt)),A2(e,o,f,u,m,"F",p,g)}function aN(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=co(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Nt.create(co(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>Nb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function oN(r){return Y2[r]}function lN(r){return $2[r]}function uN(r){return X2[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return Kt.fromServerFormat(r.fieldPath)}function Db(r){return r instanceof Nt?(function(n){if(n.op==="=="){if(q0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(B0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(B0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:lN(n.op),value:n.value}}})(r):r instanceof ai?(function(n){const s=n.getFilters().map((o=>Db(o)));return s.length===1?s[0]:{compositeFilter:{op:uN(n.op),filters:s}}})(r):Te(54877,{filter:r})}function cN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ob(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class os{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hN{constructor(e){this.yt=e}}function fN(r){const e=sN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?tp(e,e.limit,"L"):e}class dN{constructor(){this.Cn=new mN}addToCollectionParentIndex(e,n){return this.Cn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(ds.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(ds.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class mN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(tt.comparator)).toArray()}}const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mb=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(Mb,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}const iE="LruGarbageCollector",pN=1048576;function rE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class gN{constructor(e){this.Ir=e,this.buffer=new Pt(rE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();rE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(iE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?ce(iE,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.Vr(3e5)}))}}class _N{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Zh.ce);const s=new gN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(nE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),oo()<=Me.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function vN(r,e){return new _N(r,e)}class EN{constructor(){this.changes=new ma((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class TN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class bN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Jl(s.mutation,o,Cn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=na();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Gl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=gr();const f=Zl(),m=(function(){return Zl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ts)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Jl(E.mutation,g,E.mutation.getFieldMask(),rt.now())):f.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new TN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new ct(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Cn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=pb();E.forEach((w=>{if(!u.has(w)){const O=Tb(n.get(w),s.get(w));O!==null&&b.set(w,O),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):cb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(na());let m=iu,p=u;return f.next((g=>te.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((E=>({batchId:m,changes:mb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next((m=>te.forEach(m,(p=>{const g=(function(b,w){return new Oo(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((b,w)=>{f=f.insert(b,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))}));let m=Gl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Jl(E.mutation,g,Cn.empty(),rt.now()),rf(n,g)&&(m=m.insert(p,g))})),m}))}}class SN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return te.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:fN(o.bundledQuery),readTime:Pi(o.readTime)}})(n)),te.resolve()}}class AN{constructor(){this.overlays=new ct(ye.comparator),this.qr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return te.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=na(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return te.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new q2(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class wN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}class Hp{constructor(){this.Qr=new Pt(jt.$r),this.Ur=new Pt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new tt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new tt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}class RN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(jt.$r)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new B2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Vp:this.tr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ve);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),te.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ye(u),0);let m=new Pt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),te.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return te.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class xN{constructor(e){this.ri=e,this.docs=(function(){return new ct(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||n2(t2(E),s)<=0||(o.has(E.key)||rf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ii(e,n){return te.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new CN(this)}getSize(e){return te.resolve(this.size)}}class CN extends EN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),te.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class IN{constructor(e){this.persistence=e,this.si=new ma((n=>kp(n)),Up),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.oi=0,this._i=new Hp,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),te.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.Pr(n),te.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),te.waitFor(u).next((()=>o))}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this._i.containsKey(n))}}class Vb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Zh(0),this.li=!1,this.li=!0,this.hi=new wN,this.referenceDelegate=e(this),this.Pi=new IN(this),this.indexManager=new dN,this.remoteDocumentCache=(function(o){return new xN(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new hN(n),this.Ii=new SN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new AN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new RN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new NN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return te.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class NN extends r2{constructor(e){super(),this.currentSequenceNumber=e}}class Fp{constructor(e){this.persistence=e,this.Ri=new Hp,this.Vi=null}static mi(e){return new Fp(e)}get fi(){if(this.Vi)return this.Vi;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,be.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return te.or([()=>te.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.pi=new ma((s=>o2(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=vN(this,n)}static mi(e,n){return new zh(e,n)}Ei(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return te.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?te.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,be.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),te.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}br(e,n,s){return te.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Gp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Gp(e,n.fromCache,s,o)}}class DN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class ON{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iR()?8:s2(Jt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new DN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(oo()<=Me.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),te.resolve()):(oo()<=Me.DEBUG&&ce("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(oo()<=Me.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(n))):te.resolve())}ys(e,n){if(Q0(n))return te.resolve(null);let s=Vi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=tp(n,null,"F"),s=Vi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,tp(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return Q0(n)||o.isEqual(be.min())?te.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?te.resolve(null):(oo()<=Me.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,f,n,e2(o,iu)).next((m=>m)))}))}Ds(e,n){let s=new Pt(fb(e));return n.forEach(((o,u)=>{rf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return oo()<=Me.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ps.getDocumentsMatchingQuery(e,n,ds.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Qp="LocalStore",MN=3e8;class VN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Ve),this.xs=new ma((u=>kp(u)),Up),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function PN(r,e,n,s){return new VN(r,e,n,s)}async function Pb(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function LN(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const b=g.batch,w=b.keys();let O=te.resolve();return w.forEach((U=>{O=O.next((()=>E.getEntry(p,U))).next((Q=>{const z=g.docVersions.get(U);Qe(z!==null,48541),Q.version.compareTo(z)<0&&(b.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),E.addEntry(Q)))}))})),O.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Lb(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function kN(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,b)=>{const w=o.get(b);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,b))));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Yt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(b,O),(function(Q,z,ne){return Q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=MN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,O,E)&&m.push(n.Pi.updateTargetData(u,O))}));let p=gr(),g=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(UN(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(be.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return te.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function UN(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=gr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ce(Qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function jN(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Vp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zN(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,te.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new os(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ap(r,e,n){const s=Ae(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Do(f))throw f;ce(Qp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function sE(r,e,n){const s=Ae(r);let o=be.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const b=Ae(p),w=b.xs.get(E);return w!==void 0?te.resolve(b.Ms.get(w)):b.Pi.getTargetData(g,E)})(s,f,Vi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:Pe()))).next((m=>(BN(s,R2(e),m),{documents:m,Qs:u})))))}function BN(r,e,n){let s=r.Os.get(e)||be.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class aE{constructor(){this.activeTargetIds=O2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qN{constructor(){this.Mo=new aE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new aE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class HN{Oo(e){}shutdown(){}}const oE="ConnectivityMonitor";class lE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(oE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uh=null;function op(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}const Om="RestConnection",FN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=op(),m=this.zo(e,n.toUriEncodedString());ce(Om,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Ro(g);return this.Jo(e,m,p,s,E).then((b=>(ce(Om,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw _o(Om,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=FN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class QN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const Xt="WebChannelConnection";class KN extends GN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=op();return new Promise(((m,p)=>{const g=new zT;g.setWithCredentials(!0),g.listenOnce(BT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case gh.NO_ERROR:const b=g.getResponseJson();ce(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case gh.TIMEOUT:ce(Xt,`RPC '${e}' ${f} timed out`),p(new le(J.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const w=g.getStatus();if(ce(Xt,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let O=g.getResponseJson();Array.isArray(O)&&(O=O[0]);const U=O?.error;if(U&&U.status&&U.message){const Q=(function(ne){const ie=ne.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ie)>=0?ie:J.UNKNOWN})(U.status);p(new le(Q,U.message))}else p(new le(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ce(Xt,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);ce(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=op(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=FT(),m=HT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Xt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=f.createWebChannel(E,p);this.I_(b);let w=!1,O=!1;const U=new QN({Yo:z=>{O?ce(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(w||(ce(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),w=!0),ce(Xt,`RPC '${e}' stream ${o} sending:`,z),b.send(z))},Zo:()=>b.close()}),Q=(z,ne,ie)=>{z.listen(ne,(W=>{try{ie(W)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return Q(b,Fl.EventType.OPEN,(()=>{O||(ce(Xt,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),Q(b,Fl.EventType.CLOSE,(()=>{O||(O=!0,ce(Xt,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(b))})),Q(b,Fl.EventType.ERROR,(z=>{O||(O=!0,_o(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),U.a_(new le(J.UNAVAILABLE,"The operation could not be completed")))})),Q(b,Fl.EventType.MESSAGE,(z=>{if(!O){const ne=z.data[0];Qe(!!ne,16349);const ie=ne,W=ie?.error||ie[0]?.error;if(W){ce(Xt,`RPC '${e}' stream ${o} received error:`,W);const ue=W.status;let _e=(function(R){const x=It[R];if(x!==void 0)return Sb(x)})(ue),pe=W.message;_e===void 0&&(_e=J.INTERNAL,pe="Unknown error status: "+ue+" with message "+W.message),O=!0,U.a_(new le(_e,pe)),b.close()}else ce(Xt,`RPC '${e}' stream ${o} received:`,ne),U.u_(ne)}})),Q(m,qT.STAT_EVENT,(z=>{z.stat===Ym.PROXY?ce(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Ym.NOPROXY&&ce(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Mm(){return typeof document<"u"?document:null}function uf(r){return new W2(r,!0)}class kb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const uE="PersistentStream";class Ub{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new le(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YN extends Ub{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=eN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Pi(f.readTime):be.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=sp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Jm(p)?{documents:iN(u,p)}:{query:rN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Rb(u,f.resumeToken);const g=np(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=jh(u,f.snapshotVersion.toTimestamp());const g=np(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=aN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=sp(this.serializer),n.removeTarget=e,this.q_(n)}}class $N extends Ub{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=nN(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=sp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>tN(this.serializer,s)))};this.q_(n)}}class XN{}class WN extends XN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,ip(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(J.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,ip(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(J.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class ZN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(pr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class JN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{pa(this)&&(ce(ha,"Restarting streams for network reachability change."),await(async function(p){const g=Ae(p);g.Ea.add(4),await bu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await cf(g)})(this))}))})),this.Ra=new ZN(s,o)}}async function cf(r){if(pa(r))for(const e of r.da)await e(!0)}async function bu(r){for(const e of r.da)await e(!1)}function jb(r,e){const n=Ae(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Xp(n)?$p(n):Mo(n).O_()&&Yp(n,e))}function Kp(r,e){const n=Ae(r),s=Mo(n);n.Ia.delete(e),s.O_()&&zb(n,e),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Ra.set("Unknown"))}function Yp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).Y_(e)}function zb(r,e){r.Va.Ue(e),Mo(r).Z_(e)}function $p(r){r.Va=new K2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.Ra.ua()}function Xp(r){return pa(r)&&!Mo(r).x_()&&r.Ia.size>0}function pa(r){return Ae(r).Ea.size===0}function Bb(r){r.Va=void 0}async function eD(r){r.Ra.set("Online")}async function tD(r){r.Ia.forEach(((e,n)=>{Yp(r,e)}))}async function nD(r,e){Bb(r),Xp(r)?(r.Ra.ha(e),$p(r)):r.Ra.set("Unknown")}async function iD(r,e,n){if(r.Ra.set("Online"),e instanceof wb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){ce(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof Eh?r.Va.Ze(e):e instanceof Ab?r.Va.st(e):r.Va.tt(e),!n.isEqual(be.min()))try{const s=await Lb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),zb(u,p);const b=new os(E.target,p,g,E.sequenceNumber);Yp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ce(ha,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,n){if(!Do(e))throw e;r.Ea.add(1),await bu(r),r.Ra.set("Offline"),n||(n=()=>Lb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(ha,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await cf(r)}))}function qb(r,e){return e().catch((n=>Bh(r,n,e)))}async function hf(r){const e=Ae(r),n=ys(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vp;for(;rD(e);)try{const o=await jN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,sD(e,o)}catch(o){await Bh(e,o)}Hb(e)&&Fb(e)}function rD(r){return pa(r)&&r.Ta.length<10}function sD(r,e){r.Ta.push(e);const n=ys(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Hb(r){return pa(r)&&!ys(r).x_()&&r.Ta.length>0}function Fb(r){ys(r).start()}async function aD(r){ys(r).ra()}async function oD(r){const e=ys(r);for(const n of r.Ta)e.ea(n.mutations)}async function lD(r,e,n){const s=r.Ta.shift(),o=zp.from(s,e,n);await qb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await hf(r)}async function uD(r,e){e&&ys(r).X_&&await(async function(s,o){if((function(f){return F2(f)&&f!==J.ABORTED})(o.code)){const u=s.Ta.shift();ys(s).B_(),await qb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await hf(s)}})(r,e),Hb(r)&&Fb(r)}async function cE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ce(ha,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await bu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cf(n)}async function cD(r,e){const n=Ae(r);e?(n.Ea.delete(2),await cf(n)):e||(n.Ea.add(2),await bu(n),n.Ra.set("Unknown"))}function Mo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ae(n);return u.sa(),new YN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:eD.bind(null,r),t_:tD.bind(null,r),r_:nD.bind(null,r),H_:iD.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Xp(r)?$p(r):r.Ra.set("Unknown")):(await r.ma.stop(),Bb(r))}))),r.ma}function ys(r){return r.fa||(r.fa=(function(n,s,o){const u=Ae(n);return u.sa(),new $N(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:aD.bind(null,r),r_:uD.bind(null,r),ta:oD.bind(null,r),na:lD.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await hf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(ha,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Wp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Wp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zp(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Do(r))return new le(J.UNAVAILABLE,`${e}: ${r}`);throw r}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class hE{constructor(){this.ga=new ct(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class So{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new So(e,n,go.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class hD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class fD{constructor(){this.queries=fE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=fE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(J.ABORTED,"Firestore shutting down"))}}function fE(){return new ma((r=>hb(r)),nf)}async function Jp(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new hD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Zp(f,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&tg(n)}async function eg(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function dD(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&tg(n)}function mD(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function tg(r){r.Ca.forEach((e=>{e.next()}))}var lp,dE;(dE=lp||(lp={})).Ma="default",dE.Cache="cache";class ng{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==lp.Cache}}class Gb{constructor(e){this.key=e}}class Qb{constructor(e){this.key=e}}class pD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=fb(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new hE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const w=o.get(E),O=rf(this.query,b)?b:null,U=!!w&&this.mutatedKeys.has(w.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let z=!1;w&&O?w.data.isEqual(O.data)?U!==Q&&(s.track({type:3,doc:O}),z=!0):this.su(w,O)||(s.track({type:2,doc:O}),z=!0,(p&&this.eu(O,p)>0||g&&this.eu(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),z=!0):w&&!O&&(s.track({type:1,doc:w}),z=!0,(p||g)&&(m=!0)),z&&(O?(f=f.add(O),u=Q?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(O,U){const Q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Rt:z})}};return Q(O)-Q(U)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new So(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Qb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Gb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ig="SyncEngine";class gD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class yD{constructor(e){this.key=e,this.hu=!1}}class _D{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ma((m=>hb(m)),nf),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ye.comparator),this.Au=new Map,this.Ru=new Hp,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vD(r,e,n=!0){const s=Zb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Kb(s,e,n,!0),o}async function ED(r,e){const n=Zb(r);await Kb(n,e,!0,!1)}async function Kb(r,e,n,s){const o=await zN(r.localStore,Vi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await TD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&jb(r.remoteStore,o),m}async function TD(r,e,n,s,o){r.pu=(b,w,O)=>(async function(Q,z,ne,ie){let W=z.view.ru(ne);W.Cs&&(W=await sE(Q.localStore,z.query,!1).then((({documents:I})=>z.view.ru(I,W))));const ue=ie&&ie.targetChanges.get(z.targetId),_e=ie&&ie.targetMismatches.get(z.targetId)!=null,pe=z.view.applyChanges(W,Q.isPrimaryClient,ue,_e);return pE(Q,z.targetId,pe.au),pe.snapshot})(r,b,w,O);const u=await sE(r.localStore,e,!0),f=new pD(e,u.Qs),m=f.ru(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);pE(r,n,g.au);const E=new gD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function bD(r,e,n){const s=Ae(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!nf(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ap(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Kp(s.remoteStore,o.targetId),up(s,o.targetId)})).catch(No)):(up(s,o.targetId),await ap(s.localStore,o.targetId,!0))}async function SD(r,e){const n=Ae(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Kp(n.remoteStore,s.targetId))}async function AD(r,e,n){const s=DD(r);try{const o=await(function(f,m){const p=Ae(f),g=rt.now(),E=m.reduce(((O,U)=>O.add(U.key)),Pe());let b,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(O=>{let U=gr(),Q=Pe();return p.Ns.getEntries(O,E).next((z=>{U=z,U.forEach(((ne,ie)=>{ie.isValidDocument()||(Q=Q.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(O,U))).next((z=>{b=z;const ne=[];for(const ie of m){const W=j2(ie,b.get(ie.key).overlayedDocument);W!=null&&ne.push(new Ts(ie.key,W,ib(W.value.mapValue),pn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,ne,m)})).next((z=>{w=z;const ne=z.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(O,z.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:mb(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ct(Ve)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await hf(s.remoteStore)}catch(o){const u=Zp(o,"Failed to persist write");n.reject(u)}}async function Yb(r,e){const n=Ae(r);try{const s=await kN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await Su(n,s,e)}catch(s){await No(s)}}function mE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,b)=>{for(const w of b.Sa)w.va(m)&&(g=!0)})),g&&tg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wD(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(ye.comparator);f=f.insert(u,Zt.newNoDocument(u,be.min()));const m=Pe().add(u),p=new lf(be.min(),new Map,new ct(Ve),f,m);await Yb(s,p),s.du=s.du.remove(u),s.Au.delete(e),rg(s)}else await ap(s.localStore,e,!1).then((()=>up(s,e,n))).catch(No)}async function RD(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await LN(n.localStore,e);Xb(n,s,null),$b(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await No(o)}}async function xD(r,e,n){const s=Ae(r);try{const o=await(function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Qe(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);Xb(s,e,n),$b(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Su(s,o)}catch(o){await No(o)}}function $b(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Xb(r,e,n){const s=Ae(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function up(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Wb(r,s)}))}function Wb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Kp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),rg(r))}function pE(r,e,n){for(const s of n)s instanceof Gb?(r.Ru.addReference(s.key,e),CD(r,s)):s instanceof Qb?(ce(ig,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Wb(r,s.key)):Te(19791,{wu:s})}function CD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(ig,"New document in limbo: "+n),r.Eu.add(s),rg(r))}function rg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(tt.fromString(e)),s=r.fu.next();r.Au.set(s,new yD(n)),r.du=r.du.insert(n,s),jb(r.remoteStore,new os(Vi(tf(n.path)),s,"TargetPurposeLimboResolution",Zh.ce))}}async function Su(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Gp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>te.forEach(g,(w=>te.forEach(w.Es,(O=>E.persistence.referenceDelegate.addReference(b,w.targetId,O))).next((()=>te.forEach(w.ds,(O=>E.persistence.referenceDelegate.removeReference(b,w.targetId,O)))))))))}catch(b){if(!Do(b))throw b;ce(Qp,"Failed to update sequence numbers: "+b)}for(const b of g){const w=b.targetId;if(!b.fromCache){const O=E.Ms.get(w),U=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(U);E.Ms=E.Ms.insert(w,Q)}}})(s.localStore,u))}async function ID(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ce(ig,"User change. New user:",e.toKey());const s=await Pb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(J.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ls)}}function ND(r,e){const n=Ae(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Zb(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ND.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wD.bind(null,e),e.Pu.H_=dD.bind(null,e.eventManager),e.Pu.yu=mD.bind(null,e.eventManager),e}function DD(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xD.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return PN(this.persistence,new ON,e.initialUser,this.serializer)}Cu(e){return new Vb(Fp.mi,this.serializer)}Du(e){return new qN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class OD extends qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new yN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new Vb((s=>zh.mi(s,n)),this.serializer)}}class cp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ID.bind(null,this.syncEngine),await cD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fD})()}createDatastore(e){const n=uf(e.databaseInfo.databaseId),s=(function(u){return new KN(u)})(e.databaseInfo);return(function(u,f,m,p){return new WN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new JN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>mE(this.syncEngine,n,0)),(function(){return lE.v()?new lE:new HN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const b=new _D(o,u,f,m,p,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ae(n);ce(ha,"RemoteStore shutting down."),s.Ea.add(5),await bu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cp.provider={build:()=>new cp};class sg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const _s="FirestoreClient";class MD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Op.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(_s,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(_s,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Zp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(_s,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Pb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function gE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await VD(r);ce(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>cE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>cE(e.remoteStore,o))),r._onlineComponents=e}async function VD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(_s,"Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Vm(r,new qh)}}else ce(_s,"Using default OfflineComponentProvider"),await Vm(r,new OD(void 0));return r._offlineComponents}async function Jb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(_s,"Using user provided OnlineComponentProvider"),await gE(r,r._uninitializedComponentsProvider._online)):(ce(_s,"Using default OnlineComponentProvider"),await gE(r,new cp))),r._onlineComponents}function PD(r){return Jb(r).then((e=>e.syncEngine))}async function Hh(r){const e=await Jb(r),n=e.eventManager;return n.onListen=vD.bind(null,e.syncEngine),n.onUnlisten=bD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ED.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=SD.bind(null,e.syncEngine),n}function LD(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new sg({next:w=>{E.Nu(),f.enqueueAndForget((()=>eg(u,b)));const O=w.docs.has(m);!O&&w.fromCache?g.reject(new le(J.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&w.fromCache&&p&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new ng(tf(m.path),E,{includeMetadataChanges:!0,qa:!0});return Jp(u,b)})(await Hh(r),r.asyncQueue,e,n,s))),s.promise}function kD(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new sg({next:w=>{E.Nu(),f.enqueueAndForget((()=>eg(u,b))),w.fromCache&&p.source==="server"?g.reject(new le(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),b=new ng(m,E,{includeMetadataChanges:!0,qa:!0});return Jp(u,b)})(await Hh(r),r.asyncQueue,e,n,s))),s.promise}function eS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const yE=new Map;const tS="firestore.googleapis.com",_E=!0;class vE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tS,this.ssl=_E}else this.host=e.host,this.ssl=e.ssl??_E;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pN)throw new le(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(J.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Au{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new HI;switch(s.type){case"firstParty":return new KI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=yE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),yE.delete(n),s.terminate())})(this),Promise.resolve()}}function UD(r,e,n,s={}){r=sn(r,Au);const o=Ro(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(XE(`https://${m}`),WE("Firestore",!0)),u.host!==tS&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!sa(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Wt.MOCK_USER;else{g=Y1(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(b)}r._authCredentials=new FI(new QT(g,E))}}class bs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class mt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(vu(n,mt._jsonSchema))return new mt(e,s||null,new ye(tt.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Dt("string",mt._jsonSchemaVersion),referencePath:Dt("string")};class fs extends bs{constructor(e,n,s){super(e,n,tf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ye(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function ff(r,e,...n){if(r=ut(r),Mp("collection","path",e),r instanceof Au){const s=tt.fromString(e,...n);return O0(s),new fs(r,null,s)}{if(!(r instanceof mt||r instanceof fs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return O0(s),new fs(r.firestore,null,s)}}function jD(r,e){if(r=sn(r,Au),Mp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new le(J.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new bs(r,null,(function(s){return new Oo(tt.emptyPath(),s)})(e))}function yr(r,e,...n){if(r=ut(r),arguments.length===1&&(e=Op.newId()),Mp("doc","path",e),r instanceof Au){const s=tt.fromString(e,...n);return D0(s),new mt(r,null,new ye(s))}{if(!(r instanceof mt||r instanceof fs))throw new le(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return D0(s),new mt(r.firestore,r instanceof fs?r.converter:null,new ye(s))}}const EE="AsyncQueue";class TE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kb(this,"async_queue_retry"),this._c=()=>{const s=Mm();s&&ce(EE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Mm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Mm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Do(e))throw e;ce(EE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,pr("INTERNAL UNHANDLED ERROR: ",bE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Wp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:bE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function bE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function SE(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class _r extends Au{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new TE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function zD(r,e){const n=typeof r=="object"?r:tT(),s=typeof r=="string"?r:Mh,o=bp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Q1("firestore");u&&UD(o,...u)}return o}function wu(r){if(r._terminated)throw new le(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||BD(r),r._firestoreClient}function BD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new c2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,eS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new MD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Yt.fromBase64String(e))}catch(n){throw new le(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(vu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Dt("string",Hn._jsonSchemaVersion),bytes:Dt("string")};class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ag{constructor(e){this._methodName=e}}class Li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(vu(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Dt("string",Li._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};class ki{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ki._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(vu(e,ki._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ki(e.vectorValues);throw new le(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ki._jsonSchemaVersion="firestore/vectorValue/1.0",ki._jsonSchema={type:Dt("string",ki._jsonSchemaVersion),vectorValues:Dt("object")};const qD=/^__.*__$/;class HD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eu(e,this.data,n,this.fieldTransforms)}}class nS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ac:r})}}class og{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(iS(this.Ac)&&qD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||uf(e)}Cc(e,n,s,o=!1){return new og({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function df(r){const e=r._freezeSettings(),n=uf(r._databaseId);return new FD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function rS(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);lg("Data must be an object, but it was:",f,s);const m=oS(s,f);let p,g;if(u.merge)p=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const w=hp(e,b,n);if(!f.contains(w))throw new le(J.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);uS(E,w)||E.push(w)}p=new Cn(E),g=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=f.fieldTransforms;return new HD(new mn(m),p,g)}class mf extends ag{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mf}}function sS(r,e,n,s){const o=r.Cc(1,e,n);lg("Data must be an object, but it was:",o,s);const u=[],f=mn.empty();Es(s,((p,g)=>{const E=ug(e,p,n);g=ut(g);const b=o.yc(E);if(g instanceof mf)u.push(E);else{const w=xu(g,b);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Cn(u);return new nS(f,m,o.fieldTransforms)}function aS(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[hp(e,s,n)],p=[o];if(u.length%2!=0)throw new le(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(hp(e,u[w])),p.push(u[w+1]);const g=[],E=mn.empty();for(let w=m.length-1;w>=0;--w)if(!uS(g,m[w])){const O=m[w];let U=p[w];U=ut(U);const Q=f.yc(O);if(U instanceof mf)g.push(O);else{const z=xu(U,Q);z!=null&&(g.push(O),E.set(O,z))}}const b=new Cn(g);return new nS(E,b,f.fieldTransforms)}function GD(r,e,n,s=!1){return xu(n,r.Cc(s?4:3,e))}function xu(r,e){if(lS(r=ut(r)))return lg("Unsupported field value:",e,r),oS(r,e);if(r instanceof ag)return(function(s,o){if(!iS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=xu(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return M2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:Rb(o.serializer,s._byteString)};if(s instanceof mt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ki)return(function(f,m){return{mapValue:{fields:{[tb]:{stringValue:nb},[Vh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return jp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${Wh(s)}`)})(r,e)}function oS(r,e){const n={};return $T(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,((s,o)=>{const u=xu(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function lS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Li||r instanceof Hn||r instanceof mt||r instanceof ag||r instanceof ki)}function lg(r,e,n){if(!lS(n)||!KT(n)){const s=Wh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function hp(r,e,n){if((e=ut(e))instanceof Ru)return e._internalPath;if(typeof e=="string")return ug(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const QD=new RegExp("[~\\*/\\[\\]]");function ug(r,e,n){if(e.search(QD)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new le(J.INVALID_ARGUMENT,m+r+p)}function uS(r,e){return r.some((n=>n.isEqual(e)))}class cS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new KD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class KD extends cS{data(){return super.data()}}function hS(r,e){return typeof e=="string"?ug(r,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}function fS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class YD extends cg{}function $D(r,e,...n){let s=[];e instanceof cg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof fg)).length,m=u.filter((p=>p instanceof hg)).length;if(f>1||f>0&&m>0)throw new le(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class hg extends YD{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new hg(e,n,s)}_apply(e){const n=this._parse(e);return dS(e._query,n),new bs(e.firestore,e.converter,ep(e._query,n))}_parse(e){const n=df(e.firestore);return(function(u,f,m,p,g,E,b){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){wE(b,E);const U=[];for(const Q of b)U.push(AE(p,u,Q));w={arrayValue:{values:U}}}else w=AE(p,u,b)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||wE(b,E),w=GD(m,f,b,E==="in"||E==="not-in");return Nt.create(g,E,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class fg extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new fg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)dS(f,p),f=ep(f,p)})(e._query,n),new bs(e.firestore,e.converter,ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function AE(r,e,n){if(typeof(n=ut(n))=="string"){if(n==="")throw new le(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cb(e)&&n.indexOf("/")!==-1)throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(tt.fromString(n));if(!ye.isDocumentKey(s))throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return z0(r,new ye(s))}if(n instanceof mt)return z0(r,n._key);throw new le(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function wE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dS(r,e){const n=(function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class XD{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Es(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Vh].arrayValue?.values?.map((s=>vt(s.doubleValue)));return new ki(n)}convertGeoPoint(e){return new Li(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ef(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=ms(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Qe(Ob(s),9688,{name:e});const o=new su(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function mS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ia extends cS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(hS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ia._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ia._jsonSchemaVersion="firestore/documentSnapshot/1.0",ia._jsonSchema={type:Dt("string",ia._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Th extends ia{data(e={}){return super.data(e)}}class ra{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Th(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:WD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Op.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function WD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}function uu(r){r=sn(r,mt);const e=sn(r.firestore,_r);return LD(wu(e),r._key).then((n=>gS(e,r,n)))}ra._jsonSchemaVersion="firestore/querySnapshot/1.0",ra._jsonSchema={type:Dt("string",ra._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class dg extends XD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function cu(r){r=sn(r,bs);const e=sn(r.firestore,_r),n=wu(e),s=new dg(e);return fS(r._query),kD(n,r._query).then((o=>new ra(e,s,r,o)))}function pf(r,e,n){r=sn(r,mt);const s=sn(r.firestore,_r),o=mS(r.converter,e,n);return gf(s,[rS(df(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,pn.none())])}function pS(r,e,n,...s){r=sn(r,mt);const o=sn(r.firestore,_r),u=df(o);let f;return f=typeof(e=ut(e))=="string"||e instanceof Ru?aS(u,"updateDoc",r._key,e,n,s):sS(u,"updateDoc",r._key,e),gf(o,[f.toMutation(r._key,pn.exists(!0))])}function ZD(r){return gf(sn(r.firestore,_r),[new of(r._key,pn.none())])}function JD(r,...e){r=ut(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||SE(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(SE(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof mt)f=sn(r.firestore,_r),m=tf(r._key.path),u={next:p=>{e[s]&&e[s](gS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=sn(r,bs);f=sn(p.firestore,_r),m=p._query;const g=new dg(f);u={next:E=>{e[s]&&e[s](new ra(f,g,p,E))},error:e[s+1],complete:e[s+2]},fS(r._query)}return(function(g,E,b,w){const O=new sg(w),U=new ng(E,O,b);return g.asyncQueue.enqueueAndForget((async()=>Jp(await Hh(g),U))),()=>{O.Nu(),g.asyncQueue.enqueueAndForget((async()=>eg(await Hh(g),U)))}})(wu(f),m,o,u)}function gf(r,e){return(function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget((async()=>AD(await PD(s),o,u))),u.promise})(wu(r),e)}function gS(r,e,n){const s=n.docs.get(e._key),o=new dg(r);return new ia(r,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}class e4{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=df(e)}set(e,n,s){this._verifyNotCommitted();const o=Pm(e,this._firestore),u=mS(o.converter,n,s),f=rS(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,pn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Pm(e,this._firestore);let f;return f=typeof(n=ut(n))=="string"||n instanceof Ru?aS(this._dataReader,"WriteBatch.update",u._key,n,s,o):sS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pm(e,this._firestore);return this._mutations=this._mutations.concat(new of(n._key,pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pm(r,e){if((r=ut(r)).firestore!==e)throw new le(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function G4(r){return wu(r=sn(r,_r)),new e4(r,(e=>gf(r,e)))}(function(e,n=!0){(function(o){Io=o})(xo),yo(new aa("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _r(new GI(s.getProvider("auth-internal")),new YI(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),cs(x0,C0,e),cs(x0,C0,"esm2020")})();const t4={apiKey:"AIzaSyBu3tuozsNFDnkWXYWALNZ3bREBtkiAmAc",authDomain:"anime-project-afaf7.firebaseapp.com",projectId:"anime-project-afaf7",storageBucket:"anime-project-afaf7.firebasestorage.app",messagingSenderId:"726262902044",appId:"1:726262902044:web:8ac376e203a5de15b81ed9"},yS=eT(t4),ea=BI(yS),gn=zD(yS),_S=L.createContext();function n4({children:r}){const[e,n]=L.useState(null),[s,o]=L.useState(!0);function u(b,w){return TC(ea,b,w)}function f(b,w){return bC(ea,b,w)}function m(){return NC(ea)}function p(b){return AC(ea.currentUser,b)}function g(b){return wC(ea.currentUser,b)}function E(b){return RC(ea.currentUser,b)}return L.useEffect(()=>{const b=IC(ea,w=>{n(w),o(!1)});return()=>{b()}},[]),T.jsx(_S.Provider,{value:{signUp:u,logIn:f,logOut:m,updateUserProfile:p,updateUserEmail:g,updateUserPassword:E,user:e,loading:s},children:s?T.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-black",children:T.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-[var(--primary)]"})}):r})}function zi(){return L.useContext(_S)}const vS=L.createContext();function i4({children:r}){const[e,n]=L.useState([]),[s,o]=L.useState([]),[u,f]=L.useState([]),[m,p]=L.useState(null),[g,E]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const w=await cu(ff(gn,"animes")),O=[];w.forEach(W=>{const ue=W.data();O.push({...ue,id:parseInt(W.id)||W.id})}),n(O);const U=await cu($D(jD(gn,"progress"))),Q={};U.forEach(W=>{const _e=W.data().animeId;_e&&(Q[_e]=(Q[_e]||0)+1)});const z=[...O].filter(W=>(Q[W.id]||0)>0).sort((W,ue)=>{const _e=Q[W.id]||0;return(Q[ue.id]||0)-_e});o(z.slice(0,10));const ne=O.filter(W=>{const ue=_e=>{if(!_e)return!1;const pe=new Date(_e),R=(new Date-pe)/(1e3*60*60*24);return R>=0&&R<=7};return ue(W.createdAt)||ue(W.lastEpisodeAt)}).sort((W,ue)=>{const _e=new Date(W.lastEpisodeAt||W.createdAt);return new Date(ue.lastEpisodeAt||ue.createdAt)-_e});f(ne);const ie=O.find(W=>W.featured===!0);p(ie||O[0])}catch(w){console.error("Error fetching anime data:",w)}finally{E(!1)}})()},[]),T.jsx(vS.Provider,{value:{animeList:e,trendingList:s,newReleasesList:u,featuredAnime:m,loading:g},children:r})}function ga(){return L.useContext(vS)}const r4="modulepreload",s4=function(r){return"/mizu-play/"+r},RE={},a4=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=p(n.map(g=>{if(g=s4(g),g in RE)return;RE[g]=!0;const E=g.endsWith(".css"),b=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${b}`))return;const w=document.createElement("link");if(w.rel=E?"stylesheet":r4,E||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),E)return new Promise((O,U)=>{w.addEventListener("load",O),w.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};const o4=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l4=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),xE=r=>{const e=l4(r);return e.charAt(0).toUpperCase()+e.slice(1)},ES=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),u4=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var c4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h4=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>L.createElement("svg",{ref:p,...c4,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:ES("lucide",o),...!u&&!u4(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>L.createElement(g,E)),...Array.isArray(u)?u:[u]]));const Bi=(r,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(h4,{ref:u,iconNode:e,className:ES(`lucide-${o4(xE(r))}`,`lucide-${r}`,s),...o}));return n.displayName=xE(r),n};const f4=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],d4=Bi("bell",f4);const m4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],p4=Bi("check",m4);const g4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],y4=Bi("chevron-right",g4);const _4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],v4=Bi("chevron-left",_4);const E4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],T4=Bi("info",E4);const b4=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],bh=Bi("play",b4);const S4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],A4=Bi("plus",S4);const w4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],CE=Bi("search",w4);const R4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],x4=Bi("user",R4);const C4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],I4=Bi("x",C4),br=()=>{const[r,e]=L.useState(!1),{user:n,logOut:s}=zi(),{animeList:o}=ga(),u=Er(),[f,m]=L.useState(!1),[p,g]=L.useState(null),E=async()=>{try{await s(),u("/")}catch(W){console.log(W)}};L.useEffect(()=>{const W=()=>{window.scrollY>0?e(!0):e(!1)};return window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)},[]),L.useEffect(()=>{let W;return n?.email&&(W=JD(yr(gn,"users",n.email),ue=>{ue.exists()&&g(ue.data())})),()=>{W&&W()}},[n]);const[b,w]=L.useState(!1),[O,U]=L.useState(""),[Q,z]=L.useState([]),ne=W=>{const ue=W.target.value;if(U(ue),ue.length>0){const _e=o.filter(pe=>pe.title.toLowerCase().includes(ue.toLowerCase()));z(_e)}else z([])},ie=W=>{W.preventDefault(),w(!1),U(""),z([]),u(`/search?q=${O}`)};return T.jsxs("nav",{style:{position:"fixed",top:0,width:"100%",zIndex:50,padding:"1rem 4%",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.3s",backgroundColor:r?"var(--background)":"transparent",backgroundImage:r?"none":"linear-gradient(to bottom, rgba(0,0,0,0.7) 10%, rgba(0,0,0,0))"},children:[T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:[T.jsx(rn,{to:"/",children:T.jsx("h1",{style:{color:"var(--primary)",fontSize:"1.8rem",fontWeight:"bold",cursor:"pointer"},children:"MIZUPLAY"})}),n?.email&&T.jsxs("ul",{style:{display:"flex",gap:"1.5rem",listStyle:"none",color:"#e5e5e5",fontSize:"0.9rem"},className:"hidden md:flex",children:[T.jsx(rn,{to:"/",children:T.jsx("li",{style:{cursor:"pointer",fontWeight:"bold"},children:"Home"})}),T.jsx(rn,{to:"/series",children:T.jsx("li",{style:{cursor:"pointer"},children:"Series"})}),T.jsx(rn,{to:"/movies",children:T.jsx("li",{style:{cursor:"pointer"},children:"Movies"})}),T.jsx(rn,{to:"/new",children:T.jsx("li",{style:{cursor:"pointer"},children:"New & Popular"})}),T.jsx(rn,{to:"/mylist",children:T.jsx("li",{style:{cursor:"pointer"},children:"My List"})})]})]}),n?.email?T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",color:"white"},children:[T.jsxs("div",{className:"relative flex items-center",children:[T.jsxs("div",{className:`flex items-center border border-white bg-black/80 transition-all duration-300 ${b?"w-[200px] md:w-[250px] p-1":"w-0 border-0 bg-transparent overflow-hidden"}`,children:[T.jsx(CE,{size:20,className:"ml-1 min-w-[20px]"}),T.jsx("form",{onSubmit:ie,className:"w-full",children:T.jsx("input",{type:"text",className:"bg-transparent border-none text-white focus:outline-none pl-2 text-sm w-full",placeholder:"Titles, people, genres",value:O,onChange:ne,style:{color:"white"}})}),O&&T.jsx("span",{className:"cursor-pointer text-xs px-2",onClick:()=>{U(""),z([])},children:"X"})]}),!b&&T.jsx(CE,{size:20,style:{cursor:"pointer"},onClick:()=>w(!0)}),Q.length>0&&b&&T.jsxs("div",{className:"absolute top-10 right-0 w-[250px] bg-[#141414] border border-[#333] shadow-xl max-h-[300px] overflow-y-auto rounded z-50",children:[Q.map(W=>T.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-[#333] cursor-pointer border-b border-[#222]",onClick:()=>{u(`/title/${W.id}`),w(!1),U(""),z([])},children:[T.jsx("img",{src:W.image,alt:W.title,className:"w-10 h-14 object-cover rounded"}),T.jsxs("div",{className:"flex-1",children:[T.jsx("p",{className:"text-sm font-bold truncate",children:W.title}),T.jsx("p",{className:"text-xs text-gray-400",children:W.category})]})]},W.id)),T.jsxs("div",{className:"p-2 text-center text-xs text-white bg-[var(--primary)] cursor-pointer hover:opacity-80 font-bold",onClick:W=>ie(W),children:['View all results for "',O,'"']})]})]}),T.jsx(d4,{size:20,style:{cursor:"pointer"}}),T.jsxs("div",{style:{position:"relative"},onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[T.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:T.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"4px",overflow:"hidden",backgroundColor:"#aaa",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:n.photoURL?T.jsx("img",{src:n.photoURL,alt:"Profile",style:{position:"absolute",width:`${(p?.photoZoom||1)*100}%`,height:`${(p?.photoZoom||1)*100}%`,top:`${p?.photoPosition?.y??50}%`,left:`${p?.photoPosition?.x??50}%`,transform:`translate(-${p?.photoPosition?.x??50}%, -${p?.photoPosition?.y??50}%)`,objectFit:"cover",objectPosition:`${p?.photoPosition?.x??50}% ${p?.photoPosition?.y??50}%`}}):T.jsx(x4,{size:20,color:"#141414"})})}),f&&T.jsxs("div",{style:{position:"absolute",top:"32px",right:0,backgroundColor:"rgba(0,0,0,0.9)",border:"1px solid #333",borderRadius:"4px",padding:"10px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"10px"},children:[T.jsx(rn,{to:"/account",style:{fontSize:"0.9rem",color:"#fff",textDecoration:"none"},children:"See Profile"}),n?.email==="mperezpulles@gmail.com"&&T.jsx(rn,{to:"/admin",style:{fontSize:"0.9rem",color:"var(--primary)",textDecoration:"none",fontWeight:"bold"},children:"Admin Panel"}),T.jsx("div",{style:{height:"1px",backgroundColor:"#333"}}),T.jsx("button",{onClick:E,style:{background:"transparent",border:"none",color:"#fff",fontSize:"0.9rem",cursor:"pointer",textAlign:"left",padding:0},children:"Logout"})]})]})]}):T.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[T.jsx(rn,{to:"/login",children:T.jsx("button",{className:"text-white pr-4",children:"Sign In"})}),T.jsx(rn,{to:"/signup",children:T.jsx("button",{className:"bg-[var(--primary)] px-6 py-2 rounded cursor-pointer text-black",children:"Sign Up"})})]}),T.jsx("button",{disabled:!0,onClick:async()=>{const{seedDatabase:W}=await a4(async()=>{const{seedDatabase:ue}=await import("./seedDatabase-Cp6Ir-d9.js");return{seedDatabase:ue}},[]);W()},className:"fixed bottom-4 right-4 bg-yellow-500 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed text-black px-4 py-2 rounded z-[100] font-bold",children:"SEED DB"})]})},N4=({anime:r,onPlay:e})=>{const n=Er();return r?T.jsx("div",{className:"relative w-full h-[70vh] text-white",children:T.jsxs("div",{className:"w-full h-full",children:[T.jsx("div",{className:"absolute w-full h-full bg-gradient-to-r from-black via-transparent to-transparent z-10"}),T.jsx("div",{className:"absolute w-full h-full bg-gradient-to-b from-transparent via-transparent to-[#141414] z-10 bottom-0"}),T.jsx("img",{className:"w-full h-full object-cover",src:r.image,alt:r.title}),T.jsxs("div",{className:"absolute w-full top-[30%] md:top-[25%] p-4 md:p-8 md:pl-16 z-20",children:[T.jsx("h1",{className:"text-3xl md:text-5xl font-bold max-w-[90%] md:max-w-[60%] drop-shadow-lg",children:r.title}),T.jsxs("div",{className:"my-6 flex gap-4",children:[T.jsxs("button",{onClick:()=>e(r),className:"bg-[var(--primary)] text-black py-2 px-6 rounded font-bold flex items-center gap-2 hover:bg-opacity-80 transition",children:[T.jsx(bh,{size:24,fill:"black"})," Play"]}),T.jsxs("button",{onClick:()=>n(`/title/${r.id}`),className:"bg-[#9c7880]/90 text-white py-2 px-6 rounded font-bold flex items-center gap-2 hover:bg-[#8a6a72] transition backdrop-blur-sm",children:[T.jsx(T4,{size:24}),"More Info"]})]}),T.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:["Released: ",r.year||"2023"]}),T.jsxs("p",{className:"w-full md:max-w-[70%] lg:max-w-[45%] xl:max-w-[35%] text-gray-200 drop-shadow-md text-sm md:text-base",children:[r.description?.slice(0,160),"..."]})]})]})}):null},ri=({title:r,animes:e,onPlay:n,isPlayableCard:s,showRank:o})=>{const u=L.useRef(null),f=Er(),m=p=>{if(u.current){const{scrollLeft:g,clientWidth:E}=u.current,b=p==="left"?g-E/2:g+E/2;u.current.scrollTo({left:b,behavior:"smooth"})}};return T.jsxs("div",{style:{marginBottom:"3rem",padding:"0 4%"},children:[T.jsx("h2",{style:{color:"#e5e5e5",marginBottom:"1rem",fontSize:"1.5rem",fontWeight:"600"},children:r}),T.jsxs("div",{style:{position:"relative",group:"row"},children:[T.jsx("button",{onClick:()=>m("left"),style:{position:"absolute",left:0,top:0,bottom:0,zIndex:40,backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",padding:"0 0.5rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s"},onMouseEnter:p=>p.currentTarget.style.opacity=1,onMouseLeave:p=>p.currentTarget.style.opacity=0,children:T.jsx(v4,{size:40})}),T.jsx("div",{ref:u,style:{display:"flex",gap:o?"3.5rem":"0.5rem",overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none",padding:o?"1rem 2.5rem":"1rem 1rem",scrollBehavior:"smooth"},className:"no-scrollbar",children:e.map((p,g)=>{const E=O=>{if(!O)return!1;const U=new Date(O),z=(new Date-U)/(1e3*60*60*24);return z>=0&&z<=7},b=E(p.createdAt)&&p.category==="Movie",w=E(p.lastEpisodeAt)&&p.category==="Series";return T.jsxs("div",{onClick:()=>s?n(p):f(`/title/${p.id}`),className:"anime-card",style:{flex:"0 0 auto",width:"250px",cursor:"pointer",position:"relative"},children:[b&&T.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",backgroundColor:"#FFB6C1",color:"#141414",padding:"2px 8px",fontSize:"0.65rem",fontWeight:"900",borderRadius:"2px",zIndex:30,textTransform:"uppercase",boxShadow:"0 0 4px rgba(20, 20, 20, 0.8)"},children:"NUEVO"}),w&&T.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",backgroundColor:"#FFB6C1",color:"#141414",padding:"2px 8px",fontSize:"0.65rem",fontWeight:"900",borderRadius:"2px",zIndex:30,textTransform:"uppercase",boxShadow:"0 0 4px rgba(20, 20, 20, 0.8)"},children:"NUEVO EPIS."}),o&&T.jsx("div",{className:"rank-number",style:{position:"absolute",left:"-2.5rem",bottom:"14px",zIndex:20,fontSize:"8rem",fontWeight:"900",background:"linear-gradient(to right, rgba(0, 0, 0, 1) 45%, rgba(0, 0, 0, 0.3) 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",WebkitTextStroke:"2px #FFB6C1",width:"fit-content",height:"auto",padding:"0.2rem 0.5rem",userSelect:"none",pointerEvents:"none",lineHeight:"1",fontFamily:"system-ui, sans-serif",transition:"all 0.3s ease",overflow:"visible"},children:g+1}),T.jsx("img",{className:"anime-image",src:p.image,alt:p.title,style:{width:"100%",height:"140px",objectFit:"cover",position:"relative",zIndex:10}}),T.jsx("p",{style:{marginTop:"0.5rem",color:"#999",fontSize:"0.9rem",fontWeight:"500",paddingLeft:"0.5rem"},children:p.title})]},p.id)})}),T.jsx("button",{onClick:()=>m("right"),style:{position:"absolute",right:0,top:0,bottom:0,zIndex:40,backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",padding:"0 0.5rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s"},onMouseEnter:p=>p.currentTarget.style.opacity=1,onMouseLeave:p=>p.currentTarget.style.opacity=0,children:T.jsx(y4,{size:40})})]})]})},Vo=({anime:r,onClose:e,videoUrl:n})=>{const s=L.useRef(null),{user:o}=zi(),[u,f]=L.useState(null),m=r?.id||r?.animeId,g=(U=>{if(!U)return U;const Q=/drive\.google\.com\/(?:file\/d\/|open\?id=)([\w-]+)/,z=U.match(Q);return z&&z[1]?`https://drive.google.com/u/0/uc?id=${z[1]}&export=media`:U})(n||r?.video);L.useEffect(()=>{(async()=>{if(console.log("Player: Loading progress for",m),o?.email&&m){const Q=yr(gn,"users",o.email,"progress",m.toString());try{const z=await uu(Q);if(z.exists()){const ne=z.data();if(console.log("Player: Found progress",ne),ne.timestamp){const ie=Math.max(0,ne.timestamp-5);console.log("Player: Setting savedTime to",ie),f(ie)}}else console.log("Player: No progress found")}catch(z){console.error("Player: Error loading progress",z)}}})()},[m,o]);const E=U=>{console.error("Player: Video error",U),g?.includes("drive.google.com")&&alert("Error de Google Drive: Es muy probable que el archivo sea mayor de 100MB y Google est bloqueando la descarga directa por seguridad. Drive solo permite streaming directo en archivos pequeos.")};L.useEffect(()=>{u!==null&&s.current&&s.current.readyState>=1&&(console.log("Player: Seeking to savedTime (useEffect)",u),s.current.currentTime=u)},[u]);const b=()=>{console.log("Player: Metadata loaded"),s.current&&u!==null&&(console.log("Player: Seeking to savedTime (onLoadedMetadata)",u),s.current.currentTime=u)},w=async()=>{if(o?.email&&m&&s.current){const U=s.current.currentTime,Q=s.current.duration;console.log("Player: Saving progress",U);try{await pf(yr(gn,"users",o.email,"progress",m.toString()),{animeId:m,title:r.title,image:r.image,video:n||r.video,timestamp:U,lastWatched:new Date,duration:Q}),console.log("Player: Progress saved successfully")}catch(z){console.error("Player: Error saving progress",z)}}},O=async()=>{console.log("Player: Close button clicked"),await w(),e()};return L.useEffect(()=>{const U=setInterval(()=>{console.log("Player: Auto-saving..."),w()},5e3);return()=>clearInterval(U)},[m,o,r]),r?T.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"black",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:[T.jsx("button",{onClick:O,style:{position:"absolute",top:"2rem",right:"2rem",background:"transparent",color:"white",zIndex:101,cursor:"pointer"},children:T.jsx(I4,{size:40})}),T.jsx("video",{ref:s,controls:!0,autoPlay:!0,crossOrigin:"anonymous",onLoadedMetadata:b,onError:E,style:{width:"100%",height:"100%",maxHeight:"100vh"},src:g,children:"Your browser does not support the video tag."})]}):null},D4=()=>{const[r,e]=L.useState(null),[n,s]=L.useState([]),{user:o}=zi(),{animeList:u,trendingList:f,newReleasesList:m,featuredAnime:p,loading:g}=ga();L.useEffect(()=>{(async()=>{if(o?.email){const z=(await cu(ff(gn,"users",o.email,"progress"))).docs.map(ne=>({...ne.data(),id:ne.data().animeId}));s(z)}})()},[o,r]);const E=U=>{e(U)},b=()=>{e(null)};if(g)return T.jsx("div",{className:"text-white pt-20 pl-10",children:"Loading..."});const w={};u.forEach(U=>{U.genres?.forEach(Q=>{const z=Q.toLowerCase().trim();w[z]=(w[z]||0)+1})});const O=Object.keys(w).filter(U=>w[U]>=3).sort((U,Q)=>w[Q]-w[U]);return T.jsxs(T.Fragment,{children:[T.jsx(br,{}),T.jsx(N4,{anime:p,onPlay:E}),T.jsxs("div",{style:{marginTop:"-120px",position:"relative",zIndex:10},children:[n.length>0&&T.jsx(ri,{title:"Continue Watching",animes:n,onPlay:E,isPlayableCard:!0}),T.jsx(ri,{title:"Trending Now",animes:f,onPlay:E,showRank:!0}),m.length>0&&T.jsx(ri,{title:"New Releases",animes:m,onPlay:E}),O.map(U=>T.jsx(ri,{title:U.charAt(0).toUpperCase()+U.slice(1),animes:u.filter(Q=>Q.genres?.some(z=>z.toLowerCase().trim()===U)),onPlay:E},U))]}),r&&T.jsx(Vo,{anime:r,onClose:b})]})},TS="/mizu-play/assets/door-DVRtoP7x.png",O4=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(""),[f,m]=L.useState(!1),{logIn:p}=zi(),g=Er(),E=async b=>{b.preventDefault(),u(""),m(!0);try{await p(r,n),g("/")}catch(w){console.log(w),u(w.message),m(!1)}};return T.jsxs("div",{className:"w-full h-screen overflow-hidden",children:[T.jsx("img",{className:"absolute w-full h-full object-cover",src:TS,alt:"/"}),T.jsx("div",{className:"bg-black/60 fixed top-0 left-0 w-full h-screen"}),T.jsx("div",{className:"fixed w-full px-4 py-24 z-50",children:T.jsx("div",{className:"max-w-[450px] h-[600px] mx-auto bg-black/75 text-white rounded-lg",children:T.jsxs("div",{className:"max-w-[320px] mx-auto py-16",children:[T.jsx("h1",{className:"text-3xl font-bold",children:"Sign In"}),o?T.jsx("p",{className:"p-3 bg-red-400 my-2",children:o}):null,T.jsxs("form",{onSubmit:E,className:"w-full flex flex-col py-4",children:[T.jsx("input",{onChange:b=>e(b.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"email",placeholder:"Email",autoComplete:"email"}),T.jsx("input",{onChange:b=>s(b.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"password",placeholder:"Password",autoComplete:"current-password"}),T.jsx("button",{disabled:f,className:"bg-[var(--primary)] py-3 my-6 rounded font-bold text-black flex justify-center items-center",children:f?T.jsx("div",{className:"w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}):"Sign In"}),T.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[T.jsxs("p",{children:[T.jsx("input",{className:"mr-2",type:"checkbox"}),"Remember me"]}),T.jsx("p",{children:"Need Help?"})]}),T.jsxs("p",{className:"py-8",children:[T.jsx("span",{className:"text-gray-600",children:"New to Mizuplay?"})," ",T.jsx(rn,{to:"/signup",children:"Sign Up"})]})]})]})})})]})},M4=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),{signUp:o}=zi(),u=Er(),f=async m=>{m.preventDefault();try{await o(r,n),u("/")}catch(p){console.log(p)}};return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"w-full h-screen",children:[T.jsx("img",{className:"absolute w-full h-full object-cover",src:TS,alt:"/"}),T.jsx("div",{className:"bg-black/60 fixed top-0 left-0 w-full h-screen"}),T.jsx("div",{className:"fixed w-full px-4 py-24 z-50",children:T.jsx("div",{className:"max-w-[450px] h-[600px] mx-auto bg-black/75 text-white rounded-lg",children:T.jsxs("div",{className:"max-w-[320px] mx-auto py-16",children:[T.jsx("h1",{className:"text-3xl font-bold",children:"Sign Up"}),T.jsxs("form",{onSubmit:f,className:"w-full flex flex-col py-4",children:[T.jsx("input",{onChange:m=>e(m.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"email",placeholder:"Email",autoComplete:"email"}),T.jsx("input",{onChange:m=>s(m.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"password",placeholder:"Password",autoComplete:"new-password"}),T.jsx("button",{className:"bg-[var(--primary)] py-3 my-6 rounded font-bold text-black",children:"Sign Up"}),T.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[T.jsxs("p",{children:[T.jsx("input",{className:"mr-2",type:"checkbox"}),"Remember me"]}),T.jsx("p",{children:"Need Help?"})]}),T.jsxs("p",{className:"py-8",children:[T.jsx("span",{className:"text-gray-600",children:"Already subscribed to Mizuplay?"})," ",T.jsx(rn,{to:"/login",children:"Sign In"})]})]})]})})})]})})},IE="/mizu-play/assets/profile_default_banner-BwOa1bDb.png",V4=()=>{const{user:r,logOut:e,updateUserProfile:n,updateUserEmail:s,updateUserPassword:o}=zi(),u=Er(),[f,m]=L.useState(!1),[p,g]=L.useState(r?.displayName||""),[E,b]=L.useState(r?.photoURL||""),[w,O]=L.useState(r?.email||""),[U,Q]=L.useState(""),[z,ne]=L.useState(""),[ie,W]=L.useState(""),[ue,_e]=L.useState(""),[pe,I]=L.useState(""),[R,x]=L.useState({x:50,y:100}),[V,D]=L.useState(1),[k,C]=L.useState({x:50,y:50}),[ze,ht]=L.useState(1),[G,oe]=L.useState(null),[me,Le]=L.useState([]);nw.useEffect(()=>{(async()=>{if(r?.email){try{const re=yr(gn,"users",r.email),ae=await uu(re);if(ae.exists()){const he=ae.data();he.bannerURL&&(I(he.bannerURL),_e(he.bannerURL)),he.bannerPosition!==void 0&&(typeof he.bannerPosition=="number"?x({x:50,y:he.bannerPosition}):x(he.bannerPosition)),he.bannerZoom!==void 0&&D(he.bannerZoom),he.photoPosition!==void 0&&C(he.photoPosition),he.photoZoom!==void 0&&ht(he.photoZoom)}}catch(re){console.log("Error fetching user data:",re)}try{const ae=(await cu(ff(gn,"users",r.email,"savedShows"))).docs.map(he=>he.data());Le(ae)}catch(re){console.log("Error fetching my list:",re)}}})()},[r]);const He=async()=>{try{await e(),u("/")}catch(Y){console.log(Y)}},P=async Y=>{Y.preventDefault(),ne(""),W("");try{(p!==r.displayName||E!==r.photoURL)&&await n({displayName:p,photoURL:E}),w!==r.email&&await s(w),U&&await o(U);const re=yr(gn,"users",r.email),ae=await uu(re),he={bannerURL:ue,bannerPosition:R,bannerZoom:V,photoPosition:k,photoZoom:ze};ae.exists()?await pS(re,he):await pf(re,he,{merge:!0}),I(ue),W("Profile updated successfully!"),m(!1)}catch(re){ne("Failed to update profile. "+re.message)}};return T.jsxs("div",{className:"w-full text-white bg-[#141414] min-h-screen",children:[T.jsx(br,{}),T.jsxs("div",{className:"relative w-full h-[450px] overflow-hidden",children:[T.jsx("img",{className:"absolute object-cover",src:pe||IE,alt:"/",style:{width:`${pe?V*100:100}%`,height:`${pe?V*100:100}%`,top:`${pe?R.y:100}%`,left:`${pe?R.x:50}%`,transform:`translate(-${pe?R.x:50}%, -${pe?R.y:100}%)`,objectPosition:pe?`${R.x}% ${R.y}%`:"center bottom"}}),T.jsx("div",{className:"absolute w-full h-full top-0 left-0 bg-gradient-to-t from-[#141414] via-transparent to-transparent"})]}),T.jsxs("div",{className:"px-[4%] py-8 relative -mt-32 z-20 w-full max-w-[600px]",children:[T.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-8",children:"My Account"}),ie&&T.jsx("p",{className:"p-3 bg-green-500 my-2 rounded",children:ie}),z&&T.jsx("p",{className:"p-3 bg-red-500 my-2 rounded",children:z}),f?T.jsx("form",{onSubmit:P,className:"bg-black/80 p-8 rounded",children:T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Display Name"}),T.jsx("input",{type:"text",value:p,onChange:Y=>g(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Photo URL"}),T.jsx("input",{type:"text",value:E,onChange:Y=>b(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"https://example.com/photo.jpg"}),E&&T.jsx("button",{type:"button",onClick:()=>oe("photo"),className:"mt-2 text-sm text-[var(--primary)] hover:underline",children:"Adjust Photo Position"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Banner URL"}),T.jsx("input",{type:"text",value:ue,onChange:Y=>_e(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"https://example.com/banner.jpg"}),ue&&T.jsx("button",{type:"button",onClick:()=>oe("banner"),className:"mt-2 text-sm text-[var(--primary)] hover:underline",children:"Adjust Banner Position"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Email"}),T.jsx("input",{type:"email",value:w,onChange:Y=>O(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"New Password (leave blank to keep current)"}),T.jsx("input",{type:"password",value:U,onChange:Y=>Q(Y.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"New Password"})]}),T.jsxs("div",{className:"flex gap-4 mt-4",children:[T.jsx("button",{type:"submit",className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Save"}),T.jsx("button",{type:"button",onClick:()=>m(!1),className:"border border-gray-500 px-6 py-2 font-bold rounded hover:bg-gray-800 transition",children:"Cancel"})]})]})}):T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[T.jsx("div",{className:"w-20 h-20 bg-gray-500 rounded overflow-hidden relative",children:r?.photoURL?T.jsx("img",{src:r.photoURL,alt:"Profile",className:"absolute object-cover",style:{width:`${ze*100}%`,height:`${ze*100}%`,top:`${k.y}%`,left:`${k.x}%`,transform:`translate(-${k.x}%, -${k.y}%)`,objectPosition:`${k.x}% ${k.y}%`}}):T.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:r?.email?.[0]?.toUpperCase()})}),T.jsxs("div",{children:[T.jsx("h2",{className:"text-2xl font-bold",children:r?.displayName||"User"}),T.jsx("p",{className:"text-gray-400",children:r?.email})]})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:()=>m(!0),className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Edit Profile"}),T.jsx("button",{onClick:He,className:"bg-[#9c7880]/90 text-white px-6 py-2 font-bold rounded hover:bg-[#8a6a72] transition",children:"Logout"})]}),T.jsxs("div",{className:"mt-12",children:[T.jsx("h2",{className:"text-2xl font-bold mb-4",children:"My List"}),T.jsxs("div",{className:"flex overflow-x-scroll whitespace-nowrap scrollbar-hide gap-4 pb-4",children:[me.map((Y,re)=>T.jsxs("div",{className:"w-[160px] sm:w-[200px] inline-block cursor-pointer relative p-2 anime-card",onClick:()=>u(`/title/${Y.id}`),children:[T.jsx("img",{className:"w-full h-auto block rounded anime-image",src:Y.image,alt:Y.title}),T.jsx("p",{className:"text-sm mt-2 text-gray-300 truncate",children:Y.title})]},re)),me.length===0&&T.jsx("p",{className:"text-gray-500",children:"Your list is empty."})]})]})]})]}),G&&T.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-[#181818] w-full max-w-[800px] rounded-lg overflow-hidden flex flex-col",children:[T.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[T.jsxs("h3",{className:"text-xl font-bold",children:["Adjust ",G==="banner"?"Banner":"Photo"," Position"]}),T.jsx("button",{onClick:()=>oe(null),className:"text-gray-400 hover:text-white",children:""})]}),T.jsxs("div",{className:"flex-1 relative bg-black flex flex-col items-center justify-center overflow-hidden p-8",children:[T.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Drag the sliders to adjust the position"}),T.jsxs("div",{className:`relative ${G==="banner"?"w-full h-[200px]":"w-[200px] h-[200px] rounded-full"} border border-gray-700 overflow-hidden`,children:[T.jsx("img",{src:G==="banner"?ue||IE:E||r?.photoURL,alt:"Preview",className:"absolute object-cover",style:{width:`${(G==="banner"?V:ze)*100}%`,height:`${(G==="banner"?V:ze)*100}%`,top:`${G==="banner"?R.y:k.y}%`,left:`${G==="banner"?R.x:k.x}%`,transform:`translate(-${G==="banner"?R.x:k.x}%, -${G==="banner"?R.y:k.y}%)`,objectPosition:G==="banner"?`${R.x}% ${R.y}%`:`${k.x}% ${k.y}%`}}),T.jsx("div",{className:`absolute inset-0 pointer-events-none border-x-4 border-y-4 border-[var(--primary)]/30 ${G==="photo"?"rounded-full":""}`})]}),T.jsxs("div",{className:"mt-8 w-full max-w-[400px] flex flex-col gap-6",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[T.jsx("span",{children:"Horizontal"}),T.jsxs("span",{children:[G==="banner"?R.x:k.x,"%"]})]}),T.jsx("input",{type:"range",min:"0",max:"100",value:G==="banner"?R.x:k.x,onChange:Y=>{const re=Number(Y.target.value);G==="banner"?x(ae=>({...ae,x:re})):C(ae=>({...ae,x:re}))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),T.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[T.jsx("span",{children:"Left"}),T.jsx("span",{children:"Right"})]})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[T.jsx("span",{children:"Vertical"}),T.jsxs("span",{children:[G==="banner"?R.y:k.y,"%"]})]}),T.jsx("input",{type:"range",min:"0",max:"100",value:G==="banner"?R.y:k.y,onChange:Y=>{const re=Number(Y.target.value);G==="banner"?x(ae=>({...ae,y:re})):C(ae=>({...ae,y:re}))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),T.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[T.jsx("span",{children:"Top"}),T.jsx("span",{children:"Bottom"})]})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[T.jsx("span",{children:"Zoom"}),T.jsxs("span",{children:[G==="banner"?V.toFixed(1):ze.toFixed(1),"x"]})]}),T.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:G==="banner"?V:ze,onChange:Y=>{const re=Number(Y.target.value);G==="banner"?D(re):ht(re)},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),T.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[T.jsx("span",{children:"Far"}),T.jsx("span",{children:"Near"})]})]})]})]}),T.jsx("div",{className:"p-4 border-t border-gray-800 flex justify-end gap-4",children:T.jsx("button",{onClick:()=>oe(null),className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Done"})})]})})]})},P4=()=>{const[r,e]=L.useState(null),{animeList:n,loading:s}=ga();if(s)return T.jsx("div",{className:"text-white pt-20 pl-[4%]",children:"Loading..."});const o=n.filter(m=>m.category==="Series"),u={};o.forEach(m=>{m.genres?.forEach(p=>{const g=p.toLowerCase().trim();u[g]=(u[g]||0)+1})});const f=Object.keys(u).filter(m=>u[m]>=3).sort((m,p)=>u[p]-u[m]);return T.jsxs(T.Fragment,{children:[T.jsx(br,{}),T.jsxs("div",{className:"w-full text-white pt-[100px]",children:[T.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"TV Series"}),f.map(m=>T.jsx(ri,{title:m.charAt(0).toUpperCase()+m.slice(1),animes:o.filter(p=>p.genres?.some(g=>g.toLowerCase().trim()===m)),onPlay:e},m)),T.jsx(ri,{title:"All Series",animes:o,onPlay:e})]}),r&&T.jsx(Vo,{anime:r,onClose:()=>e(null)})]})},L4=()=>{const[r,e]=L.useState(null),{animeList:n,loading:s}=ga();if(s)return T.jsx("div",{className:"text-white pt-20 pl-[4%]",children:"Loading..."});const o=n.filter(m=>m.category==="Movie"),u={};o.forEach(m=>{m.genres?.forEach(p=>{const g=p.toLowerCase().trim();u[g]=(u[g]||0)+1})});const f=Object.keys(u).sort((m,p)=>u[p]-u[m]);return T.jsxs(T.Fragment,{children:[T.jsx(br,{}),T.jsxs("div",{className:"w-full text-white pt-[100px]",children:[T.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"Movies"}),f.map(m=>T.jsx(ri,{title:m.charAt(0).toUpperCase()+m.slice(1),animes:o.filter(p=>p.genres?.some(g=>g.toLowerCase().trim()===m)),onPlay:e},m)),T.jsx(ri,{title:"All Movies",animes:o,onPlay:e})]}),r&&T.jsx(Vo,{anime:r,onClose:()=>e(null)})]})},k4=()=>{const[r,e]=L.useState(null),{animeList:n,trendingList:s,loading:o}=ga();if(o)return T.jsx("div",{className:"text-white pt-20 pl-[4%]",children:"Loading..."});const u=n.filter(f=>f.isNew);return T.jsxs(T.Fragment,{children:[T.jsx(br,{}),T.jsxs("div",{className:"w-full text-white pt-[100px]",children:[T.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"New & Popular"}),T.jsx(ri,{title:"New Releases",animes:u,onPlay:e}),T.jsx(ri,{title:"Trending Now",animes:s,onPlay:e})]}),r&&T.jsx(Vo,{anime:r,onClose:()=>e(null)})]})},U4=()=>{const[r,e]=L.useState(null),[n,s]=L.useState([]),{user:o}=zi();return L.useEffect(()=>{(async()=>{if(o?.email){const m=(await cu(ff(gn,"users",o.email,"savedShows"))).docs.map(p=>p.data());s(m)}})()},[o,r]),T.jsxs(T.Fragment,{children:[T.jsx(br,{}),T.jsxs("div",{className:"w-full text-white pt-[100px]",children:[T.jsx("h1",{className:"text-3xl font-bold mb-8 px-[4%]",children:"My List"}),n.length>0?T.jsx(ri,{title:"Saved Shows",animes:n,onPlay:e}):T.jsx("p",{className:"text-gray-500 px-[4%]",children:"You haven't added anything to your list yet."})]}),r&&T.jsx(Vo,{anime:r,onClose:()=>e(null)})]})},j4=()=>{const[r]=O1(),e=r.get("q"),[n,s]=L.useState([]),{animeList:o}=ga();return L.useEffect(()=>{if(e&&o.length>0){const u=o.filter(f=>f.title.toLowerCase().includes(e.toLowerCase())||f.genres?.some(m=>m.toLowerCase().includes(e.toLowerCase())));s(u)}else s([])},[e]),T.jsxs("div",{className:"w-full min-h-screen bg-black text-white",children:[T.jsx(br,{}),T.jsxs("div",{className:"pt-[100px] px-[4%]",children:[T.jsxs("h2",{className:"text-2xl font-bold mb-6",children:['Results for "',e,'"']}),n.length>0?T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(u=>T.jsx(rn,{to:`/title/${u.id}`,children:T.jsxs("div",{className:"relative group cursor-pointer transition-transform duration-300 hover:scale-105 hover:z-10",children:[T.jsx("img",{src:u.image,alt:u.title,className:"w-full h-auto rounded block"}),T.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:T.jsx("p",{className:"text-white font-bold text-center px-2",children:u.title})})]})},u.id))}):T.jsx("p",{className:"text-gray-400",children:"No matches found."})]})]})},z4=()=>{const{id:r}=Bw(),{user:e}=zi(),{animeList:n,featuredAnime:s}=ga(),[o,u]=L.useState(null),[f,m]=L.useState(!1),[p,g]=L.useState(null),[E,b]=L.useState(!1);L.useEffect(()=>{if(!n||n.length===0)return;const O=n.find(Q=>Q.id.toString()===r);O?u(O):s&&s.id.toString()===r&&u(s),window.scrollTo(0,0),(async()=>{if(e?.email&&r){const Q=yr(gn,"users",e.email,"savedShows",r);(await uu(Q)).exists()?b(!0):b(!1)}})()},[r,n,s,e]);const w=async()=>{if(!e?.email||!o)return;const O=o.id.toString(),U=yr(gn,"users",e.email,"savedShows",O);E?(await ZD(U),b(!1)):(await pf(U,{id:O,title:o.title,image:o.image,category:o.category||"Series"}),b(!0))};return o?T.jsxs("div",{className:"bg-[#141414] min-h-screen text-white",children:[T.jsx(br,{}),T.jsxs("div",{className:"relative w-full h-[70vh]",children:[T.jsx("div",{className:"absolute w-full h-full bg-gradient-to-r from-black via-transparent to-transparent z-10"}),T.jsx("div",{className:"absolute w-full h-full bg-gradient-to-b from-transparent via-[#141414]/50 to-[#141414] z-10 bottom-0"}),T.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"}),T.jsxs("div",{className:"absolute top-[30%] lg:top-[40%] pl-[4%] z-20 max-w-[90%] md:max-w-[50%]",children:[T.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 drop-shadow-lg",children:o.title}),T.jsxs("div",{className:"flex items-center gap-4 text-gray-300 mb-6 text-sm md:text-base",children:[T.jsx("span",{className:"text-green-400 font-bold",children:"98% Match"}),T.jsx("span",{children:"2024"}),T.jsx("span",{className:"border border-gray-500 px-2 py-0.5 text-xs",children:"16+"}),T.jsx("span",{children:o.category==="Movie"?"1h 55m":"1 Season"})]}),T.jsxs("div",{className:"flex gap-4 mb-4",children:[T.jsxs("button",{onClick:()=>{o.category==="Movie"?g(null):o.seasons&&o.seasons[0]?.episodes[0]&&g(o.seasons[0].episodes[0]),m(!0)},className:"bg-[var(--primary)] text-black px-6 py-2 rounded font-bold flex items-center gap-2 hover:bg-opacity-80 transition",children:[T.jsx(bh,{size:24,fill:"black"})," Play"]}),T.jsxs("button",{onClick:w,className:"bg-[#9c7880]/90 text-white px-6 py-2 rounded font-bold flex items-center gap-2 hover:bg-[#8a6a72] transition",children:[E?T.jsx(p4,{size:24}):T.jsx(A4,{size:24}),E?"In List":"My List"]})]}),T.jsx("p",{className:"text-gray-300 text-sm md:text-lg drop-shadow-md",children:o.description||"Join the adventure in this critically acclaimed series."})]})]}),T.jsxs("div",{className:"px-[4%] py-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[T.jsx("div",{className:"md:col-span-2",children:o.category==="Movie"?T.jsxs("div",{className:"mt-4",children:[T.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Watch Movie"}),T.jsxs("div",{className:"flex items-center gap-6 p-6 bg-[#222] hover:bg-[#333] rounded-lg cursor-pointer transition group border border-gray-800",onClick:()=>{g(null),m(!0)},children:[T.jsxs("div",{className:"relative w-48 h-28 bg-gray-700 rounded overflow-hidden flex-shrink-0 shadow-lg",children:[T.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition"}),T.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-transparent transition",children:T.jsx("div",{className:"bg-white/20 p-3 rounded-full backdrop-blur-sm group-hover:scale-110 transition",children:T.jsx(bh,{size:30,className:"text-white",fill:"white"})})})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:o.title}),T.jsx("p",{className:"text-gray-400 text-sm mb-2",children:o.genre}),T.jsx("span",{className:"text-sm font-semibold bg-[var(--primary)] px-2 py-1 rounded text-black",children:"Full Movie"})]})]})]}):o.seasons?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex justify-between items-end mb-6 border-b border-gray-700 pb-2",children:[T.jsx("h3",{className:"text-2xl font-bold",children:"Episodes"}),T.jsxs("span",{className:"text-lg text-gray-400",children:[o.seasons.length," Season",o.seasons.length>1?"s":""]})]}),T.jsx("div",{className:"space-y-4",children:o.seasons[0].episodes.map(O=>T.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-[#333] rounded cursor-pointer transition group",onClick:()=>{g(O),m(!0)},children:[T.jsx("span",{className:"text-2xl text-gray-500 font-bold w-6",children:O.id}),T.jsxs("div",{className:"relative w-32 h-20 bg-gray-700 rounded overflow-hidden flex-shrink-0",children:[T.jsx("img",{src:o.image,alt:`Ep ${O.id}`,className:"w-full h-full object-cover opacity-70 group-hover:opacity-100"}),T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx(bh,{size:20,className:"invisible group-hover:visible",fill:"white"})})]}),T.jsxs("div",{children:[T.jsx("h4",{className:"font-bold text-sm md:text-base",children:O.title}),T.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:O.duration})]})]},O.id))})]}):null}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-500 block text-sm",children:"Genre:"}),T.jsx("span",{className:"text-white text-sm",children:o.genre||"Anime"})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-500 block text-sm",children:"Cast:"}),T.jsx("span",{className:"text-white text-sm",children:"Voice Actor 1, Voice Actor 2"})]}),T.jsxs("div",{children:[T.jsx("span",{className:"text-gray-500 block text-sm",children:"Maturity Rating:"}),T.jsx("span",{className:"border border-white/40 px-2 py-0.5 text-xs inline-block mt-1",children:"TV-MA"}),T.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Violence, Language"})]})]})]}),f&&T.jsx(Vo,{anime:o,onClose:()=>{m(!1),g(null)},videoUrl:p?.video})]}):T.jsx("div",{className:"text-white pt-20",children:"Loading..."})},B4=()=>{const{user:r}=zi(),e="mperezpulles@gmail.com",[n,s]=L.useState({id:"",title:"",category:"Series",description:"",image:"",genres:"",isNew:!1,featured:!1,video:"",genre:""}),[o,u]=L.useState({animeId:"",season:1,episodeId:"",episodeTitle:"",videoUrl:"",duration:"24m"}),[f,m]=L.useState("");if(r?.email!==e)return T.jsx("div",{className:"bg-[#141414] min-h-screen text-white flex items-center justify-center",children:T.jsxs("div",{className:"text-center",children:[T.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Acceso Denegado"}),T.jsx("p",{children:"No tienes permisos para ver esta pgina."})]})});const p=async E=>{E.preventDefault(),m("Guardando anime...");try{const b=n.genres.split(",").map(O=>O.trim()),w={...n,id:parseInt(n.id),genres:b,createdAt:new Date().toISOString(),seasons:n.category==="Series"?[{season:1,episodes:[]}]:null};await pf(yr(gn,"animes",n.id.toString()),w),m("Anime guardado con xito!"),s({id:"",title:"",category:"Series",description:"",image:"",genres:"",isNew:!1,featured:!1,video:"",genre:""})}catch(b){m("Error: "+b.message)}},g=async E=>{E.preventDefault(),m("Aadiendo episodio...");try{const b=yr(gn,"animes",o.animeId.toString()),w=await uu(b);if(!w.exists())throw new Error("No se encontr el anime con ese ID");const U=w.data().seasons||[];let Q=U.findIndex(ie=>ie.season===parseInt(o.season));Q===-1&&(U.push({season:parseInt(o.season),episodes:[]}),Q=U.length-1);const z={id:parseInt(o.episodeId),title:o.episodeTitle,video:o.videoUrl,duration:o.duration};if(U[Q].episodes.some(ie=>ie.id===z.id))throw new Error("Ese nmero de episodio ya existe en esta temporada");U[Q].episodes.push(z),U[Q].episodes.sort((ie,W)=>ie.id-W.id),await pS(b,{seasons:U,lastEpisodeAt:new Date().toISOString()}),m("Episodio aadido con xito!"),u({...o,episodeId:"",episodeTitle:"",videoUrl:""})}catch(b){m("Error: "+b.message)}};return T.jsxs("div",{className:"bg-[#141414] min-h-screen text-white",children:[T.jsx(br,{}),T.jsxs("div",{className:"pt-24 px-[4%] max-w-4xl mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold mb-8 text-[var(--primary)]",children:"Panel de Administrador"}),f&&T.jsx("div",{className:"bg-blue-600/20 border border-blue-500 p-4 rounded mb-8 text-center",children:f}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[T.jsxs("section",{className:"bg-[#222] p-6 rounded-lg border border-gray-800",children:[T.jsx("h2",{className:"text-xl font-bold mb-6",children:"Aadir Nuevo Anime / Pelcula"}),T.jsxs("form",{onSubmit:p,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ID (Nmero nico)"}),T.jsx("input",{required:!0,type:"number",value:n.id,onChange:E=>s({...n,id:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",placeholder:"Ej: 15"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ttulo"}),T.jsx("input",{required:!0,type:"text",value:n.title,onChange:E=>s({...n,title:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Categora"}),T.jsxs("select",{value:n.category,onChange:E=>s({...n,category:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",children:[T.jsx("option",{value:"Series",children:"Series"}),T.jsx("option",{value:"Movie",children:"Movie"})]})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Imagen (URL)"}),T.jsx("input",{required:!0,type:"text",value:n.image,onChange:E=>s({...n,image:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Gneros (Separados por comas)"}),T.jsx("input",{required:!0,type:"text",value:n.genres,onChange:E=>s({...n,genres:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",placeholder:"Action, Fantasy, Comedy"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Descripcin"}),T.jsx("textarea",{required:!0,value:n.description,onChange:E=>s({...n,description:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none h-24"})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:n.isNew,onChange:E=>s({...n,isNew:E.target.checked}),className:"accent-[var(--primary)]"}),T.jsx("span",{children:"Marcar como Nuevo"})]}),T.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[T.jsx("input",{type:"checkbox",checked:n.featured,onChange:E=>s({...n,featured:E.target.checked}),className:"accent-[var(--primary)]"}),T.jsx("span",{children:"Destacado (Hero)"})]})]}),T.jsx("button",{type:"submit",className:"w-full bg-[var(--primary)] text-black font-bold py-2 rounded hover:bg-opacity-80 transition mt-4",children:"Guardar Anime"})]})]}),T.jsxs("section",{className:"bg-[#222] p-6 rounded-lg border border-gray-800",children:[T.jsx("h2",{className:"text-xl font-bold mb-6",children:"Aadir Episodio a Serie"}),T.jsxs("form",{onSubmit:g,className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ID del Anime (al que aadir)"}),T.jsx("input",{required:!0,type:"number",value:o.animeId,onChange:E=>u({...o,animeId:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",placeholder:"ID numrico"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Temporada"}),T.jsx("input",{required:!0,type:"number",value:o.season,onChange:E=>u({...o,season:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Nmero de Episodio"}),T.jsx("input",{required:!0,type:"number",value:o.episodeId,onChange:E=>u({...o,episodeId:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Ttulo del Episodio"}),T.jsx("input",{required:!0,type:"text",value:o.episodeTitle,onChange:E=>u({...o,episodeTitle:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none",placeholder:"Ej: El reencuentro"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"URL de Vdeo (Cloudflare / Drive)"}),T.jsx("input",{required:!0,type:"text",value:o.videoUrl,onChange:E=>u({...o,videoUrl:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Duracin"}),T.jsx("input",{required:!0,type:"text",value:o.duration,onChange:E=>u({...o,duration:E.target.value}),className:"w-full bg-[#333] p-2 rounded border border-gray-700 focus:border-[var(--primary)] outline-none"})]}),T.jsx("button",{type:"submit",className:"w-full bg-[var(--primary)] text-black font-bold py-2 rounded hover:bg-opacity-80 transition mt-4",children:"Aadir Episodio"})]})]})]})]})]})},or=({children:r})=>{const{user:e,loading:n}=zi();return n?null:e?r:T.jsx(t1,{to:"/login"})};function q4(){return T.jsx("div",{className:"app",children:T.jsx(n4,{children:T.jsx(i4,{children:T.jsx(x1,{children:T.jsxs(i1,{children:[T.jsx(qn,{path:"/login",element:T.jsx(O4,{})}),T.jsx(qn,{path:"/signup",element:T.jsx(M4,{})}),T.jsx(qn,{path:"/",element:T.jsx(or,{children:T.jsx(D4,{})})}),T.jsx(qn,{path:"/series",element:T.jsx(or,{children:T.jsx(P4,{})})}),T.jsx(qn,{path:"/movies",element:T.jsx(or,{children:T.jsx(L4,{})})}),T.jsx(qn,{path:"/new",element:T.jsx(or,{children:T.jsx(k4,{})})}),T.jsx(qn,{path:"/mylist",element:T.jsx(or,{children:T.jsx(U4,{})})}),T.jsx(qn,{path:"/search",element:T.jsx(or,{children:T.jsx(j4,{})})}),T.jsx(qn,{path:"/title/:id",element:T.jsx(or,{children:T.jsx(z4,{})})}),T.jsx(qn,{path:"/account",element:T.jsx(or,{children:T.jsx(V4,{})})}),T.jsx(qn,{path:"/admin",element:T.jsx(or,{children:T.jsx(B4,{})})})]})})})})})}uw.createRoot(document.getElementById("root")).render(T.jsx(L.StrictMode,{children:T.jsx(q4,{})}));export{gn as a,yr as d,G4 as w};
