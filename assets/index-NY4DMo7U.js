(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function qA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fm={exports:{}},kl={};var xv;function HA(){if(xv)return kl;xv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=n,kl.jsxs=n,kl}var Nv;function FA(){return Nv||(Nv=1,fm.exports=HA()),fm.exports}var b=FA(),dm={exports:{}},be={};var Dv;function GA(){if(Dv)return be;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function P(V){return V===null||typeof V!="object"?null:(V=w&&V[w]||V["@@iterator"],typeof V=="function"?V:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,F={};function ne(V,K,ie){this.props=V,this.context=K,this.refs=F,this.updater=ie||q}ne.prototype.isReactComponent={},ne.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},ne.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function re(){}re.prototype=ne.prototype;function te(V,K,ie){this.props=V,this.context=K,this.refs=F,this.updater=ie||q}var de=te.prototype=new re;de.constructor=te,$(de,ne.prototype),de.isPureReactComponent=!0;var Ae=Array.isArray;function ye(){}var x={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(V,K,ie){var ae=ie.ref;return{$$typeof:r,type:V,key:K,ref:ae!==void 0?ae:null,props:ie}}function M(V,K){return C(V.type,K,V.props)}function D(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(ie){return K[ie]})}var I=/\/+/g;function ze(V,K){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):K.toString(36)}function ht(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ye,ye):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,K,ie,ae,ue){var Ce=typeof V;(Ce==="undefined"||Ce==="boolean")&&(V=null);var Ue=!1;if(V===null)Ue=!0;else switch(Ce){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(V.$$typeof){case r:case e:Ue=!0;break;case E:return Ue=V._init,G(Ue(V._payload),K,ie,ae,ue)}}if(Ue)return ue=ue(V),Ue=ae===""?"."+ze(V,0):ae,Ae(ue)?(ie="",Ue!=null&&(ie=Ue.replace(I,"$&/")+"/"),G(ue,K,ie,"",function(Ts){return Ts})):ue!=null&&(D(ue)&&(ue=M(ue,ie+(ue.key==null||V&&V.key===ue.key?"":(""+ue.key).replace(I,"$&/")+"/")+Ue)),K.push(ue)),1;Ue=0;var Dt=ae===""?".":ae+":";if(Ae(V))for(var st=0;st<V.length;st++)ae=V[st],Ce=Dt+ze(ae,st),Ue+=G(ae,K,ie,Ce,ue);else if(st=P(V),typeof st=="function")for(V=st.call(V),st=0;!(ae=V.next()).done;)ae=ae.value,Ce=Dt+ze(ae,st++),Ue+=G(ae,K,ie,Ce,ue);else if(Ce==="object"){if(typeof V.then=="function")return G(ht(V),K,ie,ae,ue);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function oe(V,K,ie){if(V==null)return V;var ae=[],ue=0;return G(V,ae,"","",function(Ce){return K.call(ie,Ce,ue++)}),ae}function me(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(ie){(V._status===0||V._status===-1)&&(V._status=1,V._result=ie)},function(ie){(V._status===0||V._status===-1)&&(V._status=2,V._result=ie)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Le=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},He={map:oe,forEach:function(V,K,ie){oe(V,function(){K.apply(this,arguments)},ie)},count:function(V){var K=0;return oe(V,function(){K++}),K},toArray:function(V){return oe(V,function(K){return K})||[]},only:function(V){if(!D(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return be.Activity=T,be.Children=He,be.Component=ne,be.Fragment=n,be.Profiler=o,be.PureComponent=te,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,be.__COMPILER_RUNTIME={__proto__:null,c:function(V){return x.H.useMemoCache(V)}},be.cache=function(V){return function(){return V.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(V,K,ie){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ae=$({},V.props),ue=V.key;if(K!=null)for(Ce in K.key!==void 0&&(ue=""+K.key),K)!R.call(K,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&K.ref===void 0||(ae[Ce]=K[Ce]);var Ce=arguments.length-2;if(Ce===1)ae.children=ie;else if(1<Ce){for(var Ue=Array(Ce),Dt=0;Dt<Ce;Dt++)Ue[Dt]=arguments[Dt+2];ae.children=Ue}return C(V.type,ue,ae)},be.createContext=function(V){return V={$$typeof:f,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},be.createElement=function(V,K,ie){var ae,ue={},Ce=null;if(K!=null)for(ae in K.key!==void 0&&(Ce=""+K.key),K)R.call(K,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ue[ae]=K[ae]);var Ue=arguments.length-2;if(Ue===1)ue.children=ie;else if(1<Ue){for(var Dt=Array(Ue),st=0;st<Ue;st++)Dt[st]=arguments[st+2];ue.children=Dt}if(V&&V.defaultProps)for(ae in Ue=V.defaultProps,Ue)ue[ae]===void 0&&(ue[ae]=Ue[ae]);return C(V,Ce,ue)},be.createRef=function(){return{current:null}},be.forwardRef=function(V){return{$$typeof:m,render:V}},be.isValidElement=D,be.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:me}},be.memo=function(V,K){return{$$typeof:g,type:V,compare:K===void 0?null:K}},be.startTransition=function(V){var K=x.T,ie={};x.T=ie;try{var ae=V(),ue=x.S;ue!==null&&ue(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ye,Le)}catch(Ce){Le(Ce)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),x.T=K}},be.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},be.use=function(V){return x.H.use(V)},be.useActionState=function(V,K,ie){return x.H.useActionState(V,K,ie)},be.useCallback=function(V,K){return x.H.useCallback(V,K)},be.useContext=function(V){return x.H.useContext(V)},be.useDebugValue=function(){},be.useDeferredValue=function(V,K){return x.H.useDeferredValue(V,K)},be.useEffect=function(V,K){return x.H.useEffect(V,K)},be.useEffectEvent=function(V){return x.H.useEffectEvent(V)},be.useId=function(){return x.H.useId()},be.useImperativeHandle=function(V,K,ie){return x.H.useImperativeHandle(V,K,ie)},be.useInsertionEffect=function(V,K){return x.H.useInsertionEffect(V,K)},be.useLayoutEffect=function(V,K){return x.H.useLayoutEffect(V,K)},be.useMemo=function(V,K){return x.H.useMemo(V,K)},be.useOptimistic=function(V,K){return x.H.useOptimistic(V,K)},be.useReducer=function(V,K,ie){return x.H.useReducer(V,K,ie)},be.useRef=function(V){return x.H.useRef(V)},be.useState=function(V){return x.H.useState(V)},be.useSyncExternalStore=function(V,K,ie){return x.H.useSyncExternalStore(V,K,ie)},be.useTransition=function(){return x.H.useTransition()},be.version="19.2.1",be}var Ov;function lp(){return Ov||(Ov=1,dm.exports=GA()),dm.exports}var k=lp();const QA=qA(k);var mm={exports:{}},Ul={},pm={exports:{}},gm={};var Mv;function KA(){return Mv||(Mv=1,(function(r){function e(G,oe){var me=G.length;G.push(oe);e:for(;0<me;){var Le=me-1>>>1,He=G[Le];if(0<o(He,oe))G[Le]=oe,G[me]=He,me=Le;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var oe=G[0],me=G.pop();if(me!==oe){G[0]=me;e:for(var Le=0,He=G.length,V=He>>>1;Le<V;){var K=2*(Le+1)-1,ie=G[K],ae=K+1,ue=G[ae];if(0>o(ie,me))ae<He&&0>o(ue,ie)?(G[Le]=ue,G[ae]=me,Le=ae):(G[Le]=ie,G[K]=me,Le=K);else if(ae<He&&0>o(ue,me))G[Le]=ue,G[ae]=me,Le=ae;else break e}}return oe}function o(G,oe){var me=G.sortIndex-oe.sortIndex;return me!==0?me:G.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,T=null,w=3,P=!1,q=!1,$=!1,F=!1,ne=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function de(G){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=G)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function Ae(G){if($=!1,de(G),!q)if(n(p)!==null)q=!0,ye||(ye=!0,L());else{var oe=n(g);oe!==null&&ht(Ae,oe.startTime-G)}}var ye=!1,x=-1,R=5,C=-1;function M(){return F?!0:!(r.unstable_now()-C<R)}function D(){if(F=!1,ye){var G=r.unstable_now();C=G;var oe=!0;try{e:{q=!1,$&&($=!1,re(x),x=-1),P=!0;var me=w;try{t:{for(de(G),T=n(p);T!==null&&!(T.expirationTime>G&&M());){var Le=T.callback;if(typeof Le=="function"){T.callback=null,w=T.priorityLevel;var He=Le(T.expirationTime<=G);if(G=r.unstable_now(),typeof He=="function"){T.callback=He,de(G),oe=!0;break t}T===n(p)&&s(p),de(G)}else s(p);T=n(p)}if(T!==null)oe=!0;else{var V=n(g);V!==null&&ht(Ae,V.startTime-G),oe=!1}}break e}finally{T=null,w=me,P=!1}oe=void 0}}finally{oe?L():ye=!1}}}var L;if(typeof te=="function")L=function(){te(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ze=I.port2;I.port1.onmessage=D,L=function(){ze.postMessage(null)}}else L=function(){ne(D,0)};function ht(G,oe){x=ne(function(){G(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(G){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var me=w;w=oe;try{return G()}finally{w=me}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(G,oe){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var me=w;w=G;try{return oe()}finally{w=me}},r.unstable_scheduleCallback=function(G,oe,me){var Le=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Le+me:Le):me=Le,G){case 1:var He=-1;break;case 2:He=250;break;case 5:He=1073741823;break;case 4:He=1e4;break;default:He=5e3}return He=me+He,G={id:E++,callback:oe,priorityLevel:G,startTime:me,expirationTime:He,sortIndex:-1},me>Le?(G.sortIndex=me,e(g,G),n(p)===null&&G===n(g)&&($?(re(x),x=-1):$=!0,ht(Ae,me-Le))):(G.sortIndex=He,e(p,G),q||P||(q=!0,ye||(ye=!0,L()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var oe=w;return function(){var me=w;w=oe;try{return G.apply(this,arguments)}finally{w=me}}}})(gm)),gm}var Vv;function YA(){return Vv||(Vv=1,pm.exports=KA()),pm.exports}var ym={exports:{}},Xt={};var Pv;function XA(){if(Pv)return Xt;Pv=1;var r=lp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Xt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,P=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:P}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:P,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.1",Xt}var Lv;function $A(){if(Lv)return ym.exports;Lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=XA(),ym.exports}var kv;function ZA(){if(kv)return Ul;kv=1;var r=YA(),e=lp(),n=$A();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,l=d;break}if(S===l){_=!0,l=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=h;break}if(S===l){_=!0,l=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),te=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),Ae=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function ze(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case ne:return"Profiler";case F:return"StrictMode";case Ae:return"Suspense";case ye:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case te:return t.displayName||"Context";case re:return(t._context.displayName||"Context")+".Consumer";case de:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:ze(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return ze(t(i))}catch{}}return null}var ht=Array.isArray,G=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Le=[],He=-1;function V(t){return{current:t}}function K(t){0>He||(t.current=Le[He],Le[He]=null,He--)}function ie(t,i){He++,Le[He]=t.current,t.current=i}var ae=V(null),ue=V(null),Ce=V(null),Ue=V(null);function Dt(t,i){switch(ie(Ce,i),ie(ue,t),ie(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?J_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=J_(i),t=W_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(ae),ie(ae,t)}function st(){K(ae),K(ue),K(Ce)}function Ts(t){t.memoizedState!==null&&ie(Ue,t);var i=ae.current,a=W_(i,t.type);i!==a&&(ie(ue,t),ie(ae,a))}function ga(t){ue.current===t&&(K(ae),K(ue)),Ue.current===t&&(K(Ue),Ml._currentValue=me)}var ya,_a;function oi(t){if(ya===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ya=i&&i[1]||"",_a=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ya+t+_a}var Mo=!1;function bs(t,i){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var H=Y}Reflect.construct(t,[],J)}else{try{J.call()}catch(Y){H=Y}t.call(J.prototype)}}else{try{throw Error()}catch(Y){H=Y}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&H&&typeof Y.stack=="string")return[Y.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var N=_.split(`
`),B=S.split(`
`);for(h=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===N.length||h===B.length)for(l=N.length-1,h=B.length-1;1<=l&&0<=h&&N[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(N[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||N[l]!==B[h]){var X=`
`+N[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function Vo(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return bs(t.type,!1);case 11:return bs(t.type.render,!1);case 1:return bs(t.type,!0);case 31:return oi("Activity");default:return""}}function Po(t){try{var i="",a=null;do i+=Vo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Et=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,Er=r.unstable_cancelCallback,mf=r.unstable_shouldYield,Su=r.unstable_requestPaint,en=r.unstable_now,Ss=r.unstable_getCurrentPriorityLevel,Lo=r.unstable_ImmediatePriority,ko=r.unstable_UserBlockingPriority,Tr=r.unstable_NormalPriority,pf=r.unstable_LowPriority,Au=r.unstable_IdlePriority,wu=r.log,Ru=r.unstable_setDisableYieldValue,Hn=null,zt=null;function In(t){if(typeof wu=="function"&&Ru(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(Hn,t)}catch{}}var mt=Math.clz32?Math.clz32:Iu,Cu=Math.log,va=Math.LN2;function Iu(t){return t>>>=0,t===0?32:31-(Cu(t)/va|0)|0}var li=256,As=262144,Tt=4194304;function ui(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ci(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?h=ui(l):(_&=S,_!==0?h=ui(_):a||(a=S&~t,a!==0&&(h=ui(a))))):(S=l&~d,S!==0?h=ui(S):_!==0?h=ui(_):a||(a=l&~t,a!==0&&(h=ui(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var t=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),t}function hi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ws(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,N=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var X=31-mt(a),J=1<<X;S[X]=0,N[X]=-1;var H=B[X];if(H!==null)for(B[X]=null,X=0;X<H.length;X++){var Y=H[X];Y!==null&&(Y.lane&=-536870913)}a&=~J}l!==0&&Rs(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Rs(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Uo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function jo(t,i){var a=i&-i;return a=(a&42)!==0?1:Cs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Cs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Bi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:bv(t.type))}function Gn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Qn=Math.random().toString(36).slice(2),bt="__reactFiber$"+Qn,Lt="__reactProps$"+Qn,fi="__reactContainer$"+Qn,Ea="__reactEvents$"+Qn,_f="__reactListeners$"+Qn,Du="__reactHandles$"+Qn,Ou="__reactResources$"+Qn,di="__reactMarker$"+Qn;function Ta(t){delete t[bt],delete t[Lt],delete t[Ea],delete t[_f],delete t[Du]}function mi(t){var i=t[bt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[fi]||a[bt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=av(t);t!==null;){if(a=t[bt])return a;t=av(t)}return i}t=a,a=t.parentNode}return null}function xn(t){if(t=t[bt]||t[fi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function pi(t){var i=t[Ou];return i||(i=t[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[di]=!0}var zo=new Set,Bo={};function gi(t,i){yi(t,i),yi(t+"Capture",i)}function yi(t,i){for(Bo[t]=i,t=0;t<i.length;t++)zo.add(i[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Fo={};function Mu(t){return Et.call(Fo,t)?!0:Et.call(Ho,t)?!1:qo.test(t)?Fo[t]=!0:(Ho[t]=!0,!1)}function ba(t,i,a){if(Mu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function At(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function kt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function br(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Go(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=br(t)?"checked":"value";t._valueTracker=Go(t,i,""+t[i])}}function Is(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=br(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function _i(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function rn(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Sa(t,i,a,l,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+kt(i)):t.value!==""+kt(i)&&(t.value=""+kt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Qo(t,_,kt(i)):a!=null?Qo(t,_,kt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+kt(S):t.removeAttribute("name")}function Vu(t,i,a,l,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+kt(a):"",i=i!=null?""+kt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function Qo(t,i,a){i==="number"&&_i(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Sr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+kt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Pu(t,i,a){if(i!=null&&(i=""+kt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+kt(a):""}function Ar(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=kt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Lu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Yo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ko(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ko(t,d,i[d])}function Aa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(t){return wr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var Xo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,vi=null;function Ns(t){var i=xn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Sa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(s(90));Sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Is(l)}break e;case"textarea":Pu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Sr(t,!!a.multiple,i,!1)}}}var Ra=!1;function Cr(t,i,a){if(Ra)return t(i,a);Ra=!0;try{var l=t(i);return l}finally{if(Ra=!1,(Rr!==null||vi!==null)&&(Nc(),Rr&&(i=Rr,t=vi,vi=Rr=null,Ns(i),t)))for(i=0;i<t.length;i++)Ns(t[i])}}function Yn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ds=!1;if(Dn)try{var $e={};Object.defineProperty($e,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Ds=!1}var Ei=null,$o=null,Os=null;function Zo(){if(Os)return Os;var t,i=$o,a=i.length,l,h="value"in Ei?Ei.value:Ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Os=h.slice(t,1<l?1-l:void 0)}function Ms(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function Xn(){return!1}function Bt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?qi:Xn,this.isPropagationStopped=Xn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),i}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Bt(Hi),Ir=T({},Hi,{view:0,detail:0}),Jo=Bt(Ir),xr,Ca,bi,Ia=T({},Ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(xr=t.screenX-bi.screenX,Ca=t.screenY-bi.screenY):Ca=xr=0,bi=t),xr)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Wo=Bt(Ia),Vs=T({},Ia,{dataTransfer:0}),Uu=Bt(Vs),ju=T({},Ir,{relatedTarget:0}),Ps=Bt(ju),el=T({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=Bt(el),xa=T({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=Bt(xa),qu=T({},Hi,{data:0}),Si=Bt(qu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function Nr(){return Qu}var tn=T({},Ir,{key:function(t){if(t.key){var i=Hu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ku=Bt(tn),Yu=T({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fi=Bt(Yu),c=T({},Ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),y=Bt(c),v=T({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(v),j=T({},Ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Bt(j),se=T({},Hi,{newState:0,oldState:0}),we=Bt(se),pt=[9,13,27,32],Fe=Dn&&"CompositionEvent"in window,at=null;Dn&&"documentMode"in document&&(at=document.documentMode);var On=Dn&&"TextEvent"in window&&!at,Ai=Dn&&(!Fe||at&&8<at&&11>=at),$n=" ",Zn=!1;function Ls(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function fS(t,i){switch(t){case"compositionend":return Na(i);case"keypress":return i.which!==32?null:(Zn=!0,$n);case"textInput":return t=i.data,t===$n&&Zn?null:t;default:return null}}function dS(t,i){if(Da)return t==="compositionend"||!Fe&&Ls(t,i)?(t=Zo(),Os=$o=Ei=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var mS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!mS[t.type]:i==="textarea"}function cg(t,i,a,l){Rr?vi?vi.push(l):vi=[l]:Rr=l,i=kc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var tl=null,nl=null;function pS(t){Q_(t,0)}function Xu(t){var i=yn(t);if(Is(i))return t}function hg(t,i){if(t==="change")return i}var fg=!1;if(Dn){var vf;if(Dn){var Ef="oninput"in document;if(!Ef){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Ef=typeof dg.oninput=="function"}vf=Ef}else vf=!1;fg=vf&&(!document.documentMode||9<document.documentMode)}function mg(){tl&&(tl.detachEvent("onpropertychange",pg),nl=tl=null)}function pg(t){if(t.propertyName==="value"&&Xu(nl)){var i=[];cg(i,nl,t,Nn(t)),Cr(pS,i)}}function gS(t,i,a){t==="focusin"?(mg(),tl=i,nl=a,tl.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function yS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(nl)}function _S(t,i){if(t==="click")return Xu(i)}function vS(t,i){if(t==="input"||t==="change")return Xu(i)}function ES(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:ES;function il(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Et.call(i,h)||!vn(t[h],i[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,i){var a=gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function _g(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_g(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=_i(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=_i(t.document)}return i}function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var TS=Dn&&"documentMode"in document&&11>=document.documentMode,Oa=null,bf=null,rl=null,Sf=!1;function Eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Oa==null||Oa!==_i(l)||(l=Oa,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=kc(bf,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Oa)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ma={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Af={},Tg={};Dn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function Us(t){if(Af[t])return Af[t];if(!Ma[t])return t;var i=Ma[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tg)return Af[t]=i[a];return t}var bg=Us("animationend"),Sg=Us("animationiteration"),Ag=Us("animationstart"),bS=Us("transitionrun"),SS=Us("transitionstart"),AS=Us("transitioncancel"),wg=Us("transitionend"),Rg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Jn(t,i){Rg.set(t,i),gi(i,[t])}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Va=0,Rf=0;function Zu(){for(var t=Va,i=Rf=Va=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Cg(a,h,d)}}function Ju(t,i,a,l){Mn[Va++]=t,Mn[Va++]=i,Mn[Va++]=a,Mn[Va++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cf(t,i,a,l){return Ju(t,i,a,l),Wu(t)}function js(t,i){return Ju(t,null,null,i),Wu(t)}function Cg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wu(t){if(50<Rl)throw Rl=0,Ld=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Pa={};function wS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new wS(t,i,a,l)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gi(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ig(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")If(t)&&(_=1);else if(typeof t=="string")_=NA(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=En(31,a,i,h),t.elementType=C,t.lanes=d,t;case $:return zs(a.children,h,d,i);case F:_=8,h|=24;break;case ne:return t=En(12,a,i,h|2),t.elementType=ne,t.lanes=d,t;case Ae:return t=En(13,a,i,h),t.elementType=Ae,t.lanes=d,t;case ye:return t=En(19,a,i,h),t.elementType=ye,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case te:_=10;break e;case re:_=9;break e;case de:_=11;break e;case x:_=14;break e;case R:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function xf(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function xg(t){var i=En(18,null,null,0);return i.stateNode=t,i}function Nf(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ng=new WeakMap;function Vn(t,i){if(typeof t=="object"&&t!==null){var a=Ng.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Po(i)},Ng.set(t,i),i)}return{value:t,source:i,stack:Po(i)}}var La=[],ka=0,tc=null,sl=0,Pn=[],Ln=0,Dr=null,wi=1,Ri="";function Qi(t,i){La[ka++]=sl,La[ka++]=tc,tc=t,sl=i}function Dg(t,i,a){Pn[Ln++]=wi,Pn[Ln++]=Ri,Pn[Ln++]=Dr,Dr=t;var l=wi;t=Ri;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,wi=1<<32-mt(i)+h|a<<h|l,Ri=d+t}else wi=1<<d|a<<h|l,Ri=t}function Df(t){t.return!==null&&(Qi(t,1),Dg(t,1,0))}function Of(t){for(;t===tc;)tc=La[--ka],La[ka]=null,sl=La[--ka],La[ka]=null;for(;t===Dr;)Dr=Pn[--Ln],Pn[Ln]=null,Ri=Pn[--Ln],Pn[Ln]=null,wi=Pn[--Ln],Pn[Ln]=null}function Og(t,i){Pn[Ln++]=wi,Pn[Ln++]=Ri,Pn[Ln++]=Dr,wi=i.id,Ri=i.overflow,Dr=t}var qt=null,tt=null,ke=!1,Or=null,kn=!1,Mf=Error(s(519));function Mr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Vn(i,t)),Mf}function Mg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[bt]=t,i[Lt]=l,a){case"dialog":Ne("cancel",i),Ne("close",i);break;case"iframe":case"object":case"embed":Ne("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)Ne(Il[a],i);break;case"source":Ne("error",i);break;case"img":case"image":case"link":Ne("error",i),Ne("load",i);break;case"details":Ne("toggle",i);break;case"input":Ne("invalid",i),Vu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",i);break;case"textarea":Ne("invalid",i),Ar(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||$_(i.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",i),Ne("toggle",i)),l.onScroll!=null&&Ne("scroll",i),l.onScrollEnd!=null&&Ne("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Mr(t,!0)}function Vg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qt=qt.return}}function Ua(t){if(t!==qt)return!1;if(!ke)return Vg(t),ke=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Zd(t.type,t.memoizedProps)),a=!a),a&&tt&&Mr(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=sv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=sv(t)}else i===27?(i=tt,Kr(t.type)?(t=nm,nm=null,tt=t):tt=i):tt=qt?jn(t.stateNode.nextSibling):null;return!0}function Bs(){tt=qt=null,ke=!1}function Vf(){var t=Or;return t!==null&&(un===null?un=t:un.push.apply(un,t),Or=null),t}function al(t){Or===null?Or=[t]:Or.push(t)}var Pf=V(null),qs=null,Ki=null;function Vr(t,i,a){ie(Pf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Pf.current,K(Pf)}function Lf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function kf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var N=0;N<i.length;N++)if(S.context===i[N]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Lf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Lf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function ja(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;vn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===Ue.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&kf(i,t,a,l),i.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){qs=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Pg(qs,t)}function ic(t,i){return qs===null&&Hs(t),Pg(t,i)}function Pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ki=Ki.next=i;return a}var RS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},CS=r.unstable_scheduleCallback,IS=r.unstable_NormalPriority,wt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uf(){return{controller:new RS,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&CS(IS,function(){t.controller.abort()})}var ll=null,jf=0,za=0,Ba=null;function xS(t,i){if(ll===null){var a=ll=[];jf=0,za=qd(),Ba={status:"pending",value:void 0,then:function(l){a.push(l)}}}return jf++,i.then(Lg,Lg),i}function Lg(){if(--jf===0&&ll!==null){Ba!==null&&(Ba.status="fulfilled");var t=ll;ll=null,za=0,Ba=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function NS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kg=G.S;G.S=function(t,i){E_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&xS(t,i),kg!==null&&kg(t,i)};var Fs=V(null);function zf(){var t=Fs.current;return t!==null?t:et.pooledCache}function rc(t,i){i===null?ie(Fs,Fs.current):ie(Fs,i.pool)}function Ug(){var t=zf();return t===null?null:{parent:wt._currentValue,pool:t}}var qa=Error(s(460)),Bf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t}throw Qs=i,qa}}function Gs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qs=a,qa):a}}var Qs=null;function Bg(){if(Qs===null)throw Error(s(459));var t=Qs;return Qs=null,t}function qg(t){if(t===qa||t===sc)throw Error(s(483))}var Ha=null,ul=0;function oc(t){var i=ul;return ul+=1,Ha===null&&(Ha=[]),zg(Ha,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hg(t){function i(U,O){if(t){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Gi(U,O),U.index=0,U.sibling=null,U}function d(U,O,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=67108866,O):z):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function S(U,O,z,Z){return O===null||O.tag!==6?(O=xf(z,U.mode,Z),O.return=U,O):(O=h(O,z),O.return=U,O)}function N(U,O,z,Z){var pe=z.type;return pe===$?X(U,O,z.props.children,Z,z.key):O!==null&&(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Gs(pe)===O.type)?(O=h(O,z.props),cl(O,z),O.return=U,O):(O=ec(z.type,z.key,z.props,null,U.mode,Z),cl(O,z),O.return=U,O)}function B(U,O,z,Z){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Nf(z,U.mode,Z),O.return=U,O):(O=h(O,z.children||[]),O.return=U,O)}function X(U,O,z,Z,pe){return O===null||O.tag!==7?(O=zs(z,U.mode,Z,pe),O.return=U,O):(O=h(O,z),O.return=U,O)}function J(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=xf(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case P:return z=ec(O.type,O.key,O.props,null,U.mode,z),cl(z,O),z.return=U,z;case q:return O=Nf(O,U.mode,z),O.return=U,O;case R:return O=Gs(O),J(U,O,z)}if(ht(O)||L(O))return O=zs(O,U.mode,z,null),O.return=U,O;if(typeof O.then=="function")return J(U,oc(O),z);if(O.$$typeof===te)return J(U,ic(U,O),z);lc(U,O)}return null}function H(U,O,z,Z){var pe=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return pe!==null?null:S(U,O,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===pe?N(U,O,z,Z):null;case q:return z.key===pe?B(U,O,z,Z):null;case R:return z=Gs(z),H(U,O,z,Z)}if(ht(z)||L(z))return pe!==null?null:X(U,O,z,Z,null);if(typeof z.then=="function")return H(U,O,oc(z),Z);if(z.$$typeof===te)return H(U,O,ic(U,z),Z);lc(U,z)}return null}function Y(U,O,z,Z,pe){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return U=U.get(z)||null,S(O,U,""+Z,pe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case P:return U=U.get(Z.key===null?z:Z.key)||null,N(O,U,Z,pe);case q:return U=U.get(Z.key===null?z:Z.key)||null,B(O,U,Z,pe);case R:return Z=Gs(Z),Y(U,O,z,Z,pe)}if(ht(Z)||L(Z))return U=U.get(z)||null,X(O,U,Z,pe,null);if(typeof Z.then=="function")return Y(U,O,z,oc(Z),pe);if(Z.$$typeof===te)return Y(U,O,z,ic(O,Z),pe);lc(O,Z)}return null}function ce(U,O,z,Z){for(var pe=null,Be=null,fe=O,Ie=O=0,Oe=null;fe!==null&&Ie<z.length;Ie++){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var qe=H(U,fe,z[Ie],Z);if(qe===null){fe===null&&(fe=Oe);break}t&&fe&&qe.alternate===null&&i(U,fe),O=d(qe,O,Ie),Be===null?pe=qe:Be.sibling=qe,Be=qe,fe=Oe}if(Ie===z.length)return a(U,fe),ke&&Qi(U,Ie),pe;if(fe===null){for(;Ie<z.length;Ie++)fe=J(U,z[Ie],Z),fe!==null&&(O=d(fe,O,Ie),Be===null?pe=fe:Be.sibling=fe,Be=fe);return ke&&Qi(U,Ie),pe}for(fe=l(fe);Ie<z.length;Ie++)Oe=Y(fe,U,Ie,z[Ie],Z),Oe!==null&&(t&&Oe.alternate!==null&&fe.delete(Oe.key===null?Ie:Oe.key),O=d(Oe,O,Ie),Be===null?pe=Oe:Be.sibling=Oe,Be=Oe);return t&&fe.forEach(function(Jr){return i(U,Jr)}),ke&&Qi(U,Ie),pe}function _e(U,O,z,Z){if(z==null)throw Error(s(151));for(var pe=null,Be=null,fe=O,Ie=O=0,Oe=null,qe=z.next();fe!==null&&!qe.done;Ie++,qe=z.next()){fe.index>Ie?(Oe=fe,fe=null):Oe=fe.sibling;var Jr=H(U,fe,qe.value,Z);if(Jr===null){fe===null&&(fe=Oe);break}t&&fe&&Jr.alternate===null&&i(U,fe),O=d(Jr,O,Ie),Be===null?pe=Jr:Be.sibling=Jr,Be=Jr,fe=Oe}if(qe.done)return a(U,fe),ke&&Qi(U,Ie),pe;if(fe===null){for(;!qe.done;Ie++,qe=z.next())qe=J(U,qe.value,Z),qe!==null&&(O=d(qe,O,Ie),Be===null?pe=qe:Be.sibling=qe,Be=qe);return ke&&Qi(U,Ie),pe}for(fe=l(fe);!qe.done;Ie++,qe=z.next())qe=Y(fe,U,Ie,qe.value,Z),qe!==null&&(t&&qe.alternate!==null&&fe.delete(qe.key===null?Ie:qe.key),O=d(qe,O,Ie),Be===null?pe=qe:Be.sibling=qe,Be=qe);return t&&fe.forEach(function(BA){return i(U,BA)}),ke&&Qi(U,Ie),pe}function We(U,O,z,Z){if(typeof z=="object"&&z!==null&&z.type===$&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var pe=z.key;O!==null;){if(O.key===pe){if(pe=z.type,pe===$){if(O.tag===7){a(U,O.sibling),Z=h(O,z.props.children),Z.return=U,U=Z;break e}}else if(O.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Gs(pe)===O.type){a(U,O.sibling),Z=h(O,z.props),cl(Z,z),Z.return=U,U=Z;break e}a(U,O);break}else i(U,O);O=O.sibling}z.type===$?(Z=zs(z.props.children,U.mode,Z,z.key),Z.return=U,U=Z):(Z=ec(z.type,z.key,z.props,null,U.mode,Z),cl(Z,z),Z.return=U,U=Z)}return _(U);case q:e:{for(pe=z.key;O!==null;){if(O.key===pe)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(U,O.sibling),Z=h(O,z.children||[]),Z.return=U,U=Z;break e}else{a(U,O);break}else i(U,O);O=O.sibling}Z=Nf(z,U.mode,Z),Z.return=U,U=Z}return _(U);case R:return z=Gs(z),We(U,O,z,Z)}if(ht(z))return ce(U,O,z,Z);if(L(z)){if(pe=L(z),typeof pe!="function")throw Error(s(150));return z=pe.call(z),_e(U,O,z,Z)}if(typeof z.then=="function")return We(U,O,oc(z),Z);if(z.$$typeof===te)return We(U,O,ic(U,z),Z);lc(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(U,O.sibling),Z=h(O,z),Z.return=U,U=Z):(a(U,O),Z=xf(z,U.mode,Z),Z.return=U,U=Z),_(U)):a(U,O)}return function(U,O,z,Z){try{ul=0;var pe=We(U,O,z,Z);return Ha=null,pe}catch(fe){if(fe===qa||fe===sc)throw fe;var Be=En(29,fe,null,U.mode);return Be.lanes=Z,Be.return=U,Be}finally{}}}var Ks=Hg(!0),Fg=Hg(!1),Pr=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Wu(t),Cg(t,null,a),i}return Ju(t,l,i,a),Wu(t)}function hl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}function Ff(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gf=!1;function fl(){if(Gf){var t=Ba;if(t!==null)throw t}}function dl(t,i,a,l){Gf=!1;var h=t.updateQueue;Pr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var N=S,B=N.next;N.next=null,_===null?d=B:_.next=B,_=N;var X=t.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==_&&(S===null?X.firstBaseUpdate=B:S.next=B,X.lastBaseUpdate=N))}if(d!==null){var J=h.baseState;_=0,X=B=N=null,S=d;do{var H=S.lane&-536870913,Y=H!==S.lane;if(Y?(De&H)===H:(l&H)===H){H!==0&&H===za&&(Gf=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,_e=S;H=i;var We=a;switch(_e.tag){case 1:if(ce=_e.payload,typeof ce=="function"){J=ce.call(We,J,H);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=_e.payload,H=typeof ce=="function"?ce.call(We,J,H):ce,H==null)break e;J=T({},J,H);break e;case 2:Pr=!0}}H=S.callback,H!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[H]:Y.push(H))}else Y={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(B=X=Y,N=J):X=X.next=Y,_|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(N=J),h.baseState=N,h.firstBaseUpdate=B,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),qr|=_,t.lanes=_,t.memoizedState=J}}function Gg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Qg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gg(a[t],i)}var Fa=V(null),uc=V(0);function Kg(t,i){t=ir,ie(uc,t),ie(Fa,i),ir=t|i.baseLanes}function Qf(){ie(uc,ir),ie(Fa,Fa.current)}function Kf(){ir=uc.current,K(Fa),K(uc)}var Tn=V(null),Un=null;function Ur(t){var i=t.alternate;ie(gt,gt.current&1),ie(Tn,t),Un===null&&(i===null||Fa.current!==null||i.memoizedState!==null)&&(Un=t)}function Yf(t){ie(gt,gt.current),ie(Tn,t),Un===null&&(Un=t)}function Yg(t){t.tag===22?(ie(gt,gt.current),ie(Tn,t),Un===null&&(Un=t)):jr()}function jr(){ie(gt,gt.current),ie(Tn,Tn.current)}function bn(t){K(Tn),Un===t&&(Un=null),K(gt)}var gt=V(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xi=0,Re=null,Ze=null,Rt=null,hc=!1,Ga=!1,Ys=!1,fc=0,ml=0,Qa=null,DS=0;function ft(){throw Error(s(321))}function Xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!vn(t[a],i[a]))return!1;return!0}function $f(t,i,a,l,h,d){return Xi=d,Re=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=t===null||t.memoizedState===null?Dy:hd,Ys=!1,d=a(l,h),Ys=!1,Ga&&(d=$g(i,a,l,h)),Xg(t),d}function Xg(t){G.H=yl;var i=Ze!==null&&Ze.next!==null;if(Xi=0,Rt=Ze=Re=null,hc=!1,ml=0,Qa=null,i)throw Error(s(300));t===null||Ct||(t=t.dependencies,t!==null&&nc(t)&&(Ct=!0))}function $g(t,i,a,l){Re=t;var h=0;do{if(Ga&&(Qa=null),ml=0,Ga=!1,25<=h)throw Error(s(301));if(h+=1,Rt=Ze=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Oy,d=i(a,l)}while(Ga);return d}function OS(){var t=G.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Re.flags|=1024),i}function Zf(){var t=fc!==0;return fc=0,t}function Jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Wf(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}Xi=0,Rt=Ze=Re=null,Ga=!1,ml=fc=0,Qa=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function yt(){if(Ze===null){var t=Re.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var i=Rt===null?Re.memoizedState:Rt.next;if(i!==null)Rt=i,Ze=t;else{if(t===null)throw Re.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Re.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var i=ml;return ml+=1,Qa===null&&(Qa=[]),t=zg(Qa,t,i),i=Re,(Rt===null?i.memoizedState:Rt.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Dy:hd),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===te)return Ht(t)}throw Error(s(438,String(t)))}function ed(t){var i=null,a=Re.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Re.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),Re.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=yt();return td(i,Ze,t)}function td(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,N=null,B=i,X=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(De&J)===J:(Xi&J)===J){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===za&&(X=!0);else if((Xi&H)===H){B=B.next,H===za&&(X=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=J,_=d):N=N.next=J,Re.lanes|=H,qr|=H;J=B.action,Ys&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else H={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(S=N=H,_=d):N=N.next=H,Re.lanes|=J,qr|=J;B=B.next}while(B!==null&&B!==i);if(N===null?_=d:N.next=S,!vn(d,t.memoizedState)&&(Ct=!0,X&&(a=Ba,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=N,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function nd(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);vn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Zg(t,i,a){var l=Re,h=yt(),d=ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn((Ze||h).memoizedState,a);if(_&&(h.memoizedState=a,Ct=!0),h=h.queue,sd(ey.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},Wg.bind(null,l,h,a,i),null),et===null)throw Error(s(349));d||(Xi&127)!==0||Jg(l,i,a)}return a}function Jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Re.updateQueue,i===null?(i=dc(),Re.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Wg(t,i,a,l){i.value=a,i.getSnapshot=l,ty(i)&&ny(t)}function ey(t,i,a){return a(function(){ty(i)&&ny(t)})}function ty(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!vn(t,a)}catch{return!0}}function ny(t){var i=js(t,2);i!==null&&cn(i,t,2)}function id(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Ys){In(!0);try{a()}finally{In(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function iy(t,i,a,l){return t.baseState=a,td(t,Ze,typeof l=="function"?l:$i)}function MS(t,i,a,l,h){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ry(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ry(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=G.T,_={};G.T=_;try{var S=a(h,l),N=G.S;N!==null&&N(_,S),sy(t,i,S)}catch(B){rd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),G.T=d}}else try{d=a(h,l),sy(t,i,d)}catch(B){rd(t,i,B)}}function sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ay(t,i,l)},function(l){return rd(t,i,l)}):ay(t,i,a)}function ay(t,i,a){i.status="fulfilled",i.value=a,oy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ry(t,a)))}function rd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,oy(i),i=i.next;while(i!==l)}t.action=null}function oy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ly(t,i){return i}function uy(t,i){if(ke){var a=et.formState;if(a!==null){e:{var l=Re;if(ke){if(tt){t:{for(var h=tt,d=kn;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=jn(h.nextSibling),l=h.data==="F!";break e}}Mr(l)}l=!1}l&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:i},a.queue=l,a=Iy.bind(null,Re,l),l.dispatch=a,l=id(!1),d=cd.bind(null,Re,!1,l.queue),l=nn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=MS.bind(null,Re,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function cy(t){var i=yt();return hy(i,Ze,t)}function hy(t,i,a){if(i=td(t,i,ly)[0],t=pc($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=pl(i)}catch(_){throw _===qa?sc:_}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Re.flags|=2048,Ka(9,{destroy:void 0},VS.bind(null,h,a),null)),[l,d,t]}function VS(t,i){t.action=i}function fy(t){var i=yt(),a=Ze;if(a!==null)return hy(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ka(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Re.updateQueue,i===null&&(i=dc(),Re.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function dy(){return yt().memoizedState}function gc(t,i,a,l){var h=nn();Re.flags|=t,h.memoizedState=Ka(1|i,{destroy:void 0},a,l===void 0?null:l)}function yc(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ze!==null&&l!==null&&Xf(l,Ze.memoizedState.deps)?h.memoizedState=Ka(i,d,a,l):(Re.flags|=t,h.memoizedState=Ka(1|i,d,a,l))}function my(t,i){gc(8390656,8,t,i)}function sd(t,i){yc(2048,8,t,i)}function PS(t){Re.flags|=4;var i=Re.updateQueue;if(i===null)i=dc(),Re.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function py(t){var i=yt().memoizedState;return PS({ref:i,nextImpl:t}),function(){if((Ge&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function gy(t,i){return yc(4,2,t,i)}function yy(t,i){return yc(4,4,t,i)}function _y(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vy(t,i,a){a=a!=null?a.concat([t]):null,yc(4,4,_y.bind(null,i,t),a)}function ad(){}function Ey(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ty(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Xf(i,l[1]))return l[0];if(l=t(),Ys){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l}function od(t,i,a){return a===void 0||(Xi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=b_(),Re.lanes|=t,qr|=t,a)}function by(t,i,a,l){return vn(a,i)?a:Fa.current!==null?(t=od(t,a,l),vn(t,i)||(Ct=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(De&261930)===0?(Ct=!0,t.memoizedState=a):(t=b_(),Re.lanes|=t,qr|=t,i)}function Sy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=G.T,S={};G.T=S,cd(t,!1,i,a);try{var N=h(),B=G.S;if(B!==null&&B(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var X=NS(N,l);gl(t,i,X,wn(t))}else gl(t,i,l,wn(t))}catch(J){gl(t,i,{then:function(){},status:"rejected",reason:J},wn())}finally{oe.p=d,_!==null&&S.types!==null&&(_.types=S.types),G.T=_}}function LS(){}function ld(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ay(t).queue;Sy(t,h,i,me,a===null?LS:function(){return wy(t),a(l)})}function Ay(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function wy(t){var i=Ay(t);i.next===null&&(i=t.alternate.memoizedState),gl(t,i.next.queue,{},wn())}function ud(){return Ht(Ml)}function Ry(){return yt().memoizedState}function Cy(){return yt().memoizedState}function kS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();t=Lr(a);var l=kr(i,t,a);l!==null&&(cn(l,i,a),hl(l,i,a)),i={cache:Uf()},t.payload=i;return}i=i.return}}function US(t,i,a){var l=wn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?xy(i,a):(a=Cf(t,i,a,l),a!==null&&(cn(a,t,l),Ny(a,i,l)))}function Iy(t,i,a){var l=wn();gl(t,i,a,l)}function gl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))xy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,vn(S,_))return Ju(t,i,h,0),et===null&&Zu(),!1}catch{}finally{}if(a=Cf(t,i,h,l),a!==null)return cn(a,t,l),Ny(a,i,l),!0}return!1}function cd(t,i,a,l){if(l={lane:2,revertLane:qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=Cf(t,a,l,2),i!==null&&cn(i,t,2)}function _c(t){var i=t.alternate;return t===Re||i!==null&&i===Re}function xy(t,i){Ga=hc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ny(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Uo(t,a)}}var yl={readContext:Ht,use:mc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};yl.useEffectEvent=ft;var Dy={readContext:Ht,use:mc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:my,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,gc(4194308,4,_y.bind(null,i,t),a)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var l=t();if(Ys){In(!0);try{t()}finally{In(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=nn();if(a!==void 0){var h=a(i);if(Ys){In(!0);try{a(i)}finally{In(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=US.bind(null,Re,t),[l.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=id(t);var i=t.queue,a=Iy.bind(null,Re,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(t,i){var a=nn();return od(a,t,i)},useTransition:function(){var t=id(!1);return t=Sy.bind(null,Re,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Re,h=nn();if(ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(De&127)!==0||Jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,my(ey.bind(null,l,d,t),[t]),l.flags|=2048,Ka(9,{destroy:void 0},Wg.bind(null,l,d,a,i),null),a},useId:function(){var t=nn(),i=et.identifierPrefix;if(ke){var a=Ri,l=wi;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=DS++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ud,useFormState:uy,useActionState:uy,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cd.bind(null,Re,!0,a),a.dispatch=i,[t,i]},useMemoCache:ed,useCacheRefresh:function(){return nn().memoizedState=kS.bind(null,Re)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((Ge&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hd={readContext:Ht,use:mc,useCallback:Ey,useContext:Ht,useEffect:sd,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:pc,useRef:dy,useState:function(){return pc($i)},useDebugValue:ad,useDeferredValue:function(t,i){var a=yt();return by(a,Ze.memoizedState,t,i)},useTransition:function(){var t=pc($i)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Zg,useId:Ry,useHostTransitionStatus:ud,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=yt();return iy(a,Ze,t,i)},useMemoCache:ed,useCacheRefresh:Cy};hd.useEffectEvent=py;var Oy={readContext:Ht,use:mc,useCallback:Ey,useContext:Ht,useEffect:sd,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:nd,useRef:dy,useState:function(){return nd($i)},useDebugValue:ad,useDeferredValue:function(t,i){var a=yt();return Ze===null?od(a,t,i):by(a,Ze.memoizedState,t,i)},useTransition:function(){var t=nd($i)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Zg,useId:Ry,useHostTransitionStatus:ud,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=yt();return Ze!==null?iy(a,Ze,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Cy};Oy.useEffectEvent=py;function fd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Lr(l);h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(cn(i,t,l),hl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=wn(),h=Lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(cn(i,t,l),hl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=wn(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(cn(i,t,a),hl(i,t,a))}};function My(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function Vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&dd.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Py(t){$u(t)}function Ly(t){console.error(t)}function ky(t){$u(t)}function vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(t,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,i)},a}function jy(t){return t=Lr(t),t.tag=3,t}function zy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof h!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function jS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ja(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Dc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),jd(t,l,h)),!1;case 22:return a.flags|=65536,l===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),jd(t,l,h)),!1}throw Error(s(435,a.tag))}return jd(t,l,h),Dc(),!1}if(ke)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Mf&&(t=Error(s(422),{cause:l}),al(Vn(t,a)))):(l!==Mf&&(i=Error(s(423),{cause:l}),al(Vn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Vn(l,a),h=md(t.stateNode,l,h),Ff(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Vn(d,a),wl===null?wl=[d]:wl.push(d),dt!==4&&(dt=2),i===null)return!0;l=Vn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=md(a.stateNode,l,t),Ff(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Hr===null||!Hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),zy(h,t,a,l),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var pd=Error(s(461)),Ct=!1;function Ft(t,i,a,l){i.child=t===null?Fg(i,null,a,l):Ks(i,t.child,a,l)}function By(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Hs(i),l=$f(t,i,a,_,d,h),S=Zf(),t!==null&&!Ct?(Jf(t,i,h),Zi(t,i,h)):(ke&&S&&Df(i),i.flags|=1,Ft(t,i,l,h),i.child)}function qy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hy(t,i,d,l,h)):(t=ec(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&t.ref===i.ref)return Zi(t,i,h)}return i.flags|=1,t=Gi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Hy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,Sd(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,Zi(t,i,h)}return gd(t,i,a,l,h)}function Fy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Gy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Kg(i,d):Qf(),Yg(i);else return l=i.lanes=536870912,Gy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(rc(i,d.cachePool),Kg(i,d),jr(),i.memoizedState=null):(t!==null&&rc(i,null),Qf(),jr());return Ft(t,i,h,a),i.child}function _l(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Gy(t,i,a,l,h){var d=zf();return d=d===null?null:{parent:wt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),Qf(),Yg(i),t!==null&&ja(t,i,l,!0),i.childLanes=h,null}function Ec(t,i){return i=bc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Qy(t,i,a){return Ks(i,t.child,null,a),t=Ec(i,i.pendingProps),t.flags|=2,bn(i),i.memoizedState=null,t}function zS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(ke){if(l.mode==="hidden")return t=Ec(i,l),i.lanes=536870912,_l(null,t);if(Yf(i),(t=tt)?(t=rv(t,kn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Mr(i);return i.lanes=536870912,null}return Ec(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Yf(i),h)if(i.flags&256)i.flags&=-257,i=Qy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ct||ja(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=et,l!==null&&(_=jo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,js(t,_),cn(l,t,_),pd;Dc(),i=Qy(t,i,a)}else t=d.treeContext,tt=jn(_.nextSibling),qt=i,ke=!0,Or=null,kn=!1,t!==null&&Og(i,t),i=Ec(i,l),i.flags|=4096;return i}return t=Gi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gd(t,i,a,l,h){return Hs(i),a=$f(t,i,a,l,void 0,h),l=Zf(),t!==null&&!Ct?(Jf(t,i,h),Zi(t,i,h)):(ke&&l&&Df(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Ky(t,i,a,l,h,d){return Hs(i),i.updateQueue=null,a=$g(i,l,a,h),Xg(t),l=Zf(),t!==null&&!Ct?(Jf(t,i,d),Zi(t,i,d)):(ke&&l&&Df(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Yy(t,i,a,l,h){if(Hs(i),i.stateNode===null){var d=Pa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Pa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&dd.enqueueReplaceState(d,d.state,null),dl(i,l,d,h),fl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,N=Xs(a,S);d.props=N;var B=d.context,X=a.contextType;_=Pa,typeof X=="object"&&X!==null&&(_=Ht(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Vy(i,d,l,_),Pr=!1;var H=i.memoizedState;d.state=H,dl(i,l,d,h),fl(),B=i.memoizedState,S||H!==B||Pr?(typeof J=="function"&&(fd(i,a,J,l),B=i.memoizedState),(N=Pr||My(i,a,N,l,H,B,_))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=N):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Hf(t,i),_=i.memoizedProps,X=Xs(a,_),d.props=X,J=i.pendingProps,H=d.context,B=a.contextType,N=Pa,typeof B=="object"&&B!==null&&(N=Ht(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||H!==N)&&Vy(i,d,l,N),Pr=!1,H=i.memoizedState,d.state=H,dl(i,l,d,h),fl();var Y=i.memoizedState;_!==J||H!==Y||Pr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof S=="function"&&(fd(i,a,S,l),Y=i.memoizedState),(X=Pr||My(i,a,X,l,H,Y,N)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,N)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=N,l=X):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Tc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Ks(i,t.child,null,h),i.child=Ks(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Zi(t,i,h),t}function Xy(t,i,a,l){return Bs(),i.flags|=256,Ft(t,i,a,l),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:Ug()}}function vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function $y(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(ke){if(h?Ur(i):jr(),(t=tt)?(t=rv(t,kn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Dr!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=xg(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Mr(i);return tm(t)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,h?(jr(),h=i.mode,S=bc({mode:"hidden",children:S},h),l=zs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=_d(a),l.childLanes=vd(t,_,a),i.memoizedState=yd,_l(null,l)):(Ur(i),Ed(i,S))}var N=t.memoizedState;if(N!==null&&(S=N.dehydrated,S!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=Td(t,i,a)):i.memoizedState!==null?(jr(),i.child=t.child,i.flags|=128,i=null):(jr(),S=l.fallback,h=i.mode,l=bc({mode:"visible",children:l.children},h),S=zs(S,h,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ks(i,t.child,null,a),l=i.child,l.memoizedState=_d(a),l.childLanes=vd(t,_,a),i.memoizedState=yd,i=_l(null,l));else if(Ur(i),tm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,al({value:l,source:null,stack:null}),i=Td(t,i,a)}else if(Ct||ja(t,i,a,!1),_=(a&t.childLanes)!==0,Ct||_){if(_=et,_!==null&&(l=jo(_,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,js(t,l),cn(_,t,l),pd;em(S)||Dc(),i=Td(t,i,a)}else em(S)?(i.flags|=192,i.child=t.child,i=null):(t=N.treeContext,tt=jn(S.nextSibling),qt=i,ke=!0,Or=null,kn=!1,t!==null&&Og(i,t),i=Ed(i,l.children),i.flags|=4096);return i}return h?(jr(),S=l.fallback,h=i.mode,N=t.child,B=N.sibling,l=Gi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?S=Gi(B,S):(S=zs(S,h,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,_l(null,l),l=i.child,S=t.child.memoizedState,S===null?S=_d(a):(h=S.cachePool,h!==null?(N=wt._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Ug(),S={baseLanes:S.baseLanes|a,cachePool:h}),l.memoizedState=S,l.childLanes=vd(t,_,a),i.memoizedState=yd,_l(t.child,l)):(Ur(i),a=t.child,t=a.sibling,a=Gi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Ed(t,i){return i=bc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function bc(t,i){return t=En(22,t,null,i),t.lanes=0,t}function Td(t,i,a){return Ks(i,t.child,null,a),t=Ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Zy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Lf(t.return,i,a)}function bd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Jy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=gt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ie(gt,_),Ft(t,i,l,a),l=ke?sl:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Zy(t,a,i);else if(t.tag===19)Zy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(i,!0,a,null,d,l);break;case"together":bd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ja(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Gi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Gi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function BS(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Vr(i,wt,t.memoizedState.cache),Bs();break;case 27:case 5:Ts(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Vr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Yf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?$y(t,i,a):(Ur(i),t=Zi(t,i,a),t!==null?t.sibling:null);Ur(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ja(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Jy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(gt,gt.current),l)break;return null;case 22:return i.lanes=0,Fy(t,i,a,i.pendingProps);case 24:Vr(i,wt,t.memoizedState.cache)}return Zi(t,i,a)}function Wy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!Sd(t,a)&&(i.flags&128)===0)return Ct=!1,BS(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,ke&&(i.flags&1048576)!==0&&Dg(i,sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Gs(i.elementType),i.type=t,typeof t=="function")If(t)?(l=Xs(t,l),i.tag=1,i=Yy(null,i,t,l,a)):(i.tag=0,i=gd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===de){i.tag=11,i=By(null,i,t,l,a);break e}else if(h===x){i.tag=14,i=qy(null,i,t,l,a);break e}}throw i=ze(t)||t,Error(s(306,i,""))}}return i;case 0:return gd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Xs(l,i.pendingProps),Yy(t,i,l,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Hf(t,i),dl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Vr(i,wt,l),l!==d.cache&&kf(i,[wt],a,!0),fl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Xy(t,i,l,a);break e}else if(l!==h){h=Vn(Error(s(424)),i),al(h),i=Xy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=jn(t.firstChild),qt=i,ke=!0,Or=null,kn=!0,a=Fg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bs(),l===h){i=Zi(t,i,a);break e}Ft(t,i,l,a)}i=i.child}return i;case 26:return Tc(t,i),t===null?(a=cv(i.type,null,i.pendingProps,null))?i.memoizedState=a:ke||(a=i.type,t=i.pendingProps,l=Uc(Ce.current).createElement(a),l[bt]=i,l[Lt]=t,Gt(l,a,t),St(l),i.stateNode=l):i.memoizedState=cv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ts(i),t===null&&ke&&(l=i.stateNode=ov(i.type,i.pendingProps,Ce.current),qt=i,kn=!0,h=tt,Kr(i.type)?(nm=h,tt=jn(l.firstChild)):tt=h),Ft(t,i,i.pendingProps.children,a),Tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&ke&&((h=l=tt)&&(l=yA(l,i.type,i.pendingProps,kn),l!==null?(i.stateNode=l,qt=i,tt=jn(l.firstChild),kn=!1,h=!0):h=!1),h||Mr(i)),Ts(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Zd(h,d)?l=null:_!==null&&Zd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(t,i,OS,null,null,a),Ml._currentValue=h),Tc(t,i),Ft(t,i,l,a),i.child;case 6:return t===null&&ke&&((t=a=tt)&&(a=_A(a,i.pendingProps,kn),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||Mr(i)),null;case 13:return $y(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ks(i,null,l,a):Ft(t,i,l,a),i.child;case 11:return By(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Vr(i,i.type,l.value),Ft(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Hs(i),h=Ht(h),l=l(h),i.flags|=1,Ft(t,i,l,a),i.child;case 14:return qy(t,i,i.type,i.pendingProps,a);case 15:return Hy(t,i,i.type,i.pendingProps,a);case 19:return Jy(t,i,a);case 31:return zS(t,i,a);case 22:return Fy(t,i,a,i.pendingProps);case 24:return Hs(i),l=Ht(wt),t===null?(h=zf(),h===null&&(h=et,d=Uf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},qf(i),Vr(i,wt,h)):((t.lanes&a)!==0&&(Hf(t,i),dl(i,null,null,a),fl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Vr(i,wt,l)):(l=d.cache,Vr(i,wt,l),l!==h.cache&&kf(i,[wt],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(t){t.flags|=4}function Ad(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(R_())t.flags|=8192;else throw Qs=ac,Bf}else t.flags&=-16777217}function e_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pv(i))if(R_())t.flags|=8192;else throw Qs=ac,Bf}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xu():536870912,t.lanes|=i,Za|=i)}function vl(t,i){if(!ke)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function qS(t,i,a){var l=i.pendingProps;switch(Of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(wt),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ua(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(nt(i),e_(i,d)):(nt(i),Ad(i,h,null,l,a))):d?d!==t.memoizedState?(Ji(i),nt(i),e_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),nt(i),Ad(i,h,t,l,a)),null;case 27:if(ga(i),a=Ce.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ae.current,Ua(i)?Mg(i):(t=ov(h,l,a),i.stateNode=t,Ji(i))}return nt(i),null;case 5:if(ga(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ae.current,Ua(i))Mg(i);else{var _=Uc(Ce.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[bt]=i,d[Lt]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return nt(i),Ad(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ce.current,Ua(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=qt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[bt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||$_(t.nodeValue,a)),t||Mr(i,!0)}else t=Uc(t).createTextNode(l),t[bt]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ua(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[bt]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(bn(i),i):(bn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ua(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[bt]=i}else Bs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(bn(i),i):(bn(i),null)}return bn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Qd(i.stateNode.containerInfo),nt(i),null;case 10:return Yi(i.type),nt(i),null;case 19:if(K(gt),l=i.memoizedState,l===null)return nt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)vl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=cc(t),d!==null){for(i.flags|=128,vl(l,!1),t=d.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ig(a,t),a=a.sibling;return ie(gt,gt.current&1|2),ke&&Qi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&en()>Ic&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304)}else{if(!h)if(t=cc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),vl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!ke)return nt(i),null}else 2*en()-l.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,h=!0,vl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=en(),t.sibling=null,a=gt.current,ie(gt,h?a&1|2:a&1),ke&&Qi(i,l.treeForkCount),t):(nt(i),null);case 22:case 23:return bn(i),Kf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&K(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(wt),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function HS(t,i){switch(Of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(wt),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ga(i),null;case 31:if(i.memoizedState!==null){if(bn(i),i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(bn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Bs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return K(gt),null;case 4:return st(),null;case 10:return Yi(i.type),null;case 22:case 23:return bn(i),Kf(),t!==null&&K(Fs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(wt),null;case 25:return null;default:return null}}function t_(t,i){switch(Of(i),i.tag){case 3:Yi(wt),st();break;case 26:case 27:case 5:ga(i);break;case 4:st();break;case 31:i.memoizedState!==null&&bn(i);break;case 13:bn(i);break;case 19:K(gt);break;case 10:Yi(i.type);break;case 22:case 23:bn(i),Kf(),t!==null&&K(Fs);break;case 24:Yi(wt)}}function El(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(S){Xe(i,i.return,S)}}function zr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var N=a,B=S;try{B()}catch(X){Xe(h,N,X)}}}l=l.next}while(l!==d)}}catch(X){Xe(i,i.return,X)}}function n_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Qg(i,a)}catch(l){Xe(t,t.return,l)}}}function i_(t,i,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Xe(t,i,l)}}function Tl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Xe(t,i,h)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Xe(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xe(t,i,h)}else a.current=null}function r_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Xe(t,t.return,h)}}function wd(t,i,a){try{var l=t.stateNode;hA(l,t.type,a,i),l[Lt]=i}catch(h){Xe(t,t.return,h)}}function s_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Kr(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Kr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Cd(t,i,a),t=t.sibling;t!==null;)Cd(t,i,a),t=t.sibling}function Ac(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Kr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,i,a),t=t.sibling;t!==null;)Ac(t,i,a),t=t.sibling}function a_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,l,a),i[bt]=t,i[Lt]=a}catch(d){Xe(t,t.return,d)}}var Wi=!1,It=!1,Id=!1,o_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function FS(t,i){if(t=t.containerInfo,Xd=Gc,t=vg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,N=-1,B=0,X=0,J=t,H=null;t:for(;;){for(var Y;J!==a||h!==0&&J.nodeType!==3||(S=_+h),J!==d||l!==0&&J.nodeType!==3||(N=_+l),J.nodeType===3&&(_+=J.nodeValue.length),(Y=J.firstChild)!==null;)H=J,J=Y;for(;;){if(J===t)break t;if(H===a&&++B===h&&(S=_),H===d&&++X===l&&(N=_),(Y=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=Y}a=S===-1||N===-1?null:{start:S,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},Gc=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Xs(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Xe(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function l_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&El(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Xe(a,a.return,_)}else{var h=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Xe(a,a.return,_)}}l&64&&n_(a),l&512&&Tl(a,a.return);break;case 3:if(tr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Qg(t,i)}catch(_){Xe(a,a.return,_)}}break;case 27:i===null&&l&4&&a_(a);case 26:case 5:tr(t,a),i===null&&l&4&&r_(a),l&512&&Tl(a,a.return);break;case 12:tr(t,a);break;case 31:tr(t,a),l&4&&h_(t,a);break;case 13:tr(t,a),l&4&&f_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=WS.bind(null,a),vA(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){i=i!==null&&i.memoizedState!==null||It,h=Wi;var d=It;Wi=l,(It=i)&&!d?nr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Wi=h,It=d}break;case 30:break;default:tr(t,a)}}function u_(t){var i=t.alternate;i!==null&&(t.alternate=null,u_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ta(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,an=!1;function er(t,i,a){for(a=a.child;a!==null;)c_(t,i,a),a=a.sibling}function c_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:It||Ci(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ci(a,i);var l=ot,h=an;Kr(a.type)&&(ot=a.stateNode,an=!1),er(t,i,a),Nl(a.stateNode),ot=l,an=h;break;case 5:It||Ci(a,i);case 6:if(l=ot,h=an,ot=null,er(t,i,a),ot=l,an=h,ot!==null)if(an)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){Xe(a,i,d)}else try{ot.removeChild(a.stateNode)}catch(d){Xe(a,i,d)}break;case 18:ot!==null&&(an?(t=ot,nv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),so(t)):nv(ot,a.stateNode));break;case 4:l=ot,h=an,ot=a.stateNode.containerInfo,an=!0,er(t,i,a),ot=l,an=h;break;case 0:case 11:case 14:case 15:zr(2,a,i),It||zr(4,a,i),er(t,i,a);break;case 1:It||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,er(t,i,a),It=l;break;default:er(t,i,a)}}function h_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{so(t)}catch(a){Xe(i,i.return,a)}}}function f_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{so(t)}catch(a){Xe(i,i.return,a)}}function GS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new o_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new o_),i;default:throw Error(s(435,t.tag))}}function wc(t,i){var a=GS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=eA.bind(null,t,l);l.then(h,h)}})}function on(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Kr(S.type)){ot=S.stateNode,an=!1;break e}break;case 5:ot=S.stateNode,an=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(ot===null)throw Error(s(160));c_(d,_,h),ot=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)d_(i,t),i=i.sibling}var Wn=null;function d_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(i,t),ln(t),l&4&&(zr(3,t,t.return),El(3,t),zr(5,t,t.return));break;case 1:on(i,t),ln(t),l&512&&(It||a===null||Ci(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Wn;if(on(i,t),ln(t),l&512&&(It||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[di]||d[bt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,l,a),d[bt]=t,St(d),l=d;break e;case"link":var _=dv("link","href",h).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=dv("meta","content",h).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(l),Gt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[bt]=t,St(d),l=d}t.stateNode=l}else mv(h,t.type,t.stateNode);else t.stateNode=fv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?mv(h,t.type,t.stateNode):fv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(i,t),ln(t),l&512&&(It||a===null||Ci(a,a.return)),a!==null&&l&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(i,t),ln(t),l&512&&(It||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(ce){Xe(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(on(i,t),ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Xe(t,t.return,ce)}}break;case 3:if(Bc=null,h=Wn,Wn=jc(i.containerInfo),on(i,t),Wn=h,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{so(i.containerInfo)}catch(ce){Xe(t,t.return,ce)}Id&&(Id=!1,m_(t));break;case 4:l=Wn,Wn=jc(t.stateNode.containerInfo),on(i,t),ln(t),Wn=l;break;case 12:on(i,t),ln(t);break;case 31:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 13:on(i,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cc=en()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 22:h=t.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Wi,X=It;if(Wi=B||h,It=X||N,on(i,t),It=X,Wi=B,ln(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||N||Wi||It||$s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){N=a=i;try{if(d=N.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=N.stateNode;var J=N.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ce){Xe(N,N.return,ce)}}}else if(i.tag===6){if(a===null){N=i;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ce){Xe(N,N.return,ce)}}}else if(i.tag===18){if(a===null){N=i;try{var Y=N.stateNode;h?iv(Y,!0):iv(N.stateNode,!1)}catch(ce){Xe(N,N.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(t,a))));break;case 19:on(i,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 30:break;case 21:break;default:on(i,t),ln(t)}}function ln(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(s_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(t);Ac(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var S=Rd(t);Ac(t,S,_);break;case 3:case 4:var N=a.stateNode.containerInfo,B=Rd(t);Cd(t,B,N);break;default:throw Error(s(161))}}catch(X){Xe(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function m_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;m_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l_(t,i.alternate,i),i=i.sibling}function $s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zr(4,i,i.return),$s(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&i_(i,i.return,a),$s(i);break;case 27:Nl(i.stateNode);case 26:case 5:Ci(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}t=t.sibling}}function nr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:nr(h,d,a),El(4,d);break;case 1:if(nr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Xe(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Gg(N[h],S)}catch(B){Xe(l,l.return,B)}}a&&_&64&&n_(d),Tl(d,d.return);break;case 27:a_(d);case 26:case 5:nr(h,d,a),a&&l===null&&_&4&&r_(d),Tl(d,d.return);break;case 12:nr(h,d,a);break;case 31:nr(h,d,a),a&&_&4&&h_(h,d);break;case 13:nr(h,d,a),a&&_&4&&f_(h,d);break;case 22:d.memoizedState===null&&nr(h,d,a),Tl(d,d.return);break;case 30:break;default:nr(h,d,a)}i=i.sibling}}function xd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Nd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p_(t,i,a,l),i=i.sibling}function p_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),h&2048&&El(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(N){Xe(i,i.return,N)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):bl(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,Ya(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&xd(_,i);break;case 24:ei(t,i,a,l),h&2048&&Nd(i.alternate,i);break;default:ei(t,i,a,l)}}function Ya(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,N=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ya(d,_,S,N,h),El(8,_);break;case 23:break;case 22:var X=_.stateNode;_.memoizedState!==null?X._visibility&2?Ya(d,_,S,N,h):bl(d,_):(X._visibility|=2,Ya(d,_,S,N,h)),h&&B&2048&&xd(_.alternate,_);break;case 24:Ya(d,_,S,N,h),h&&B&2048&&Nd(_.alternate,_);break;default:Ya(d,_,S,N,h)}i=i.sibling}}function bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&xd(l.alternate,l);break;case 24:bl(a,l),h&2048&&Nd(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var Sl=8192;function Xa(t,i,a){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)g_(t,i,a),t=t.sibling}function g_(t,i,a){switch(t.tag){case 26:Xa(t,i,a),t.flags&Sl&&t.memoizedState!==null&&DA(a,Wn,t.memoizedState,t.memoizedProps);break;case 5:Xa(t,i,a);break;case 3:case 4:var l=Wn;Wn=jc(t.stateNode.containerInfo),Xa(t,i,a),Wn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Xa(t,i,a),Sl=l):Xa(t,i,a));break;default:Xa(t,i,a)}}function y_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,v_(l,t)}y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)__(t),t=t.sibling}function __(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&zr(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Rc(t)):Al(t);break;default:Al(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,v_(l,t)}y_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zr(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(i));break;default:Rc(i)}t=t.sibling}}function v_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(u_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var QS={getCacheForType:function(t){var i=Ht(wt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(wt).controller.signal}},KS=typeof WeakMap=="function"?WeakMap:Map,Ge=0,et=null,xe=null,De=0,Ye=0,Sn=null,Br=!1,$a=!1,Dd=!1,ir=0,dt=0,qr=0,Zs=0,Od=0,An=0,Za=0,wl=null,un=null,Md=!1,Cc=0,E_=0,Ic=1/0,xc=null,Hr=null,Mt=0,Fr=null,Ja=null,rr=0,Vd=0,Pd=null,T_=null,Rl=0,Ld=null;function wn(){return(Ge&2)!==0&&De!==0?De&-De:G.T!==null?qd():Nu()}function b_(){if(An===0)if((De&536870912)===0||ke){var t=As;As<<=1,(As&3932160)===0&&(As=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function cn(t,i,a){(t===et&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Gr(t,De,An,!1)),ws(t,a),((Ge&2)===0||t!==et)&&(t===et&&((Ge&2)===0&&(Zs|=a),dt===4&&Gr(t,De,An,!1)),Ii(t))}function S_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=l?$S(t,i):Ud(t,i,!0),d=l;do{if(h===0){$a&&!l&&Gr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!YS(a)){h=Ud(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=wl;var N=S.current.memoizedState.isDehydrated;if(N&&(Wa(S,_).flags|=256),_=Ud(S,_,!1),_!==2){if(Dd&&!N){S.errorRecoveryDisabledLanes|=d,Zs|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Wa(t,0),Gr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Gr(l,i,An,!Br);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Cc+300-en(),10<h)){if(Gr(l,i,An,!Br),ci(l,0,!0)!==0)break e;rr=i,l.timeoutHandle=ev(A_.bind(null,l,a,un,xc,Md,i,An,Zs,Za,Br,d,"Throttled",-0,0),h);break e}A_(l,a,un,xc,Md,i,An,Zs,Za,Br,d,null,-0,0)}}break}while(!0);Ii(t)}function A_(t,i,a,l,h,d,_,S,N,B,X,J,H,Y){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},g_(i,d,J);var ce=(d&62914560)===d?Cc-en():(d&4194048)===d?E_-en():0;if(ce=OA(J,ce),ce!==null){rr=d,t.cancelPendingCommit=ce(O_.bind(null,t,i,d,a,l,h,_,S,N,X,J,null,H,Y)),Gr(t,d,_,!B);return}}O_(t,i,d,a,l,h,_,S,N)}function YS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gr(t,i,a,l){i&=~Od,i&=~Zs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&Rs(t,a,i)}function Nc(){return(Ge&6)===0?(Cl(0),!1):!0}function kd(){if(xe!==null){if(Ye===0)var t=xe.return;else t=xe,Ki=qs=null,Wf(t),Ha=null,ul=0,t=xe;for(;t!==null;)t_(t.alternate,t),t=t.return;xe=null}}function Wa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),rr=0,kd(),et=t,xe=a=Gi(t.current,null),De=i,Ye=0,Sn=null,Br=!1,$a=Fn(t,i),Dd=!1,Za=An=Od=Zs=qr=dt=0,un=wl=null,Md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return ir=i,Zu(),a}function w_(t,i){Re=null,G.H=yl,i===qa||i===sc?(i=Bg(),Ye=3):i===Bf?(i=Bg(),Ye=4):Ye=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,xe===null&&(dt=1,vc(t,Vn(i,t.current)))}function R_(){var t=Tn.current;return t===null?!0:(De&4194048)===De?Un===null:(De&62914560)===De||(De&536870912)!==0?t===Un:!1}function C_(){var t=G.H;return G.H=yl,t===null?yl:t}function I_(){var t=G.A;return G.A=QS,t}function Dc(){dt=4,Br||(De&4194048)!==De&&Tn.current!==null||($a=!0),(qr&134217727)===0&&(Zs&134217727)===0||et===null||Gr(et,De,An,!1)}function Ud(t,i,a){var l=Ge;Ge|=2;var h=C_(),d=I_();(et!==t||De!==i)&&(xc=null,Wa(t,i)),i=!1;var _=dt;e:do try{if(Ye!==0&&xe!==null){var S=xe,N=Sn;switch(Ye){case 8:kd(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var B=Ye;if(Ye=0,Sn=null,eo(t,S,N,B),a&&$a){_=0;break e}break;default:B=Ye,Ye=0,Sn=null,eo(t,S,N,B)}}XS(),_=dt;break}catch(X){w_(t,X)}while(!0);return i&&t.shellSuspendCounter++,Ki=qs=null,Ge=l,G.H=h,G.A=d,xe===null&&(et=null,De=0,Zu()),_}function XS(){for(;xe!==null;)x_(xe)}function $S(t,i){var a=Ge;Ge|=2;var l=C_(),h=I_();et!==t||De!==i?(xc=null,Ic=en()+500,Wa(t,i)):$a=Fn(t,i);e:do try{if(Ye!==0&&xe!==null){i=xe;var d=Sn;t:switch(Ye){case 1:Ye=0,Sn=null,eo(t,i,d,1);break;case 2:case 9:if(jg(d)){Ye=0,Sn=null,N_(i);break}i=function(){Ye!==2&&Ye!==9||et!==t||(Ye=7),Ii(t)},d.then(i,i);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:jg(d)?(Ye=0,Sn=null,N_(i)):(Ye=0,Sn=null,eo(t,i,d,7));break;case 5:var _=null;switch(xe.tag){case 26:_=xe.memoizedState;case 5:case 27:var S=xe;if(_?pv(_):S.stateNode.complete){Ye=0,Sn=null;var N=S.sibling;if(N!==null)xe=N;else{var B=S.return;B!==null?(xe=B,Oc(B)):xe=null}break t}}Ye=0,Sn=null,eo(t,i,d,5);break;case 6:Ye=0,Sn=null,eo(t,i,d,6);break;case 8:kd(),dt=6;break e;default:throw Error(s(462))}}ZS();break}catch(X){w_(t,X)}while(!0);return Ki=qs=null,G.H=l,G.A=h,Ge=a,xe!==null?0:(et=null,De=0,Zu(),dt)}function ZS(){for(;xe!==null&&!mf();)x_(xe)}function x_(t){var i=Wy(t.alternate,t,ir);t.memoizedProps=t.pendingProps,i===null?Oc(t):xe=i}function N_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ky(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Ky(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Wf(i);default:t_(a,i),i=xe=Ig(i,ir),i=Wy(a,i,ir)}t.memoizedProps=t.pendingProps,i===null?Oc(t):xe=i}function eo(t,i,a,l){Ki=qs=null,Wf(i),Ha=null,ul=0;var h=i.return;try{if(jS(t,h,i,a,De)){dt=1,vc(t,Vn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;dt=1,vc(t,Vn(a,t.current)),xe=null;return}i.flags&32768?(ke||l===1?t=!0:$a||(De&536870912)!==0?t=!1:(Br=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),D_(i,t)):Oc(i)}function Oc(t){var i=t;do{if((i.flags&32768)!==0){D_(i,Br);return}t=i.return;var a=qS(i.alternate,i,ir);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);dt===0&&(dt=5)}function D_(t,i){do{var a=HS(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);dt=6,xe=null}function O_(t,i,a,l,h,d,_,S,N){t.cancelPendingCommit=null;do Mc();while(Mt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Rf,yf(t,a,d,_,S,N),t===et&&(xe=et=null,De=0),Ja=i,Fr=t,rr=a,Vd=d,Pd=h,T_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tA(Tr,function(){return k_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=oe.p,oe.p=2,_=Ge,Ge|=4;try{FS(t,i,a)}finally{Ge=_,oe.p=h,G.T=l}}Mt=1,M_(),V_(),P_()}}function M_(){if(Mt===1){Mt=0;var t=Fr,i=Ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{d_(i,t);var d=$d,_=vg(t.containerInfo),S=d.focusedElem,N=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&_g(S.ownerDocument.documentElement,S)){if(N!==null&&Tf(S)){var B=N.start,X=N.end;if(X===void 0&&(X=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(X,S.value.length);else{var J=S.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var Y=H.getSelection(),ce=S.textContent.length,_e=Math.min(N.start,ce),We=N.end===void 0?_e:Math.min(N.end,ce);!Y.extend&&_e>We&&(_=We,We=_e,_e=_);var U=yg(S,_e),O=yg(S,We);if(U&&O&&(Y.rangeCount!==1||Y.anchorNode!==U.node||Y.anchorOffset!==U.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var z=J.createRange();z.setStart(U.node,U.offset),Y.removeAllRanges(),_e>We?(Y.addRange(z),Y.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),Y.addRange(z))}}}}for(J=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var Z=J[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Gc=!!Xd,$d=Xd=null}finally{Ge=h,oe.p=l,G.T=a}}t.current=i,Mt=2}}function V_(){if(Mt===2){Mt=0;var t=Fr,i=Ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=oe.p;oe.p=2;var h=Ge;Ge|=4;try{l_(t,i.alternate,i)}finally{Ge=h,oe.p=l,G.T=a}}Mt=3}}function P_(){if(Mt===4||Mt===3){Mt=0,Su();var t=Fr,i=Ja,a=rr,l=T_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Ja=Fr=null,L_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Hr=null),Bi(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(Hn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=oe.p,oe.p=2,G.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{G.T=i,oe.p=h}}(rr&3)!==0&&Mc(),Ii(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ld?Rl++:(Rl=0,Ld=t):Rl=0,Cl(0)}}function L_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function Mc(){return M_(),V_(),P_(),k_()}function k_(){if(Mt!==5)return!1;var t=Fr,i=Vd;Vd=0;var a=Bi(rr),l=G.T,h=oe.p;try{oe.p=32>a?32:a,G.T=null,a=Pd,Pd=null;var d=Fr,_=rr;if(Mt=0,Ja=Fr=null,rr=0,(Ge&6)!==0)throw Error(s(331));var S=Ge;if(Ge|=4,__(d.current),p_(d,d.current,_,a),Ge=S,Cl(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(Hn,d)}catch{}return!0}finally{oe.p=h,G.T=l,L_(t,i)}}function U_(t,i,a){i=Vn(a,i),i=md(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(ws(t,2),Ii(t))}function Xe(t,i,a){if(t.tag===3)U_(t,t,a);else for(;i!==null;){if(i.tag===3){U_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hr===null||!Hr.has(l))){t=Vn(a,t),a=jy(2),l=kr(i,a,2),l!==null&&(zy(a,l,i,t),ws(l,2),Ii(l));break}}i=i.return}}function jd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new KS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Dd=!0,h.add(a),t=JS.bind(null,t,i,a),i.then(t,t))}function JS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(De&a)===a&&(dt===4||dt===3&&(De&62914560)===De&&300>en()-Cc?(Ge&2)===0&&Wa(t,0):Od|=a,Za===De&&(Za=0)),Ii(t)}function j_(t,i){i===0&&(i=xu()),t=js(t,i),t!==null&&(ws(t,i),Ii(t))}function WS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),j_(t,a)}function eA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),j_(t,a)}function tA(t,i){return Ot(t,i)}var Vc=null,to=null,zd=!1,Pc=!1,Bd=!1,Qr=0;function Ii(t){t!==to&&t.next===null&&(to===null?Vc=to=t:to=to.next=t),Pc=!0,zd||(zd=!0,iA())}function Cl(t,i){if(!Bd&&Pc){Bd=!0;do for(var a=!1,l=Vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,H_(l,d))}else d=De,d=ci(l,l===et?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,H_(l,d));l=l.next}while(a);Bd=!1}}function nA(){z_()}function z_(){Pc=zd=!1;var t=0;Qr!==0&&dA()&&(t=Qr);for(var i=en(),a=null,l=Vc;l!==null;){var h=l.next,d=B_(l,i);d===0?(l.next=null,a===null?Vc=h:a.next=h,h===null&&(to=a)):(a=l,(t!==0||(d&3)!==0)&&(Pc=!0)),l=h}Mt!==0&&Mt!==5||Cl(t),Qr!==0&&(Qr=0)}function B_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-mt(d),S=1<<_,N=h[_];N===-1?((S&a)===0||(S&l)!==0)&&(h[_]=gf(S,i)):N<=i&&(t.expiredLanes|=S),d&=~S}if(i=et,a=De,a=ci(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Er(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Er(l),Bi(a)){case 2:case 8:a=ko;break;case 32:a=Tr;break;case 268435456:a=Au;break;default:a=Tr}return l=q_.bind(null,t),a=Ot(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Er(l),t.callbackPriority=2,t.callbackNode=null,2}function q_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var l=De;return l=ci(t,t===et?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(S_(t,l,i),B_(t,en()),t.callbackNode!=null&&t.callbackNode===a?q_.bind(null,t):null)}function H_(t,i){if(Mc())return null;S_(t,i,!0)}function iA(){pA(function(){(Ge&6)!==0?Ot(Lo,nA):z_()})}function qd(){if(Qr===0){var t=za;t===0&&(t=li,li<<=1,(li&261888)===0&&(li=256)),Qr=t}return Qr}function F_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:wa(""+t)}function G_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=F_((h[Lt]||null).action),_=l.submitter;_&&(i=(i=_[Lt]||null)?F_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ti("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qr!==0){var N=_?G_(h,_):new FormData(h);ld(a,{pending:!0,data:N,method:h.method,action:d},null,N)}}else typeof d=="function"&&(S.preventDefault(),N=_?G_(h,_):new FormData(h),ld(a,{pending:!0,data:N,method:h.method,action:d},d,N))},currentTarget:h}]})}}for(var Hd=0;Hd<wf.length;Hd++){var Fd=wf[Hd],sA=Fd.toLowerCase(),aA=Fd[0].toUpperCase()+Fd.slice(1);Jn(sA,"on"+aA)}Jn(bg,"onAnimationEnd"),Jn(Sg,"onAnimationIteration"),Jn(Ag,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(bS,"onTransitionRun"),Jn(SS,"onTransitionStart"),Jn(AS,"onTransitionCancel"),Jn(wg,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function Q_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],N=S.instance,B=S.currentTarget;if(S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){$u(X)}h.currentTarget=null,d=N}else for(_=0;_<l.length;_++){if(S=l[_],N=S.instance,B=S.currentTarget,S=S.listener,N!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(X){$u(X)}h.currentTarget=null,d=N}}}}function Ne(t,i){var a=i[Ea];a===void 0&&(a=i[Ea]=new Set);var l=t+"__bubble";a.has(l)||(K_(i,t,2,!1),a.add(l))}function Gd(t,i,a){var l=0;i&&(l|=4),K_(a,t,l,i)}var Lc="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[Lc]){t[Lc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(oA.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Lc]||(i[Lc]=!0,Gd("selectionchange",!1,i))}}function K_(t,i,a,l){switch(bv(i)){case 2:var h=PA;break;case 8:h=LA;break;default:h=om}a=h.bind(null,i,a,t),h=void 0,!Ds||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Kd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=l.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=mi(S),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Cr(function(){var B=d,X=Nn(a),J=[];e:{var H=Rg.get(t);if(H!==void 0){var Y=Ti,ce=t;switch(t){case"keypress":if(Ms(a)===0)break e;case"keydown":case"keyup":Y=Ku;break;case"focusin":ce="focus",Y=Ps;break;case"focusout":ce="blur",Y=Ps;break;case"beforeblur":case"afterblur":Y=Ps;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case bg:case Sg:case Ag:Y=zu;break;case wg:Y=A;break;case"scroll":case"scrollend":Y=Jo;break;case"wheel":Y=Q;break;case"copy":case"cut":case"paste":Y=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Fi;break;case"toggle":case"beforetoggle":Y=we}var _e=(i&4)!==0,We=!_e&&(t==="scroll"||t==="scrollend"),U=_e?H!==null?H+"Capture":null:H;_e=[];for(var O=B,z;O!==null;){var Z=O;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||U===null||(Z=Yn(O,U),Z!=null&&_e.push(xl(O,Z,z))),We)break;O=O.return}0<_e.length&&(H=new Y(H,ce,null,a,X),J.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",H&&a!==Xo&&(ce=a.relatedTarget||a.fromElement)&&(mi(ce)||ce[fi]))break e;if((Y||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,Y?(ce=a.relatedTarget||a.toElement,Y=B,ce=ce?mi(ce):null,ce!==null&&(We=u(ce),_e=ce.tag,ce!==We||_e!==5&&_e!==27&&_e!==6)&&(ce=null)):(Y=null,ce=B),Y!==ce)){if(_e=Wo,Z="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Fi,Z="onPointerLeave",U="onPointerEnter",O="pointer"),We=Y==null?H:yn(Y),z=ce==null?H:yn(ce),H=new _e(Z,O+"leave",Y,a,X),H.target=We,H.relatedTarget=z,Z=null,mi(X)===B&&(_e=new _e(U,O+"enter",ce,a,X),_e.target=z,_e.relatedTarget=We,Z=_e),We=Z,Y&&ce)t:{for(_e=lA,U=Y,O=ce,z=0,Z=U;Z;Z=_e(Z))z++;Z=0;for(var pe=O;pe;pe=_e(pe))Z++;for(;0<z-Z;)U=_e(U),z--;for(;0<Z-z;)O=_e(O),Z--;for(;z--;){if(U===O||O!==null&&U===O.alternate){_e=U;break t}U=_e(U),O=_e(O)}_e=null}else _e=null;Y!==null&&Y_(J,H,Y,_e,!1),ce!==null&&We!==null&&Y_(J,We,ce,_e,!0)}}e:{if(H=B?yn(B):window,Y=H.nodeName&&H.nodeName.toLowerCase(),Y==="select"||Y==="input"&&H.type==="file")var Be=hg;else if(ug(H))if(fg)Be=vS;else{Be=yS;var fe=gS}else Y=H.nodeName,!Y||Y.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Aa(B.elementType)&&(Be=hg):Be=_S;if(Be&&(Be=Be(t,B))){cg(J,Be,a,X);break e}fe&&fe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&Qo(H,"number",H.value)}switch(fe=B?yn(B):window,t){case"focusin":(ug(fe)||fe.contentEditable==="true")&&(Oa=fe,bf=B,rl=null);break;case"focusout":rl=bf=Oa=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Eg(J,a,X);break;case"selectionchange":if(TS)break;case"keydown":case"keyup":Eg(J,a,X)}var Ie;if(Fe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else Da?Ls(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ai&&a.locale!=="ko"&&(Da||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&Da&&(Ie=Zo()):(Ei=X,$o="value"in Ei?Ei.value:Ei.textContent,Da=!0)),fe=kc(B,Oe),0<fe.length&&(Oe=new Si(Oe,t,null,a,X),J.push({event:Oe,listeners:fe}),Ie?Oe.data=Ie:(Ie=Na(a),Ie!==null&&(Oe.data=Ie)))),(Ie=On?fS(t,a):dS(t,a))&&(Oe=kc(B,"onBeforeInput"),0<Oe.length&&(fe=new Si("onBeforeInput","beforeinput",null,a,X),J.push({event:fe,listeners:Oe}),fe.data=Ie)),rA(J,t,B,a,X)}Q_(J,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function kc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Yn(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Yn(t,i),h!=null&&l.push(xl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function lA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Y_(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,N=S.alternate,B=S.stateNode;if(S=S.tag,N!==null&&N===l)break;S!==5&&S!==26&&S!==27||B===null||(N=B,h?(B=Yn(a,d),B!=null&&_.unshift(xl(a,B,N))):h||(B=Yn(a,d),B!=null&&_.push(xl(a,B,N)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var uA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function X_(t){return(typeof t=="string"?t:""+t).replace(uA,`
`).replace(cA,"")}function $_(t,i){return i=X_(i),X_(t)===i}function Je(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||sn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&sn(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Yo(t,l,d);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=wa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=wa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":At(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":At(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":At(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":At(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":At(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":At(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":At(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":At(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":At(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ku.get(a)||a,ba(t,a,l))}}function Yd(t,i,a,l,h,d){switch(a){case"style":Yo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?sn(t,l):(typeof l=="number"||typeof l=="bigint")&&sn(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),l&&Je(t,i,"src",a.src,a,null);return;case"input":Ne("invalid",t);var S=d=_=h=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":_=X;break;case"checked":N=X;break;case"defaultChecked":B=X;break;case"value":d=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:Je(t,i,l,X,a,null)}}Vu(t,d,S,N,B,_,h,!1);return;case"select":Ne("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Je(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Sr(t,!!l,i,!1):a!=null&&Sr(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,_,S,a,null)}Ar(t,l,h,d);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,i,N,l,a,null)}return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)Ne(Il[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,l,a,null)}return;default:if(Aa(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Yd(t,i,X,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Je(t,i,S,l,a,null))}function hA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,N=null,B=null,X=null;for(Y in a){var J=a[Y];if(a.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":N=J;default:l.hasOwnProperty(Y)||Je(t,i,Y,null,l,J)}}for(var H in l){var Y=l[H];if(J=a[H],l.hasOwnProperty(H)&&(Y!=null||J!=null))switch(H){case"type":d=Y;break;case"name":h=Y;break;case"checked":B=Y;break;case"defaultChecked":X=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==J&&Je(t,i,H,Y,l,J)}}Sa(t,_,S,N,B,X,d,h);return;case"select":Y=_=S=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":Y=N;default:l.hasOwnProperty(d)||Je(t,i,d,null,l,N)}for(h in l)if(d=l[h],N=a[h],l.hasOwnProperty(h)&&(d!=null||N!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==N&&Je(t,i,h,d,l,N)}i=S,a=_,l=Y,H!=null?Sr(t,!!a,H,!1):!!l!=!!a&&(i!=null?Sr(t,!!a,i,!0):Sr(t,!!a,a?[]:"",!1));return;case"textarea":Y=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":H=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,l,d)}Pu(t,H,Y);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,i,ce,null,l,H)}for(N in l)if(H=l[N],Y=a[N],l.hasOwnProperty(N)&&H!==Y&&(H!=null||Y!=null))switch(N){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Je(t,i,N,H,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&Je(t,i,_e,null,l,H);for(B in l)if(H=l[B],Y=a[B],l.hasOwnProperty(B)&&H!==Y&&(H!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Je(t,i,B,H,l,Y)}return;default:if(Aa(i)){for(var We in a)H=a[We],a.hasOwnProperty(We)&&H!==void 0&&!l.hasOwnProperty(We)&&Yd(t,i,We,void 0,l,H);for(X in l)H=l[X],Y=a[X],!l.hasOwnProperty(X)||H===Y||H===void 0&&Y===void 0||Yd(t,i,X,H,l,Y);return}}for(var U in a)H=a[U],a.hasOwnProperty(U)&&H!=null&&!l.hasOwnProperty(U)&&Je(t,i,U,null,l,H);for(J in l)H=l[J],Y=a[J],!l.hasOwnProperty(J)||H===Y||H==null&&Y==null||Je(t,i,J,H,l,Y)}function Z_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&Z_(_)){for(_=0,S=h.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>S)break;var X=N.transferSize,J=N.initiatorType;X&&Z_(J)&&(N=N.responseEnd,_+=X*(N<S?1:(S-B)/(N-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,$d=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function J_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Jd=null;function dA(){var t=window.event;return t&&t.type==="popstate"?t===Jd?!1:(Jd=t,!0):(Jd=null,!1)}var ev=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(gA)}:ev;function gA(t){setTimeout(function(){throw t})}function Kr(t){return t==="head"}function nv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),so(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[di]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Nl(t.ownerDocument.body);a=h}while(a);so(i)}function iv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Wd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[di])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function _A(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function rv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function vA(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nm=null;function sv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return jn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function av(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function ov(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ta(t)}var zn=new Map,lv=new Set;function jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sr=oe.d;oe.d={f:EA,r:TA,D:bA,C:SA,L:AA,m:wA,X:CA,S:RA,M:IA};function EA(){var t=sr.f(),i=Nc();return t||i}function TA(t){var i=xn(t);i!==null&&i.tag===5&&i.type==="form"?wy(i):sr.r(t)}var no=typeof document>"u"?null:document;function uv(t,i,a){var l=no;if(l&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),lv.has(h)||(lv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function bA(t){sr.D(t),uv("dns-prefetch",t,null)}function SA(t,i){sr.C(t,i),uv("preconnect",t,i)}function AA(t,i,a){sr.L(t,i,a);var l=no;if(l&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=io(t);break;case"script":d=ro(t)}zn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Gt(i,"link",t),St(i),l.head.appendChild(i)))}}function wA(t,i){sr.m(t,i);var a=no;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(t)}if(!zn.has(d)&&(t=T({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Gt(l,"link",t),St(l),a.head.appendChild(l)}}}function RA(t,i,a){sr.S(t,i,a);var l=no;if(l&&t){var h=pi(l).hoistableStyles,d=io(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Dl(d)))S.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&im(t,a);var N=_=l.createElement("link");St(N),Gt(N,"link",t),N._p=new Promise(function(B,X){N.onload=B,N.onerror=X}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function CA(t,i){sr.X(t,i);var a=no;if(a&&t){var l=pi(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=T({src:t,async:!0},i),(i=zn.get(h))&&rm(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function IA(t,i){sr.M(t,i);var a=no;if(a&&t){var l=pi(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=zn.get(h))&&rm(t,i),d=a.createElement("script"),St(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function cv(t,i,a,l){var h=(h=Ce.current)?jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=io(a.href),a=pi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var d=pi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Dl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||xA(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ro(a),a=pi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function io(t){return'href="'+rn(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function hv(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function xA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Gt(i,"link",a),St(i),t.head.appendChild(i))}function ro(t){return'[src="'+rn(t)+'"]'}function Ol(t){return"script[async]"+t}function fv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Gt(l,"style",h),zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=io(a.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=hv(a),(h=zn.get(h))&&im(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var _=d;return _._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),i.state.loading|=4,zc(d,a.precedence,t),i.instance=d;case"script":return d=ro(a.src),(h=t.querySelector(Ol(d)))?(i.instance=h,St(h),h):(l=a,(h=zn.get(d))&&(l=T({},a),rm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Gt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,zc(l,a.precedence,t));return i.instance}function zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function dv(t,i,a){if(Bc===null){var l=new Map,h=Bc=new Map;h.set(a,l)}else h=Bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[di]||d[bt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function mv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function NA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DA(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=io(l.href),d=i.querySelector(Dl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=hv(l),(h=zn.get(h))&&im(l,h),d=d.createElement("link"),St(d);var _=d;_._p=new Promise(function(S,N){_.onload=S,_.onerror=N}),Gt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function OA(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*fA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(MA,t),Hc=null,qc.call(t))}function MA(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var l=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=qc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:te,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function VA(t,i,a,l,h,d,_,S,N){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function gv(t,i,a,l,h,d,_,S,N,B,X,J){return t=new VA(t,i,a,_,N,B,X,J,S),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=Uf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},qf(d),t}function yv(t){return t?(t=Pa,t):Pa}function _v(t,i,a,l,h,d){h=yv(h),l.context===null?l.context=h:l.pendingContext=h,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(cn(a,t,i),hl(a,t,i))}function vv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function am(t,i){vv(t,i),(t=t.alternate)&&vv(t,i)}function Ev(t){if(t.tag===13||t.tag===31){var i=js(t,67108864);i!==null&&cn(i,t,67108864),am(t,67108864)}}function Tv(t){if(t.tag===13||t.tag===31){var i=wn();i=Cs(i);var a=js(t,i);a!==null&&cn(a,t,i),am(t,i)}}var Gc=!0;function PA(t,i,a,l){var h=G.T;G.T=null;var d=oe.p;try{oe.p=2,om(t,i,a,l)}finally{oe.p=d,G.T=h}}function LA(t,i,a,l){var h=G.T;G.T=null;var d=oe.p;try{oe.p=8,om(t,i,a,l)}finally{oe.p=d,G.T=h}}function om(t,i,a,l){if(Gc){var h=lm(l);if(h===null)Kd(t,i,l,Qc,a),Sv(t,l);else if(UA(h,t,i,a,l))l.stopPropagation();else if(Sv(t,l),i&4&&-1<kA.indexOf(t)){for(;h!==null;){var d=xn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ui(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var N=1<<31-mt(_);S.entanglements[1]|=N,_&=~N}Ii(d),(Ge&6)===0&&(Ic=en()+500,Cl(0))}}break;case 31:case 13:S=js(d,2),S!==null&&cn(S,d,2),Nc(),am(d,2)}if(d=lm(l),d===null&&Kd(t,i,l,Qc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,i,l,null,a)}}function lm(t){return t=Nn(t),um(t)}var Qc=null;function um(t){if(Qc=null,t=mi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Qc=t,null}function bv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ss()){case Lo:return 2;case ko:return 8;case Tr:case pf:return 32;case Au:return 268435456;default:return 32}default:return 32}}var cm=!1,Yr=null,Xr=null,$r=null,Vl=new Map,Pl=new Map,Zr=[],kA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,i){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(i.pointerId)}}function Ll(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&Ev(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function UA(t,i,a,l,h){switch(i){case"focusin":return Yr=Ll(Yr,t,i,a,l,h),!0;case"dragenter":return Xr=Ll(Xr,t,i,a,l,h),!0;case"mouseover":return $r=Ll($r,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Pl.set(d,Ll(Pl.get(d)||null,t,i,a,l,h)),!0}return!1}function Av(t){var i=mi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){Tv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){Tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=lm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xo=l,a.target.dispatchEvent(l),Xo=null}else return i=xn(a),i!==null&&Ev(i),t.blockedOn=a,!1;i.shift()}return!0}function wv(t,i,a){Kc(t)&&a.delete(i)}function jA(){cm=!1,Yr!==null&&Kc(Yr)&&(Yr=null),Xr!==null&&Kc(Xr)&&(Xr=null),$r!==null&&Kc($r)&&($r=null),Vl.forEach(wv),Pl.forEach(wv)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,cm||(cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,jA)))}var Xc=null;function Rv(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(um(l||a)===null)continue;break}var d=xn(a);d!==null&&(t.splice(i,3),i-=3,ld(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function so(t){function i(N){return Yc(N,t)}Yr!==null&&Yc(Yr,t),Xr!==null&&Yc(Xr,t),$r!==null&&Yc($r,t),Vl.forEach(i),Pl.forEach(i);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)Av(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Lt]||null;if(typeof d=="function")_||Rv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)S=_.formAction;else if(um(h)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Rv(a)}}}function Cv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function hm(t){this._internalRoot=t}$c.prototype.render=hm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=wn();_v(a,l,t,i,null,null)},$c.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;_v(t.current,2,null,t,null,null),Nc(),i[fi]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zr.length&&i!==0&&i<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&Av(t)}};var Iv=e.version;if(Iv!=="19.2.1")throw Error(s(527,Iv,"19.2.1"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var zA={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Hn=Zc.inject(zA),zt=Zc}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Py,d=Ly,_=ky;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=gv(t,1,!1,null,null,a,l,null,h,d,_,Cv),t[fi]=i.current,Qd(t),new hm(i)},Ul.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Py,_=Ly,S=ky,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),i=gv(t,1,!0,i,a??null,l,h,N,d,_,S,Cv),i.context=yv(null),a=i.current,l=wn(),l=Cs(l),h=Lr(l),h.callback=null,kr(a,h,l),a=l,i.current.lanes=a,ws(i,a),Ii(i),t[fi]=i.current,Qd(t),new $c(i)},Ul.version="19.2.1",Ul}var Uv;function JA(){if(Uv)return mm.exports;Uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=ZA(),mm.exports}var WA=JA();var jv="popstate";function e1(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ha(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Mm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Jl(u))}function s(o,u){gn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return n1(e,n,s,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t1(){return Math.random().toString(36).substring(2,10)}function zv(r,e){return{usr:r.state,key:r.key,idx:e}}function Mm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ha(e):e,state:n,key:e&&e.key||s||t1()}}function Jl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ha(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function n1(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function T(){m="POP";let F=E(),ne=F==null?null:F-g;g=F,p&&p({action:m,location:$.location,delta:ne})}function w(F,ne){m="PUSH";let re=Mm($.location,F,ne);n&&n(re,F),g=E()+1;let te=zv(re,g),de=$.createHref(re);try{f.pushState(te,"",de)}catch(Ae){if(Ae instanceof DOMException&&Ae.name==="DataCloneError")throw Ae;o.location.assign(de)}u&&p&&p({action:m,location:$.location,delta:1})}function P(F,ne){m="REPLACE";let re=Mm($.location,F,ne);n&&n(re,F),g=E();let te=zv(re,g),de=$.createHref(re);f.replaceState(te,"",de),u&&p&&p({action:m,location:$.location,delta:0})}function q(F){return i1(F)}let $={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(jv,T),p=F,()=>{o.removeEventListener(jv,T),p=null}},createHref(F){return e(o,F)},createURL:q,encodeLocation(F){let ne=q(F);return{pathname:ne.pathname,search:ne.search,hash:ne.hash}},push:w,replace:P,go(F){return f.go(F)}};return $}function i1(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Jl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function b0(r,e,n="/"){return r1(r,e,n,!1)}function r1(r,e,n,s){let o=typeof e=="string"?ha(e):e,u=cr(o.pathname||"/",n);if(u==null)return null;let f=S0(r);s1(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=g1(u);m=m1(f[p],g,s)}return m}function S0(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;lt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=lr([s,E.relativePath]),w=n.concat(E);f.children&&f.children.length>0&&(lt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),S0(f.children,e,w,T,p)),!(f.path==null&&!f.index)&&e.push({path:T,score:f1(T,f.index),routesMeta:w})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of A0(f.path))u(f,m,!0,p)}),e}function A0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=A0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function s1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:d1(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var a1=/^:[\w-]+$/,o1=3,l1=2,u1=1,c1=10,h1=-2,Bv=r=>r==="*";function f1(r,e){let n=r.split("/"),s=n.length;return n.some(Bv)&&(s+=h1),e&&(s+=l1),n.filter(o=>!Bv(o)).reduce((o,u)=>o+(a1.test(u)?o1:u===""?u1:c1),s)}function d1(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function m1(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),f.push({params:o,pathname:lr([u,T.pathname]),pathnameBase:T1(lr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=lr([u,T.pathnameBase]))}return f}function _h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=p1(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let q=m[w]||"";f=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const P=m[w];return T&&!P?g[E]=void 0:g[E]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function p1(r,e=!1,n=!0){gn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function g1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function cr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var y1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_1=r=>y1.test(r);function v1(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ha(r):r,u;if(n)if(_1(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),gn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=qv(n.substring(1),"/"):u=qv(n,e)}else u=e;return{pathname:u,search:b1(s),hash:S1(o)}}function qv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function _m(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function E1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function up(r){let e=E1(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function cp(r,e,n,s=!1){let o;typeof r=="string"?o=ha(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),_m("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),_m("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),_m("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let T=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?e[T]:"/"}let p=v1(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var lr=r=>r.join("/").replace(/\/\/+/g,"/"),T1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),b1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,S1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function A1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function w1(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var w0=["POST","PUT","PATCH","DELETE"];new Set(w0);var R1=["GET",...w0];new Set(R1);var So=k.createContext(null);So.displayName="DataRouter";var Bh=k.createContext(null);Bh.displayName="DataRouterState";k.createContext(!1);var R0=k.createContext({isTransitioning:!1});R0.displayName="ViewTransition";var C1=k.createContext(new Map);C1.displayName="Fetchers";var I1=k.createContext(null);I1.displayName="Await";var qn=k.createContext(null);qn.displayName="Navigation";var ou=k.createContext(null);ou.displayName="Location";var ai=k.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var hp=k.createContext(null);hp.displayName="RouteError";function x1(r,{relative:e}={}){lt(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=k.useContext(qn),{hash:o,pathname:u,search:f}=lu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:lr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Ao(){return k.useContext(ou)!=null}function gr(){return lt(Ao(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ou).location}var C0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I0(r){k.useContext(qn).static||k.useLayoutEffect(r)}function yr(){let{isDataRoute:r}=k.useContext(ai);return r?H1():N1()}function N1(){lt(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(So),{basename:e,navigator:n}=k.useContext(qn),{matches:s}=k.useContext(ai),{pathname:o}=gr(),u=JSON.stringify(up(s)),f=k.useRef(!1);return I0(()=>{f.current=!0}),k.useCallback((p,g={})=>{if(gn(f.current,C0),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=cp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:lr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}k.createContext(null);function D1(){let{matches:r}=k.useContext(ai),e=r[r.length-1];return e?e.params:{}}function lu(r,{relative:e}={}){let{matches:n}=k.useContext(ai),{pathname:s}=gr(),o=JSON.stringify(up(n));return k.useMemo(()=>cp(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function O1(r,e){return x0(r,e)}function x0(r,e,n,s,o){lt(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=k.useContext(qn),{matches:f}=k.useContext(ai),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let re=T&&T.path||"";N0(g,!T||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let w=gr(),P;if(e){let re=typeof e=="string"?ha(e):e;lt(E==="/"||re.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${re.pathname}" was given in the \`location\` prop.`),P=re}else P=w;let q=P.pathname||"/",$=q;if(E!=="/"){let re=E.replace(/^\//,"").split("/");$="/"+q.replace(/^\//,"").split("/").slice(re.length).join("/")}let F=b0(r,{pathname:$});gn(T||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),gn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let ne=k1(F&&F.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:lr([E,u.encodeLocation?u.encodeLocation(re.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?E:lr([E,u.encodeLocation?u.encodeLocation(re.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:re.pathnameBase])})),f,n,s,o);return e&&ne?k.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},ne):ne}function M1(){let r=q1(),e=A1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,f)}var V1=k.createElement(M1,null),P1=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?k.createElement(ai.Provider,{value:this.props.routeContext},k.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function L1({routeContext:r,match:e,children:n}){let s=k.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ai.Provider,{value:r},n)}function k1(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);lt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:w,errors:P}=n,q=T.route.loader&&!w.hasOwnProperty(T.route.id)&&(!P||P[T.route.id]===void 0);if(T.route.lazy||q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,T)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:w1(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,w)=>{let P,q=!1,$=null,F=null;n&&(P=f&&T.route.id?f[T.route.id]:void 0,$=T.route.errorElement||V1,m&&(p<0&&w===0?(N0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),q=!0,F=null):p===w&&(q=!0,F=T.route.hydrateFallbackElement||null)));let ne=e.concat(u.slice(0,w+1)),re=()=>{let te;return P?te=$:q?te=F:T.route.Component?te=k.createElement(T.route.Component,null):T.route.element?te=T.route.element:te=E,k.createElement(L1,{match:T,routeContext:{outlet:E,matches:ne,isDataRoute:n!=null},children:te})};return n&&(T.route.ErrorBoundary||T.route.errorElement||w===0)?k.createElement(P1,{location:n.location,revalidation:n.revalidation,component:$,error:P,children:re(),routeContext:{outlet:null,matches:ne,isDataRoute:!0},onError:g}):re()},null)}function fp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function U1(r){let e=k.useContext(So);return lt(e,fp(r)),e}function j1(r){let e=k.useContext(Bh);return lt(e,fp(r)),e}function z1(r){let e=k.useContext(ai);return lt(e,fp(r)),e}function dp(r){let e=z1(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function B1(){return dp("useRouteId")}function q1(){let r=k.useContext(hp),e=j1("useRouteError"),n=dp("useRouteError");return r!==void 0?r:e.errors?.[n]}function H1(){let{router:r}=U1("useNavigate"),e=dp("useNavigate"),n=k.useRef(!1);return I0(()=>{n.current=!0}),k.useCallback(async(o,u={})=>{gn(n.current,C0),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Hv={};function N0(r,e,n){!e&&!Hv[r]&&(Hv[r]=!0,gn(!1,n))}k.memo(F1);function F1({routes:r,future:e,state:n,unstable_onError:s}){return x0(r,void 0,n,s,e)}function G1({to:r,replace:e,state:n,relative:s}){lt(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=k.useContext(qn);gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=k.useContext(ai),{pathname:f}=gr(),m=yr(),p=cp(r,up(u),f,s==="path"),g=JSON.stringify(p);return k.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function ti(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Q1({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){lt(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=k.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=ha(n));let{pathname:g="/",search:E="",hash:T="",state:w=null,key:P="default"}=n,q=k.useMemo(()=>{let $=cr(g,m);return $==null?null:{location:{pathname:$,search:E,hash:T,state:w,key:P},navigationType:s}},[m,g,E,T,w,P,s]);return gn(q!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),q==null?null:k.createElement(qn.Provider,{value:p},k.createElement(ou.Provider,{children:e,value:q}))}function K1({children:r,location:e}){return O1(Vm(r),e)}function Vm(r,e=[]){let n=[];return k.Children.forEach(r,(s,o)=>{if(!k.isValidElement(s))return;let u=[...e,o];if(s.type===k.Fragment){n.push.apply(n,Vm(s.props.children,u));return}lt(s.type===ti,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vm(s.props.children,u)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function qh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Y1(r){return qh(r)&&r.tagName.toLowerCase()==="button"}function X1(r){return qh(r)&&r.tagName.toLowerCase()==="form"}function $1(r){return qh(r)&&r.tagName.toLowerCase()==="input"}function Z1(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function J1(r,e){return r.button===0&&(!e||e==="_self")&&!Z1(r)}function Pm(r=""){return new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,n)=>{let s=r[n];return e.concat(Array.isArray(s)?s.map(o=>[n,o]):[[n,s]])},[]))}function W1(r,e){let n=Pm(r);return e&&e.forEach((s,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var Jc=null;function ew(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var tw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!tw.has(r)?(gn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function nw(r,e){let n,s,o,u,f;if(X1(r)){let m=r.getAttribute("action");s=m?cr(m,e):null,n=r.getAttribute("method")||sh,o=vm(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(Y1(r)||$1(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?cr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=vm(r.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!ew()){let{name:g,type:E,value:T}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(qh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function iw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&cr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function rw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function sw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function aw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await rw(u,n);return f.links?f.links():[]}return[]}));return cw(s.flat(1).filter(sw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Fv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function ow(r,e,{includeHydrateFallback:n}={}){return lw(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lw(r){return[...new Set(r)]}function uw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function cw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(uw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function D0(){let r=k.useContext(So);return mp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function hw(){let r=k.useContext(Bh);return mp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pp=k.createContext(void 0);pp.displayName="FrameworkContext";function O0(){let r=k.useContext(pp);return mp(r,"You must render this element inside a <HydratedRouter> element"),r}function fw(r,e){let n=k.useContext(pp),[s,o]=k.useState(!1),[u,f]=k.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=k.useRef(null);k.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=ne=>{ne.forEach(re=>{f(re.isIntersecting)})},F=new IntersectionObserver($,{threshold:.5});return w.current&&F.observe(w.current),()=>{F.disconnect()}}},[r]),k.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let P=()=>{o(!0)},q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:jl(m,P),onBlur:jl(p,q),onMouseEnter:jl(g,P),onMouseLeave:jl(E,q),onTouchStart:jl(T,P)}]:[!1,w,{}]}function jl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function dw({page:r,...e}){let{router:n}=D0(),s=k.useMemo(()=>b0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?k.createElement(pw,{page:r,matches:s,...e}):null}function mw(r){let{manifest:e,routeModules:n}=O0(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return aw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function pw({page:r,matches:e,...n}){let s=gr(),{manifest:o,routeModules:u}=O0(),{basename:f}=D0(),{loaderData:m,matches:p}=hw(),g=k.useMemo(()=>Fv(r,e,p,o,s,"data"),[r,e,p,o,s]),E=k.useMemo(()=>Fv(r,e,p,o,s,"assets"),[r,e,p,o,s]),T=k.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let q=new Set,$=!1;if(e.forEach(ne=>{let re=o.routes[ne.route.id];!re||!re.hasLoader||(!g.some(te=>te.route.id===ne.route.id)&&ne.route.id in m&&u[ne.route.id]?.shouldRevalidate||re.hasClientLoader?$=!0:q.add(ne.route.id))}),q.size===0)return[];let F=iw(r,f,"data");return $&&q.size>0&&F.searchParams.set("_routes",e.filter(ne=>q.has(ne.route.id)).map(ne=>ne.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),w=k.useMemo(()=>ow(E,o),[E,o]),P=mw(E);return k.createElement(k.Fragment,null,T.map(q=>k.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),w.map(q=>k.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),P.map(({key:q,link:$})=>k.createElement("link",{key:q,nonce:n.nonce,...$})))}function gw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var M0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{M0&&(window.__reactRouterVersion="7.10.1")}catch{}function yw({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=k.useRef();o.current==null&&(o.current=e1({window:s,v5Compat:!0}));let u=o.current,[f,m]=k.useState({action:u.action,location:u.location}),p=k.useCallback(g=>{n===!1?m(g):k.startTransition(()=>m(g))},[n]);return k.useLayoutEffect(()=>u.listen(p),[u,p]),k.createElement(Q1,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n===!0})}var V0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hn=k.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},P){let{basename:q,unstable_useTransitions:$}=k.useContext(qn),F=typeof g=="string"&&V0.test(g),ne,re=!1;if(typeof g=="string"&&F&&(ne=g,M0))try{let M=new URL(window.location.href),D=g.startsWith("//")?new URL(M.protocol+g):new URL(g),L=cr(D.pathname,q);D.origin===M.origin&&L!=null?g=L+D.search+D.hash:re=!0}catch{gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=x1(g,{relative:o}),[de,Ae,ye]=fw(s,w),x=Tw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_useTransitions:$});function R(M){e&&e(M),M.defaultPrevented||x(M)}let C=k.createElement("a",{...w,...ye,href:ne||te,onClick:re||u?e:R,ref:gw(P,Ae),target:p,"data-discover":!F&&n==="render"?"true":void 0});return de&&!F?k.createElement(k.Fragment,null,C,k.createElement(dw,{page:te})):C});hn.displayName="Link";var _w=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let T=lu(f,{relative:g.relative}),w=gr(),P=k.useContext(Bh),{navigator:q,basename:$}=k.useContext(qn),F=P!=null&&Cw(T)&&m===!0,ne=q.encodeLocation?q.encodeLocation(T).pathname:T.pathname,re=w.pathname,te=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(re=re.toLowerCase(),te=te?te.toLowerCase():null,ne=ne.toLowerCase()),te&&$&&(te=cr(te,$)||te);const de=ne!=="/"&&ne.endsWith("/")?ne.length-1:ne.length;let Ae=re===ne||!o&&re.startsWith(ne)&&re.charAt(de)==="/",ye=te!=null&&(te===ne||!o&&te.startsWith(ne)&&te.charAt(ne.length)==="/"),x={isActive:Ae,isPending:ye,isTransitioning:F},R=Ae?e:void 0,C;typeof s=="function"?C=s(x):C=[s,Ae?"active":null,ye?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return k.createElement(hn,{...g,"aria-current":R,className:C,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(x):p)});_w.displayName="NavLink";var vw=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},P)=>{let{unstable_useTransitions:q}=k.useContext(qn),$=ww(),F=Rw(m,{relative:g}),ne=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&V0.test(m),te=de=>{if(p&&p(de),de.defaultPrevented)return;de.preventDefault();let Ae=de.nativeEvent.submitter,ye=Ae?.getAttribute("formmethod")||f,x=()=>$(Ae||de.currentTarget,{fetcherKey:e,method:ye,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T});q&&n!==!1?k.startTransition(()=>x()):x()};return k.createElement("form",{ref:P,method:ne,action:F,onSubmit:s?p:te,...w,"data-discover":!re&&r==="render"?"true":void 0})});vw.displayName="Form";function Ew(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(r){let e=k.useContext(So);return lt(e,Ew(r)),e}function Tw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_useTransitions:m}={}){let p=yr(),g=gr(),E=lu(r,{relative:u});return k.useCallback(T=>{if(J1(T,e)){T.preventDefault();let w=n!==void 0?n:Jl(g)===Jl(E),P=()=>p(r,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f});m?k.startTransition(()=>P()):P()}},[g,p,E,n,s,e,r,o,u,f,m])}function bw(r){gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(Pm(r)),n=k.useRef(!1),s=gr(),o=k.useMemo(()=>W1(s.search,n.current?null:e.current),[s.search]),u=yr(),f=k.useCallback((m,p)=>{const g=Pm(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+g,p)},[u,o]);return[o,f]}var Sw=0,Aw=()=>`__${String(++Sw)}__`;function ww(){let{router:r}=P0("useSubmit"),{basename:e}=k.useContext(qn),n=B1(),s=r.fetch,o=r.navigate;return k.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:T}=nw(u,e);if(f.navigate===!1){let w=f.fetcherKey||Aw();await s(w,n,f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{preventScrollReset:f.preventScrollReset,formData:E,body:T,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function Rw(r,{relative:e}={}){let{basename:n}=k.useContext(qn),s=k.useContext(ai);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...lu(r||".",{relative:e})},f=gr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:lr([n,u.pathname])),Jl(u)}function Cw(r,{relative:e}={}){let n=k.useContext(R0);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=P0("useViewTransitionState"),o=lu(r,{relative:e});if(!n.isTransitioning)return!1;let u=cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(o.pathname,f)!=null||_h(o.pathname,u)!=null}const Iw=()=>{};var Gv={};const L0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},xw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},k0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,P=g&63;p||(P=64,f||(w=64)),s.push(n[E],n[T],n[w],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(L0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new Nw;const w=u<<2|m>>4;if(s.push(w),g!==64){const P=m<<4&240|g>>2;if(s.push(P),T!==64){const q=g<<6&192|T;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Nw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dw=function(r){const e=L0(r);return k0.encodeByteArray(e,!0)},vh=function(r){return Dw(r).replace(/\./g,"")},U0=function(r){try{return k0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Mw=()=>Ow().__FIREBASE_DEFAULTS__,Vw=()=>{if(typeof process>"u"||typeof Gv>"u")return;const r=Gv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Pw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&U0(r[1]);return e&&JSON.parse(e)},Hh=()=>{try{return Iw()||Mw()||Vw()||Pw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>Hh()?.emulatorHosts?.[r],Lw=r=>{const e=j0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},z0=()=>Hh()?.config,B0=r=>Hh()?.[`_${r}`];class kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function wo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(r){return(await fetch(r,{credentials:"include"})).ok}function Uw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}const Ql={};function jw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?r.emulator.push(e):r.prod.push(e);return r}function zw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Qv=!1;function H0(r,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Ql[r]===e||Ql[r]||Qv)return;Ql[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=jw().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,P){w.setAttribute("width","24"),w.setAttribute("id",P),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Qv=!0,f()},w}function E(w,P){w.setAttribute("id",P),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=zw(s),P=n("text"),q=document.getElementById(P)||document.createElement("span"),$=n("learnmore"),F=document.getElementById($)||document.createElement("a"),ne=n("preprendIcon"),re=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const te=w.element;m(te),E(F,$);const de=g();p(re,ne),te.append(re,q,F,de),document.body.appendChild(te)}u?(q.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",P)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function qw(){const r=Hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Hw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Fw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Gw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qw(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Kw(){return!qw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Yw(){try{return typeof indexedDB=="object"}catch{return!1}}function Xw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const $w="FirebaseError";class _r extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$w,Object.setPrototypeOf(this,_r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?Zw(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new _r(o,m,s)}}function Zw(r,e){return r.replace(Jw,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const Jw=/\{\$([^}]+)}/g;function Ww(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ia(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Kv(u)&&Kv(f)){if(!ia(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Kv(r){return r!==null&&typeof r=="object"}function cu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function eR(r,e){const n=new tR(r,e);return n.subscribe.bind(n)}class tR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Em),o.error===void 0&&(o.error=Em),o.complete===void 0&&(o.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Em(){}function ut(r){return r&&r._delegate?r._delegate:r}class ra{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ws="[DEFAULT]";class iR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sR(e))try{this.getOrInitializeService({instanceIdentifier:Ws})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ws){return this.instances.has(e)}getOptions(e=Ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ws){return this.component?this.component.multipleInstances?e:Ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rR(r){return r===Ws?void 0:r}function sR(r){return r.instantiationMode==="EAGER"}class aR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const oR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},lR=Me.INFO,uR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},cR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=uR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=cR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const hR=(r,e)=>e.some(n=>r instanceof n);let Yv,Xv;function fR(){return Yv||(Yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dR(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,Lm=new WeakMap,G0=new WeakMap,Tm=new WeakMap,yp=new WeakMap;function mR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(as(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&F0.set(n,r)}).catch(()=>{}),yp.set(e,r),e}function pR(r){if(Lm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Lm.set(r,e)}let km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Lm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||G0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function gR(r){km=r(km)}function yR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bm(this),e,...n);return G0.set(s,e.sort?e.sort():[e]),as(s)}:dR().includes(r)?function(...e){return r.apply(bm(this),e),as(F0.get(this))}:function(...e){return as(r.apply(bm(this),e))}}function _R(r){return typeof r=="function"?yR(r):(r instanceof IDBTransaction&&pR(r),hR(r,fR())?new Proxy(r,km):r)}function as(r){if(r instanceof IDBRequest)return mR(r);if(Tm.has(r))return Tm.get(r);const e=_R(r);return e!==r&&(Tm.set(r,e),yp.set(e,r)),e}const bm=r=>yp.get(r);function vR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=as(f);return s&&f.addEventListener("upgradeneeded",p=>{s(as(f.result),p.oldVersion,p.newVersion,as(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const ER=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],Sm=new Map;function $v(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=TR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}gR(r=>({...r,get:(e,n,s)=>$v(e,n)||r.get(e,n,s),has:(e,n)=>!!$v(e,n)||r.has(e,n)}));class bR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(SR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function SR(r){return r.getComponent()?.type==="VERSION"}const Um="@firebase/app",Zv="0.14.6";const hr=new gp("@firebase/app"),AR="@firebase/app-compat",wR="@firebase/analytics-compat",RR="@firebase/analytics",CR="@firebase/app-check-compat",IR="@firebase/app-check",xR="@firebase/auth",NR="@firebase/auth-compat",DR="@firebase/database",OR="@firebase/data-connect",MR="@firebase/database-compat",VR="@firebase/functions",PR="@firebase/functions-compat",LR="@firebase/installations",kR="@firebase/installations-compat",UR="@firebase/messaging",jR="@firebase/messaging-compat",zR="@firebase/performance",BR="@firebase/performance-compat",qR="@firebase/remote-config",HR="@firebase/remote-config-compat",FR="@firebase/storage",GR="@firebase/storage-compat",QR="@firebase/firestore",KR="@firebase/ai",YR="@firebase/firestore-compat",XR="firebase",$R="12.6.0";const jm="[DEFAULT]",ZR={[Um]:"fire-core",[AR]:"fire-core-compat",[RR]:"fire-analytics",[wR]:"fire-analytics-compat",[IR]:"fire-app-check",[CR]:"fire-app-check-compat",[xR]:"fire-auth",[NR]:"fire-auth-compat",[DR]:"fire-rtdb",[OR]:"fire-data-connect",[MR]:"fire-rtdb-compat",[VR]:"fire-fn",[PR]:"fire-fn-compat",[LR]:"fire-iid",[kR]:"fire-iid-compat",[UR]:"fire-fcm",[jR]:"fire-fcm-compat",[zR]:"fire-perf",[BR]:"fire-perf-compat",[qR]:"fire-rc",[HR]:"fire-rc-compat",[FR]:"fire-gcs",[GR]:"fire-gcs-compat",[QR]:"fire-fst",[YR]:"fire-fst-compat",[KR]:"fire-vertex","fire-js":"fire-js",[XR]:"fire-js-all"};const Eh=new Map,JR=new Map,zm=new Map;function Jv(r,e){try{r.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function go(r){const e=r.name;if(zm.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,r);for(const n of Eh.values())Jv(n,r);for(const n of JR.values())Jv(n,r);return!0}function _p(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Rn(r){return r==null?!1:r.settings!==void 0}const WR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new uu("app","Firebase",WR);class eC{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ra("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}const Ro=$R;function Q0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:jm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=z0()),!n)throw os.create("no-options");const u=Eh.get(o);if(u){if(ia(n,u.options)&&ia(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const f=new aR(o);for(const p of zm.values())f.addComponent(p);const m=new eC(n,s,f);return Eh.set(o,m),m}function K0(r=jm){const e=Eh.get(r);if(!e&&r===jm&&z0())return Q0();if(!e)throw os.create("no-app",{appName:r});return e}function ls(r,e,n){let s=ZR[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(f.join(" "));return}go(new ra(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const tC="firebase-heartbeat-database",nC=1,Wl="firebase-heartbeat-store";let Am=null;function Y0(){return Am||(Am=vR(tC,nC,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),Am}async function iC(r){try{const n=(await Y0()).transaction(Wl),s=await n.objectStore(Wl).get(X0(r));return await n.done,s}catch(e){if(e instanceof _r)hr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function Wv(r,e){try{const s=(await Y0()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,X0(r)),await s.done}catch(n){if(n instanceof _r)hr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function X0(r){return`${r.name}!${r.options.appId}`}const rC=1024,sC=30;class aC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new lC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=eE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>sC){const o=uC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=eE(),{heartbeatsToSend:n,unsentEntries:s}=oC(this._heartbeatsCache.heartbeats),o=vh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hr.warn(e),""}}}function eE(){return new Date().toISOString().substring(0,10)}function oC(r,e=rC){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),tE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),tE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class lC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yw()?Xw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function tE(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function uC(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function cC(r){go(new ra("platform-logger",e=>new bR(e),"PRIVATE")),go(new ra("heartbeat",e=>new aC(e),"PRIVATE")),ls(Um,Zv,r),ls(Um,Zv,"esm2020"),ls("fire-js","")}cC("");var hC="firebase",fC="12.6.0";ls(hC,fC,"app");function $0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dC=$0,Z0=new uu("auth","Firebase",$0());const Th=new gp("@firebase/auth");function mC(r,...e){Th.logLevel<=Me.WARN&&Th.warn(`Auth (${Ro}): ${r}`,...e)}function oh(r,...e){Th.logLevel<=Me.ERROR&&Th.error(`Auth (${Ro}): ${r}`,...e)}function si(r,...e){throw vp(r,...e)}function Ni(r,...e){return vp(r,...e)}function J0(r,e,n){const s={...dC(),[e]:n};return new uu("auth","Firebase",s).create(e,{appName:r.name})}function Di(r){return J0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Z0.create(r,...e)}function ve(r,e,...n){if(!r)throw vp(e,...n)}function ar(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function fr(r,e){r||ar(e)}function Bm(){return typeof self<"u"&&self.location?.href||""}function pC(){return nE()==="http:"||nE()==="https:"}function nE(){return typeof self<"u"&&self.location?.protocol||null}function gC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pC()||Fw()||"connection"in navigator)?navigator.onLine:!0}function yC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=Bw()||Gw()}get(){return gC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ep(r,e){fr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class W0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EC=new hu(3e4,6e4);function ys(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ji(r,e,n,s,o={}){return eT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=cu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return Hw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&wo(r.emulatorConfig.host)&&(g.credentials="include"),W0.fetch()(await tT(r,r.config.apiHost,n,m),g)})}async function eT(r,e,n){r._canInitEmulator=!1;const s={..._C,...e};try{const o=new bC(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw J0(r,E,g);si(r,E)}}catch(o){if(o instanceof _r)throw o;si(r,"network-request-failed",{message:String(o)})}}async function fu(r,e,n,s,o={}){const u=await ji(r,e,n,s,o);return"mfaPendingCredential"in u&&si(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function tT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Ep(r.config,o):`${r.config.apiScheme}://${o}`;return vC.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function TC(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ni(this.auth,"network-request-failed")),EC.get())})}}function Wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ni(r,e,s);return o.customData._tokenResponse=n,o}function iE(r){return r!==void 0&&r.enterprise!==void 0}class SC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AC(r,e){return ji(r,"GET","/v2/recaptchaConfig",ys(r,e))}async function wC(r,e){return ji(r,"POST","/v1/accounts:delete",e)}async function bh(r,e){return ji(r,"POST","/v1/accounts:lookup",e)}function Kl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RC(r,e=!1){const n=ut(r),s=await n.getIdToken(e),o=Tp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Kl(wm(o.auth_time)),issuedAtTime:Kl(wm(o.iat)),expirationTime:Kl(wm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(r){return Number(r)*1e3}function Tp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=U0(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function rE(r){const e=Tp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function sa(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof _r&&CC(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function CC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class IC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Sh(r){const e=r.auth,n=await r.getIdToken(),s=await sa(r,bh(e,{idToken:n}));ve(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?nT(o.providerUserInfo):[],f=NC(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function xC(r){const e=ut(r);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function nT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function DC(r,e){const n=await eT(r,{},async()=>{const s=cu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await tT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&wo(r.emulatorConfig.host)&&(p.credentials="include"),W0.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function OC(r,e){return ji(r,"POST","/v2/accounts:revokeToken",ys(r,e))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):rE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=rE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await DC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ho;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return ar("not implemented")}}function Wr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ni{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new IC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await sa(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RC(this,e)}reload(){return xC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ni({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(Di(this.auth));const e=await this.getIdToken();return await sa(this,wC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:P,providerData:q,stsTokenManager:$}=n;ve(T&&$,e,"internal-error");const F=ho.fromJSON(this.name,$);ve(typeof T=="string",e,"internal-error"),Wr(s,e.name),Wr(o,e.name),ve(typeof w=="boolean",e,"internal-error"),ve(typeof P=="boolean",e,"internal-error"),Wr(u,e.name),Wr(f,e.name),Wr(m,e.name),Wr(p,e.name),Wr(g,e.name),Wr(E,e.name);const ne=new ni({uid:T,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:P,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:E});return q&&Array.isArray(q)&&(ne.providerData=q.map(re=>({...re}))),p&&(ne._redirectEventId=p),ne}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new ni({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Sh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ho;m.updateFromIdToken(s);const p=new ni({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const sE=new Map;function or(r){fr(r instanceof Function,"Expected a class definition");let e=sE.get(r);return e?(fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,sE.set(r,e),e)}class iT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iT.type="NONE";const aE=iT;function lh(r,e,n){return`firebase:${r}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await bh(this.auth,{idToken:e}).catch(()=>{});return n?ni._fromGetAccountInfoResponse(this.auth,n,e):null}return ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(or(aE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||or(aE);const f=lh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let T;if(typeof E=="string"){const w=await bh(e,{idToken:E}).catch(()=>{});if(!w)break;T=await ni._fromGetAccountInfoResponse(e,w,E)}else T=ni._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new fo(u,e,s))}}function oE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(cT(e))return"Webos";if(sT(e))return"Safari";if((e.includes("chrome/")||aT(e))&&!e.includes("edge/"))return"Chrome";if(lT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function rT(r=Wt()){return/firefox\//i.test(r)}function sT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aT(r=Wt()){return/crios\//i.test(r)}function oT(r=Wt()){return/iemobile/i.test(r)}function lT(r=Wt()){return/android/i.test(r)}function uT(r=Wt()){return/blackberry/i.test(r)}function cT(r=Wt()){return/webos/i.test(r)}function bp(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function MC(r=Wt()){return bp(r)&&!!window.navigator?.standalone}function VC(){return Qw()&&document.documentMode===10}function hT(r=Wt()){return bp(r)||lT(r)||cT(r)||uT(r)||/windows phone/i.test(r)||oT(r)}function fT(r,e=[]){let n;switch(r){case"Browser":n=oE(Wt());break;case"Worker":n=`${oE(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}class PC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function LC(r,e={}){return ji(r,"GET","/v2/passwordPolicy",ys(r,e))}const kC=6;class UC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??kC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class jC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lE(this),this.idTokenSubscription=new lE(this),this.beforeStateQueue=new PC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await bh(this,{idToken:e}),s=await ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Rn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(Di(this));const n=e?ut(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(Di(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(Di(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LC(this),n=new UC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new uu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await OC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function fa(r){return ut(r)}class lE{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zC(r){Fh=r}function dT(r){return Fh.loadJS(r)}function BC(){return Fh.recaptchaEnterpriseScript}function qC(){return Fh.gapiScript}function HC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class FC{constructor(){this.enterprise=new GC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const QC="recaptcha-enterprise",mT="NO_RECAPTCHA";class KC{constructor(e){this.type=QC,this.auth=fa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{AC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new SC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;iE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(mT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&iE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=BC();p.length!==0&&(p+=m),dT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function uE(r,e,n,s=!1,o=!1){const u=new KC(r);let f;if(o)f=mT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Hm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await uE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await uE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function YC(r,e){const n=_p(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ia(u,e??{}))return o;si(o,"already-initialized")}return n.initialize({options:e})}function XC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(or);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function $C(r,e,n){const s=fa(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=pT(e),{host:f,port:m}=ZC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ia(g,s.config.emulator)&&ia(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,wo(f)?(q0(`${u}//${f}${p}`),H0("Auth",!0)):JC()}function pT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ZC(r){const e=pT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:cE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:cE(f)}}}function cE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function JC(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ar("not implemented")}_getIdTokenResponse(e){return ar("not implemented")}_linkToIdToken(e,n){return ar("not implemented")}_getReauthenticationResolver(e){return ar("not implemented")}}async function WC(r,e){return ji(r,"POST","/v1/accounts:update",e)}async function eI(r,e){return ji(r,"POST","/v1/accounts:signUp",e)}async function tI(r,e){return fu(r,"POST","/v1/accounts:signInWithPassword",ys(r,e))}async function nI(r,e){return fu(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}async function iI(r,e){return fu(r,"POST","/v1/accounts:signInWithEmailLink",ys(r,e))}class eu extends Sp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",tI);case"emailLink":return nI(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,s,"signUpPassword",eI);case"emailLink":return iI(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function mo(r,e){return fu(r,"POST","/v1/accounts:signInWithIdp",ys(r,e))}const rI="http://localhost";class aa extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:rI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cu(n)}return e}}function sI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aI(r){const e=zl(Bl(r)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(r)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||r}class Ap{constructor(e){const n=zl(Bl(e)),s=n.apiKey??null,o=n.oobCode??null,u=sI(n.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=aI(e);try{return new Ap(n)}catch{return null}}}class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ap.parseLink(n);return ve(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class du extends gT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ts extends du{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";class ns extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";class is extends du{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";class rs extends du{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";async function oI(r,e){return fu(r,"POST","/v1/accounts:signUp",ys(r,e))}class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ni._fromIdTokenResponse(e,s,o),f=hE(s);return new oa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=hE(s);return new oa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function hE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ah extends _r{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ah.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ah(e,n,s,o)}}function yT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ah._fromErrorAndOperation(r,u,e,s):u})}async function lI(r,e,n=!1){const s=await sa(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return oa._forOperation(r,"link",s)}async function uI(r,e,n=!1){const{auth:s}=r;if(Rn(s.app))return Promise.reject(Di(s));const o="reauthenticate";try{const u=await sa(r,yT(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Tp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),oa._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&si(s,"user-mismatch"),u}}async function _T(r,e,n=!1){if(Rn(r.app))return Promise.reject(Di(r));const s="signIn",o=await yT(r,s,e),u=await oa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function cI(r,e){return _T(fa(r),e)}async function vT(r){const e=fa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hI(r,e,n){if(Rn(r.app))return Promise.reject(Di(r));const s=fa(r),f=await Hm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vT(r),p}),m=await oa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function fI(r,e,n){return Rn(r.app)?Promise.reject(Di(r)):cI(ut(r),Co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vT(r),s})}async function dI(r,e){return ji(r,"POST","/v1/accounts:update",e)}async function mI(r,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=ut(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await sa(s,dI(s.auth,u));s.displayName=f.displayName||null,s.photoURL=f.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(f)}function pI(r,e){const n=ut(r);return Rn(n.auth.app)?Promise.reject(Di(n.auth)):ET(n,e,null)}function gI(r,e){return ET(ut(r),null,e)}async function ET(r,e,n){const{auth:s}=r,u={idToken:await r.getIdToken(),returnSecureToken:!0};e&&(u.email=e),n&&(u.password=n);const f=await sa(r,WC(s,u));await r._updateTokensIfNecessary(f,!0)}function yI(r,e,n,s){return ut(r).onIdTokenChanged(e,n,s)}function _I(r,e,n){return ut(r).beforeAuthStateChanged(e,n)}function vI(r,e,n,s){return ut(r).onAuthStateChanged(e,n,s)}function EI(r){return ut(r).signOut()}const wh="__sak";class TT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const TI=1e3,bI=10;class bT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);VC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,bI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},TI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bT.type="LOCAL";const SI=bT;class ST extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ST.type="SESSION";const AT=ST;function AI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Gh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await AI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function wp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class wI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=wp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Oi(){return window}function RI(r){Oi().location.href=r}function wT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function CI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function II(){return navigator?.serviceWorker?.controller||null}function xI(){return wT()?self:null}const RT="firebaseLocalStorageDb",NI=1,Rh="firebaseLocalStorage",CT="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,e){return r.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function DI(){const r=indexedDB.deleteDatabase(RT);return new mu(r).toPromise()}function Fm(){const r=indexedDB.open(RT,NI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Rh,{keyPath:CT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await DI(),e(await Fm()))})})}async function fE(r,e,n){const s=Qh(r,!0).put({[CT]:e,value:n});return new mu(s).toPromise()}async function OI(r,e){const n=Qh(r,!1).get(e),s=await new mu(n).toPromise();return s===void 0?null:s.value}function dE(r,e){const n=Qh(r,!0).delete(e);return new mu(n).toPromise()}const MI=800,VI=3;class IT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>VI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(xI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await CI(),!this.activeServiceWorker)return;this.sender=new wI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||II()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await fE(e,wh,"1"),await dE(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>fE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>OI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IT.type="LOCAL";const PI=IT;new hu(3e4,6e4);function LI(r,e){return e?or(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Rp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kI(r){return _T(r.auth,new Rp(r),r.bypassAuthState)}function UI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),uI(n,new Rp(r),r.bypassAuthState)}async function jI(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),lI(n,new Rp(r),r.bypassAuthState)}class xT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kI;case"linkViaPopup":case"linkViaRedirect":return jI;case"reauthViaPopup":case"reauthViaRedirect":return UI;default:si(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zI=new hu(2e3,1e4);class co extends xT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zI.get())};e()}}co.currentPopupAction=null;const BI="pendingRedirect",uh=new Map;class qI extends xT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await HI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HI(r,e){const n=QI(e),s=GI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function FI(r,e){uh.set(r._key(),e)}function GI(r){return or(r._redirectPersistence)}function QI(r){return lh(BI,r.config.apiKey,r.name)}async function KI(r,e,n=!1){if(Rn(r.app))return Promise.reject(Di(r));const s=fa(r),o=LI(s,e),f=await new qI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const YI=600*1e3;class XI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$I(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!NT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ni(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YI&&this.cachedEventUids.clear(),this.cachedEventUids.has(mE(e))}saveEventToCache(e){this.cachedEventUids.add(mE(e)),this.lastProcessedEventTime=Date.now()}}function mE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function NT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function $I(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NT(r);default:return!1}}async function ZI(r,e={}){return ji(r,"GET","/v1/projects",e)}const JI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WI=/^https?/;async function ex(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ZI(r);for(const n of e)try{if(tx(n))return}catch{}si(r,"unauthorized-domain")}function tx(r){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!WI.test(n))return!1;if(JI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const nx=new hu(3e4,6e4);function pE(){const r=Oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ix(r){return new Promise((e,n)=>{function s(){pE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pE(),n(Ni(r,"network-request-failed"))},timeout:nx.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const o=HC("iframefcb");return Oi()[o]=()=>{gapi.load?s():n(Ni(r,"network-request-failed"))},dT(`${qC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function rx(r){return ch=ch||ix(r),ch}const sx=new hu(5e3,15e3),ax="__/auth/iframe",ox="emulator/auth/iframe",lx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cx(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ep(e,ox):`https://${r.config.authDomain}/${ax}`,s={apiKey:e.apiKey,appName:r.name,v:Ro},o=ux.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${cu(s).slice(1)}`}async function hx(r){const e=await rx(r),n=Oi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:cx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ni(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},sx.get());function p(){Oi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dx=500,mx=600,px="_blank",gx="http://localhost";class gE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yx(r,e,n,s=dx,o=mx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...fx,width:s.toString(),height:o.toString(),top:u,left:f},g=Wt().toLowerCase();n&&(m=aT(g)?px:n),rT(g)&&(e=e||gx,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[P,q])=>`${w}${P}=${q},`,"");if(MC(g)&&m!=="_self")return _x(e||"",m),new gE(null);const T=window.open(e||"",m,E);ve(T,r,"popup-blocked");try{T.focus()}catch{}return new gE(T)}function _x(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const vx="__/auth/handler",Ex="emulator/auth/handler",Tx=encodeURIComponent("fac");async function yE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(e instanceof gT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",Ww(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))f[E]=T}if(e instanceof du){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${Tx}=${encodeURIComponent(p)}`:"";return`${bx(r)}?${cu(m).slice(1)}${g}`}function bx({config:r}){return r.emulator?Ep(r,Ex):`https://${r.authDomain}/${vx}`}const Rm="webStorageSupport";class Sx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AT,this._completeRedirectFn=KI,this._overrideRedirectResult=FI}async _openPopup(e,n,s,o){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await yE(e,n,s,Bm(),o);return yx(e,u,wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await yE(e,n,s,Bm(),o);return RI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await hx(e),s=new XI(e);return n.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rm,{type:Rm},o=>{const u=o?.[0]?.[Rm];u!==void 0&&n(!!u),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ex(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hT()||sT()||bp()}}const Ax=Sx;var _E="@firebase/auth",vE="1.11.1";class wx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Rx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cx(r){go(new ra("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fT(r)},g=new jC(s,o,u,p);return XC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),go(new ra("auth-internal",e=>{const n=fa(e.getProvider("auth").getImmediate());return(s=>new wx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(_E,vE,Rx(r)),ls(_E,vE,"esm2020")}const Ix=300,xx=B0("authIdTokenMaxAge")||Ix;let EE=null;const Nx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>xx)return;const o=n?.token;EE!==o&&(EE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Dx(r=K0()){const e=_p(r,"auth");if(e.isInitialized())return e.getImmediate();const n=YC(r,{popupRedirectResolver:Ax,persistence:[PI,SI,AT]}),s=B0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Nx(u.toString());_I(n,f,()=>f(n.currentUser)),yI(n,m=>f(m))}}const o=j0("auth");return o&&$C(n,`http://${o}`),n}function Ox(){return document.getElementsByTagName("head")?.[0]??document}zC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ni("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Ox().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cx("Browser");var TE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var us,DT;(function(){var r;function e(x,R){function C(){}C.prototype=R.prototype,x.F=R.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(M,D,L){for(var I=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)I[ze-2]=arguments[ze];return R.prototype[D].apply(M,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,C){C||(C=0);const M=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)M[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)M[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=x.g[0],C=x.g[1],D=x.g[2];let L=x.g[3],I;I=R+(L^C&(D^L))+M[0]+3614090360&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(D^R&(C^D))+M[1]+3905402710&4294967295,L=R+(I<<12&4294967295|I>>>20),I=D+(C^L&(R^C))+M[2]+606105819&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(R^D&(L^R))+M[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(L^C&(D^L))+M[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(D^R&(C^D))+M[5]+1200080426&4294967295,L=R+(I<<12&4294967295|I>>>20),I=D+(C^L&(R^C))+M[6]+2821735955&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(R^D&(L^R))+M[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(L^C&(D^L))+M[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(D^R&(C^D))+M[9]+2336552879&4294967295,L=R+(I<<12&4294967295|I>>>20),I=D+(C^L&(R^C))+M[10]+4294925233&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(R^D&(L^R))+M[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(L^C&(D^L))+M[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(D^R&(C^D))+M[13]+4254626195&4294967295,L=R+(I<<12&4294967295|I>>>20),I=D+(C^L&(R^C))+M[14]+2792965006&4294967295,D=L+(I<<17&4294967295|I>>>15),I=C+(R^D&(L^R))+M[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=R+(D^L&(C^D))+M[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(R^C))+M[6]+3225465664&4294967295,L=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(L^R))+M[11]+643717713&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(D^L))+M[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^L&(C^D))+M[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(R^C))+M[10]+38016083&4294967295,L=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(L^R))+M[15]+3634488961&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(D^L))+M[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^L&(C^D))+M[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(R^C))+M[14]+3275163606&4294967295,L=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(L^R))+M[3]+4107603335&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(D^L))+M[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(D^L&(C^D))+M[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^D&(R^C))+M[2]+4243563512&4294967295,L=R+(I<<9&4294967295|I>>>23),I=D+(R^C&(L^R))+M[7]+1735328473&4294967295,D=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(D^L))+M[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=R+(C^D^L)+M[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^D)+M[8]+2272392833&4294967295,L=R+(I<<11&4294967295|I>>>21),I=D+(L^R^C)+M[11]+1839030562&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^R)+M[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^L)+M[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^D)+M[4]+1272893353&4294967295,L=R+(I<<11&4294967295|I>>>21),I=D+(L^R^C)+M[7]+4139469664&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^R)+M[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^L)+M[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^D)+M[0]+3936430074&4294967295,L=R+(I<<11&4294967295|I>>>21),I=D+(L^R^C)+M[3]+3572445317&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^R)+M[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(C^D^L)+M[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^D)+M[12]+3873151461&4294967295,L=R+(I<<11&4294967295|I>>>21),I=D+(L^R^C)+M[15]+530742520&4294967295,D=L+(I<<16&4294967295|I>>>16),I=C+(D^L^R)+M[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=R+(D^(C|~L))+M[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~D))+M[7]+1126891415&4294967295,L=R+(I<<10&4294967295|I>>>22),I=D+(R^(L|~C))+M[14]+2878612391&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~R))+M[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~L))+M[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~D))+M[3]+2399980690&4294967295,L=R+(I<<10&4294967295|I>>>22),I=D+(R^(L|~C))+M[10]+4293915773&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~R))+M[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~L))+M[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~D))+M[15]+4264355552&4294967295,L=R+(I<<10&4294967295|I>>>22),I=D+(R^(L|~C))+M[6]+2734768916&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~R))+M[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=R+(D^(C|~L))+M[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~D))+M[11]+3174756917&4294967295,L=R+(I<<10&4294967295|I>>>22),I=D+(R^(L|~C))+M[2]+718787259&4294967295,D=L+(I<<15&4294967295|I>>>17),I=C+(L^(D|~R))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.v=function(x,R){R===void 0&&(R=x.length);const C=R-this.blockSize,M=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=C;)o(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<R;)if(M[D++]=x.charCodeAt(L++),D==this.blockSize){o(this,M),D=0;break}}else for(;L<R;)if(M[D++]=x[L++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;R=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=R&255,R/=256;for(this.v(x),x=Array(16),R=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)x[R++]=this.g[C]>>>M&255;return x};function u(x,R){var C=m;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=R(x)}function f(x,R){this.h=R;const C=[];let M=!0;for(let D=x.length-1;D>=0;D--){const L=x[D]|0;M&&L==R||(C[D]=L,M=!1)}this.g=C}var m={};function p(x){return-128<=x&&x<128?u(x,function(R){return new f([R|0],R<0?-1:0)}):new f([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return F(g(-x));const R=[];let C=1;for(let M=0;x>=C;M++)R[M]=x/C|0,C*=4294967296;return new f(R,0)}function E(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return F(E(x.substring(1),R));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let M=T;for(let L=0;L<x.length;L+=8){var D=Math.min(8,x.length-L);const I=parseInt(x.substring(L,L+D),R);D<8?(D=g(Math.pow(R,D)),M=M.j(D).add(g(I))):(M=M.j(C),M=M.add(g(I)))}return M}var T=p(0),w=p(1),P=p(16777216);r=f.prototype,r.m=function(){if($(this))return-F(this).m();let x=0,R=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);x+=(M>=0?M:4294967296+M)*R,R*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(q(this))return"0";if($(this))return"-"+F(this).toString(x);const R=g(Math.pow(x,6));var C=this;let M="";for(;;){const D=de(C,R).g;C=ne(C,D.j(R));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,q(C))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function q(x){if(x.h!=0)return!1;for(let R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function $(x){return x.h==-1}r.l=function(x){return x=ne(this,x),$(x)?-1:q(x)?0:1};function F(x){const R=x.g.length,C=[];for(let M=0;M<R;M++)C[M]=~x.g[M];return new f(C,~x.h).add(w)}r.abs=function(){return $(this)?F(this):this},r.add=function(x){const R=Math.max(this.g.length,x.g.length),C=[];let M=0;for(let D=0;D<=R;D++){let L=M+(this.i(D)&65535)+(x.i(D)&65535),I=(L>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);M=I>>>16,L&=65535,I&=65535,C[D]=I<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function ne(x,R){return x.add(F(R))}r.j=function(x){if(q(this)||q(x))return T;if($(this))return $(x)?F(this).j(F(x)):F(F(this).j(x));if($(x))return F(this.j(F(x)));if(this.l(P)<0&&x.l(P)<0)return g(this.m()*x.m());const R=this.g.length+x.g.length,C=[];for(var M=0;M<2*R;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<x.g.length;D++){const L=this.i(M)>>>16,I=this.i(M)&65535,ze=x.i(D)>>>16,ht=x.i(D)&65535;C[2*M+2*D]+=I*ht,re(C,2*M+2*D),C[2*M+2*D+1]+=L*ht,re(C,2*M+2*D+1),C[2*M+2*D+1]+=I*ze,re(C,2*M+2*D+1),C[2*M+2*D+2]+=L*ze,re(C,2*M+2*D+2)}for(x=0;x<R;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=R;x<2*R;x++)C[x]=0;return new f(C,0)};function re(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function te(x,R){this.g=x,this.h=R}function de(x,R){if(q(R))throw Error("division by zero");if(q(x))return new te(T,T);if($(x))return R=de(F(x),R),new te(F(R.g),F(R.h));if($(R))return R=de(x,F(R)),new te(F(R.g),R.h);if(x.g.length>30){if($(x)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,M=R;M.l(x)<=0;)C=Ae(C),M=Ae(M);var D=ye(C,1),L=ye(M,1);for(M=ye(M,2),C=ye(C,2);!q(M);){var I=L.add(M);I.l(x)<=0&&(D=D.add(C),L=I),M=ye(M,1),C=ye(C,1)}return R=ne(x,D.j(R)),new te(D,R)}for(D=T;x.l(R)>=0;){for(C=Math.max(1,Math.floor(x.m()/R.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=g(C),I=L.j(R);$(I)||I.l(x)>0;)C-=M,L=g(C),I=L.j(R);q(L)&&(L=w),D=D.add(L),x=ne(x,I)}return new te(D,x)}r.B=function(x){return de(this,x).h},r.and=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)&x.i(M);return new f(C,this.h&x.h)},r.or=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)|x.i(M);return new f(C,this.h|x.h)},r.xor=function(x){const R=Math.max(this.g.length,x.g.length),C=[];for(let M=0;M<R;M++)C[M]=this.i(M)^x.i(M);return new f(C,this.h^x.h)};function Ae(x){const R=x.g.length+1,C=[];for(let M=0;M<R;M++)C[M]=x.i(M)<<1|x.i(M-1)>>>31;return new f(C,x.h)}function ye(x,R){const C=R>>5;R%=32;const M=x.g.length-C,D=[];for(let L=0;L<M;L++)D[L]=R>0?x.i(L+C)>>>R|x.i(L+C+1)<<32-R:x.i(L+C);return new f(D,x.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,DT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,us=f}).apply(typeof TE<"u"?TE:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var OT,ql,MT,hh,Gm,VT,PT,LT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break e;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,Q){for(var se=Array(arguments.length-2),we=2;we<arguments.length;we++)se[we-2]=arguments[we];return y.prototype[j].apply(A,se)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function P(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function q(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const Q=j.length||0;c.length=v+Q;for(let se=0;se<Q;se++)c[v+se]=j[se]}else c.push(j)}}class ${constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function F(c){f.setTimeout(()=>{throw c},0)}function ne(){var c=x;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,v){const A=te.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var te=new $(()=>new de,c=>c.reset());class de{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ae,ye=!1,x=new re,R=()=>{const c=Promise.resolve(void 0);Ae=()=>{c.then(C)}};function C(){for(var c;c=ne();){try{c.h.call(c.g)}catch(v){F(v)}var y=te;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ye=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function ze(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(ze,D),ze.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&ze.Z.h.call(this)},ze.prototype.h=function(){ze.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ht="closure_listenable_"+(Math.random()*1e6|0),G=0;function oe(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++G,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Le(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function He(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function V(c){const y={};for(const v in c)y[v]=c[v];return y}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let Q=0;Q<K.length;Q++)v=K[Q],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,y,v,A,j){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const se=Ce(c,y,A,j);return se>-1?(y=c[se],v||(y.fa=!1)):(y=new oe(y,this.src,Q,!!A,j),y.fa=v,c.push(y)),y};function ue(c,y){const v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),Q;(Q=j>=0)&&Array.prototype.splice.call(A,j,1),Q&&(me(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ce(c,y,v,A){for(let j=0;j<c.length;++j){const Q=c[j];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==A)return j}return-1}var Ue="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,y,v,A,j){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)st(c,y[Q],v,A,j);return null}return v=Po(v),c&&c[ht]?c.J(y,v,m(A)?!!A.capture:!1,j):Ts(c,y,v,!1,A,j)}function Ts(c,y,v,A,j,Q){if(!y)throw Error("Invalid event type");const se=m(j)?!!j.capture:!!j;let we=bs(c);if(we||(c[Ue]=we=new ae(c)),v=we.add(y,v,A,se,Q),v.proxy)return v;if(A=ga(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)L||(j=se),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(oi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ga(){function c(v){return y.call(c.src,c.listener,v)}const y=Mo;return c}function ya(c,y,v,A,j){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ya(c,y[Q],v,A,j);else A=m(A)?!!A.capture:!!A,v=Po(v),c&&c[ht]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],v=Ce(y,v,A,j),v>-1&&(me(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=bs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ce(y,v,A,j)),(v=c>-1?y[c]:null)&&_a(v))}function _a(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[ht])ue(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(oi(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=bs(y))?(ue(v,c),v.h==0&&(v.src=null,y[Ue]=null)):me(c)}}}function oi(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Mo(c,y){if(c.da)c=!0;else{y=new ze(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&_a(c),c=v.call(A,y)}return c}function bs(c){return c=c[Ue],c instanceof ae?c:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(y){return c.handleEvent(y)}),c[Vo])}function Et(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}T(Et,M),Et.prototype[ht]=!0,Et.prototype.removeEventListener=function(c,y,v,A){ya(this,c,y,v,A)};function Ot(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var j=y;y=new D(A,c),ie(y,j)}j=!0;let Q,se;if(v)for(se=v.length-1;se>=0;se--)Q=y.g=v[se],j=Er(Q,A,!0,y)&&j;if(Q=y.g=c,j=Er(Q,A,!0,y)&&j,j=Er(Q,A,!1,y)&&j,v)for(se=0;se<v.length;se++)Q=y.g=v[se],j=Er(Q,A,!1,y)&&j}Et.prototype.N=function(){if(Et.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)me(v[A]);delete c.g[y],c.h--}}this.G=null},Et.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Et.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Er(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let Q=0;Q<y.length;++Q){const se=y[Q];if(se&&!se.da&&se.capture==v){const we=se.listener,pt=se.ha||se.src;se.fa&&ue(c.i,se),j=we.call(pt,A)!==!1&&j}}return j&&!A.defaultPrevented}function mf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Su(c){c.g=mf(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ss(c){M.call(this),this.h=c,this.g={}}T(Ss,M);var Lo=[];function ko(c){Le(c.g,function(y,v){this.g.hasOwnProperty(v)&&_a(y)},c),c.g={}}Ss.prototype.N=function(){Ss.Z.N.call(this),ko(this)},Ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=f.JSON.stringify,pf=f.JSON.parse,Au=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function Ru(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}T(zt,D);function In(){D.call(this,"c")}T(In,D);var mt={},Cu=null;function va(){return Cu=Cu||new Et}mt.Ia="serverreachability";function Iu(c){D.call(this,mt.Ia,c)}T(Iu,D);function li(c){const y=va();Ot(y,new Iu(y))}mt.STAT_EVENT="statevent";function As(c,y){D.call(this,mt.STAT_EVENT,c),this.stat=y}T(As,D);function Tt(c){const y=va();Ot(y,new As(y,c))}mt.Ja="timingevent";function ui(c,y){D.call(this,mt.Ja,c),this.size=y}T(ui,D);function ci(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function gf(c,y,v,A,j,Q){c.info(function(){if(c.g)if(Q){var se="",we=Q.split("&");for(let Fe=0;Fe<we.length;Fe++){var pt=we[Fe].split("=");if(pt.length>1){const at=pt[0];pt=pt[1];const On=at.split("_");se=On.length>=2&&On[1]=="type"?se+(at+"="+pt+"&"):se+(at+"=redacted&")}}}else se=null;else se=Q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+se})}function xu(c,y,v,A,j,Q,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+Q+" "+se})}function hi(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yf(c,v)+(A?" "+A:"")})}function ws(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function yf(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let se=1;se<A.length;se++)A[se]=""}}}}return Tr(Q)}catch{return y}}var Rs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Uo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},jo;function Cs(){}T(Cs,wu),Cs.prototype.g=function(){return new XMLHttpRequest},jo=new Cs;function Bi(c){return encodeURIComponent(String(c))}function Nu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Gn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new Ss(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var bt={},Lt={};function fi(c,y,v){c.M=1,c.A=Is(At(y)),c.u=v,c.R=!0,Ea(c,null)}function Ea(c,y){c.F=Date.now(),di(c),c.B=At(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Aa(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Qn,c.g=Gu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Lo[0]=j.toString()),j=Lo);for(let Q=0;Q<j.length;Q++){const se=st(v,j[Q],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.J?V(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),li(),gf(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Xn(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const we=Xn(this.g),pt=this.g.ya(),Fe=this.g.ca();if(!(we<3)&&(we!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||we!=4||pt==7||(pt==8||Fe<=0?li(3):li(2)),mi(this);var y=this.g.ca();this.X=y;var v=_f(this);if(this.o=y==200,xu(this.i,this.v,this.B,this.l,this.S,we,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(A)){var Q=A;break t}}Q=null}if(c=Q)hi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,c);else{this.o=!1,this.m=3,Tt(12),yn(this),xn(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<v.length;)if(at=Ou(this,v),at==Lt){we==4&&(this.m=4,Tt(14),c=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==bt){this.m=4,Tt(15),hi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else hi(this.i,this.l,at,null),pi(this,at);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),we!=4||v.length!=0||this.h.h||(this.m=1,Tt(16),c=!1),this.o=this.o&&c,!c)hi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),el(se),se.P=!0,Tt(11))}}else hi(this.i,this.l,v,null),pi(this,v);we==4&&yn(this),this.o&&!this.K&&(we==4?Bu(this.j,this):(this.o=!1,di(this)))}else Hi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),yn(this),xn(this)}}}catch{}finally{}};function _f(c){if(!Du(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let v="";const A=y.length,j=Xn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),xn(c),"";c.h.i=new f.TextDecoder}for(let Q=0;Q<A;Q++)c.h.h=!0,v+=c.h.i.decode(y[Q],{stream:!(j&&Q==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ou(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Lt:(v=Number(y.substring(v,A)),isNaN(v)?bt:(A+=1,A+v>y.length?Lt:(y=y.slice(A,A+v),c.C=A+v,y)))}Gn.prototype.cancel=function(){this.K=!0,yn(this)};function di(c){c.T=Date.now()+c.H,Ta(c,c.H)}function Ta(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(g(c.aa,c),y)}function mi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ws(this.i,this.B),this.M!=2&&(li(),Tt(17)),yn(this),this.m=2,xn(this)):Ta(this,this.T-c)};function xn(c){c.j.I==0||c.K||Bu(c.j,c)}function yn(c){mi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,ko(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function pi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||yi(v.h,c))){if(!c.L&&yi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)xa(v),xr(v);else break e;Ps(v),Tt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(g(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&xa(v),!I(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let Fe=j[y];const at=Fe[0];if(!(at<=v.K))if(v.K=at,Fe=Fe[1],v.I==2)if(Fe[0]=="c"){v.M=Fe[1],v.ba=Fe[2];const On=Fe[3];On!=null&&(v.ka=On,v.j.info("VER="+v.ka));const Ai=Fe[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const $n=Fe[5];$n!=null&&typeof $n=="number"&&$n>0&&(A=1.5*$n,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Zn=c.g;if(Zn){const Ls=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ls){var Q=A.h;Q.g||Ls.indexOf("spdy")==-1&&Ls.indexOf("quic")==-1&&Ls.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(qo(Q,Q.h),Q.h=null))}if(A.G){const Na=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(A.wa=Na,Ke(A.J,A.G,Na))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var se=c;if(A.na=Fu(A,A.L?A.ba:null,A.W),se.L){Ho(A.h,se);var we=se,pt=A.O;pt&&(we.H=pt),we.D&&(mi(we),di(we)),A.g=se}else ju(A);v.i.length>0&&bi(v)}else Fe[0]!="stop"&&Fe[0]!="close"||Si(v,7);else v.I==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Si(v,7):Jo(v):Fe[0]!="noop"&&v.l&&v.l.qa(Fe),v.A=0)}}li(4)}catch{}}var St=class{constructor(c,y){this.g=c,this.map=y}};function zo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function gi(c){return c.h?1:c.g?c.g.size:0}function yi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qo(c,y){c.g?c.g.add(y):c.h=y}function Ho(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}zo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Fo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return P(c.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,Q=null;A>=0?(j=c[v].substring(0,A),Q=c[v].substring(A+1)):j=c[v],y(j,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof _n?(this.l=c.l,kt(this,c.j),this.o=c.o,this.g=c.g,br(this,c.u),this.h=c.h,Go(this,ku(c.i)),this.m=c.m):c&&(y=String(c).match(Mu))?(this.l=!1,kt(this,y[1]||"",!0),this.o=_i(y[2]||""),this.g=_i(y[3]||"",!0),br(this,y[4]),this.h=_i(y[5]||"",!0),Go(this,y[6]||"",!0),this.m=_i(y[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}_n.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,Sa,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,Sa,!0),"@"),c.push(Bi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xs(v,v.charAt(0)=="/"?Qo:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xs(v,Pu)),c.join("")},_n.prototype.resolve=function(c){const y=At(this);let v=!!c.j;v?kt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)br(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const Q=[];for(let se=0;se<j.length;){const we=j[se++];we=="."?A&&se==j.length&&Q.push(""):we==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),A&&se==j.length&&Q.push("")):(Q.push(we),A=!0)}A=Q.join("/")}else A=j}return v?y.h=A:v=c.i.toString()!=="",v?Go(y,ku(c.i)):v=!!c.m,v&&(y.m=c.m),y};function At(c){return new _n(c)}function kt(c,y,v){c.j=v?_i(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function br(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Go(c,y,v){y instanceof Ar?(c.i=y,wa(c.i,c.l)):(v||(y=xs(y,Sr)),c.i=new Ar(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Is(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function _i(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Sa=/[#\/\?@]/g,Vu=/[#\?:]/g,Qo=/[#\?]/g,Sr=/[#\?@]/g,Pu=/#/g;function Ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ar.prototype,r.add=function(c,y){sn(this),this.i=null,c=wr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Lu(c,y){sn(c),y=wr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ko(c,y){return sn(c),y=wr(c,y),c.g.has(y)}r.forEach=function(c,y){sn(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)};function Yo(c,y){sn(c);let v=[];if(typeof y=="string")Ko(c,y)&&(v=v.concat(c.g.get(wr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return sn(this),this.i=null,c=wr(this,c),Ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Yo(this,c),c.length>0?String(c[0]):y):y};function Aa(c,y,v){Lu(c,y),v.length>0&&(c.i=null,c.g.set(wr(c,y),P(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const j=Bi(v);v=Yo(this,v);for(let Q=0;Q<v.length;Q++){let se=j;v[Q]!==""&&(se+="="+Bi(v[Q])),c.push(se)}}return this.i=c.join("&")};function ku(c){const y=new Ar;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function wr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wa(c,y){y&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(Lu(this,A),Aa(this,j,v))},c)),c.j=y}function Kn(c,y){const v=new Fn;if(f.Image){const A=new Image;A.onload=E(Nn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(Nn,v,"TestLoadImage: error",!1,y,A),A.onabort=E(Nn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Xo(c,y){const v=new Fn,A=new AbortController,j=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Q=>{clearTimeout(j),Q.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),Nn(v,"TestPingServer: error",!1,y)})}function Nn(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function Rr(){this.g=new Au}function vi(c){this.i=c.Sb||null,this.h=c.ab||!1}T(vi,wu),vi.prototype.g=function(){return new Ns(this.i,this.h)};function Ns(c,y){Et.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ns,Et),r=Ns.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Yn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ra(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ra(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Cr(this):Yn(this),this.readyState==3&&Ra(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},r.Na=function(c){this.g&&(this.response=c,Cr(this))},r.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Yn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ns.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let y="";return Le(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ds(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Dn(v),typeof c=="string"?v!=null&&Bi(v):Ke(c,y,v))}function $e(c){Et.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T($e,Et);var Ei=/^https?$/i,$o=["POST","PUT"];r=$e.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():jo.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Os(this,Q);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Q of A.keys())v.set(Q,A.get(Q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call($o,y,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of v)this.g.setRequestHeader(Q,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Os(this,Q)}};function Os(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Zo(c),qi(c)}function Zo(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),$e.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ms(this):this.Xa())},r.Xa=function(){Ms(this)};function Ms(c){if(c.h&&typeof u<"u"){if(c.v&&Xn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Xn(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=Q===0){let se=String(c.D).match(Mu)[1]||null;!se&&f.self&&f.self.location&&(se=f.self.location.protocol.slice(0,-1)),A=!Ei.test(se?se.toLowerCase():"")}v=A}if(v)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var j=Xn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Zo(c)}}finally{qi(c)}}}}function qi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ot(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Xn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Xn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(c){const y={};c=(c.g&&Xn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(I(c[A]))continue;var v=Nu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[j]||[];y[j]=Q,Q.push(v)}He(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ir(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(c&&c.concurrentRequestLimit),this.Ba=new Rr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ir.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Tt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Fu(this,null,this.W),bi(this)};function Jo(c){if(Ca(c),c.I==3){var y=c.V++,v=At(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),Vs(c,v),y=new Gn(c,c.j,y),y.M=2,y.A=Is(At(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=Gu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),di(y)}Hu(c)}function xr(c){c.g&&(el(c),c.g.cancel(),c.g=null)}function Ca(c){xr(c),c.v&&(f.clearTimeout(c.v),c.v=null),xa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function bi(c){if(!Bo(c.h)&&!c.m){c.m=!0;var y=c.Ea;Ae||R(),ye||(Ae(),ye=!0),x.add(y,c),c.D=0}}function Ia(c,y){return gi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(g(c.Ea,c,y),qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Gn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=V(Q),ie(Q,this.U)):Q=this.U),this.u!==null||this.R||(j.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Uu(this,j,y),v=At(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),Vs(this,v),Q&&(this.R?y="headers="+Bi(Dn(Q))+"&"+y:this.u&&Ds(v,this.u,Q)),qo(this.h,j),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),j.U=!0,fi(j,v,null)):fi(j,v,y),this.I=2}}else this.I==3&&(c?Wo(this,c):this.i.length==0||Bo(this.h)||Wo(this))};function Wo(c,y){var v;y?v=y.l:v=c.V++;const A=At(c.J);Ke(A,"SID",c.M),Ke(A,"RID",v),Ke(A,"AID",c.K),Vs(c,A),c.u&&c.o&&Ds(A,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Uu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qo(c.h,v),fi(v,A,y)}function Vs(c,y){c.H&&Le(c.H,function(v,A){Ke(y,A,v)}),c.l&&Le({},function(v,A){Ke(y,A,v)})}function Uu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let we=-1;for(;;){const pt=["count="+v];we==-1?v>0?(we=j[0].g,pt.push("ofs="+we)):we=0:pt.push("ofs="+we);let Fe=!0;for(let at=0;at<v;at++){var Q=j[at].g;const On=j[at].map;if(Q-=we,Q<0)we=Math.max(0,j[at].g-100),Fe=!1;else try{Q="req"+Q+"_"||"";try{var se=On instanceof Map?On:Object.entries(On);for(const[Ai,$n]of se){let Zn=$n;m($n)&&(Zn=Tr($n)),pt.push(Q+Ai+"="+encodeURIComponent(Zn))}}catch(Ai){throw pt.push(Q+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(On)}}if(Fe){se=pt.join("&");break e}}se=void 0}return c=c.i.splice(0,v),y.G=c,se}function ju(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;Ae||R(),ye||(Ae(),ye=!0),x.add(y,c),c.A=0}}function Ps(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(g(c.Da,c),qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),xr(this),zu(this))};function el(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=At(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),Vs(c,y),c.u&&c.o&&Ds(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Is(At(y)),v.u=null,v.R=!0,Ea(v,c)}r.Va=function(){this.C!=null&&(this.C=null,xr(this),Ps(this),Tt(19))};function xa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,y){var v=null;if(c.g==y){xa(c),el(c),c.g=null;var A=2}else if(yi(c.h,y))v=y.G,Ho(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=va(),Ot(A,new ui(A,v)),bi(c)}else ju(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&Ia(c,y)||A==2&&Ps(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function qu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Si(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const j=!A;A=new _n(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||kt(A,"https"),Is(A),j?Kn(A.toString(),v):Xo(A.toString(),v)}else Tt(2);c.I=0,c.l&&c.l.pa(y),Hu(c),Ca(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const y=Fo(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ja,y),q(c.ja,c.i),c.h.i.length=0,P(c.i),c.i.length=0),c.l.oa()}}function Fu(c,y,v){var A=v instanceof _n?At(v):new _n(v);if(A.g!="")y&&(A.g=y+"."+A.g),br(A,A.u);else{var j=f.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const Q=new _n(null);A&&kt(Q,A),y&&(Q.g=y),j&&br(Q,j),v&&(Q.h=v),A=Q}return v=c.G,y=c.wa,v&&y&&Ke(A,v,y),Ke(A,"VER",c.ka),Vs(c,A),A}function Gu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new $e(new vi({ab:v})):new $e(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Nr(){}Nr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){Et.call(this),this.g=new Ir(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!I(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!I(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Fi(this)}T(tn,Et),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Jo(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Tr(c),c=v);y.i.push(new St(y.Ya++,c)),y.I==3&&bi(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,tn.Z.N.call(this)};function Ku(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Ku,zt);function Yu(){In.call(this),this.status=1}T(Yu,In);function Fi(c){this.g=c}T(Fi,Qu),Fi.prototype.ra=function(){Ot(this.g,"a")},Fi.prototype.qa=function(c){Ot(this.g,new Ku(c))},Fi.prototype.pa=function(c){Ot(this.g,new Yu)},Fi.prototype.oa=function(){Ot(this.g,"b")},Nr.prototype.createWebChannel=Nr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,LT=function(){return new Nr},PT=function(){return va()},VT=mt,Gm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,hh=Rs,Uo.COMPLETE="complete",MT=Uo,Ru.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Et.prototype.listen=Et.prototype.J,ql=Ru,$e.prototype.listenOnce=$e.prototype.K,$e.prototype.getLastError=$e.prototype.Ha,$e.prototype.getLastErrorCode=$e.prototype.ya,$e.prototype.getStatus=$e.prototype.ca,$e.prototype.getResponseJson=$e.prototype.La,$e.prototype.getResponseText=$e.prototype.la,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Fa,OT=$e}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const bE="@firebase/firestore",SE="4.9.2";let Zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");let Io="12.3.0";const la=new gp("@firebase/firestore");function ao(){return la.logLevel}function le(r,...e){if(la.logLevel<=Me.DEBUG){const n=e.map(Cp);la.debug(`Firestore (${Io}): ${r}`,...n)}}function dr(r,...e){if(la.logLevel<=Me.ERROR){const n=e.map(Cp);la.error(`Firestore (${Io}): ${r}`,...n)}}function yo(r,...e){if(la.logLevel<=Me.WARN){const n=e.map(Cp);la.warn(`Firestore (${Io}): ${r}`,...n)}}function Cp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,kT(r,s,n)}function kT(r,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||kT(e,o,s)}function Se(r,e){return r}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends _r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class UT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class Vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Px{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ur,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ur)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new UT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class Lx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new Lx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ux{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new AE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Qm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Cm(o)===Cm(u)?Ve(o,u):Cm(o)?1:-1}return Ve(r.length,e.length)}const zx=55296,Bx=57343;function Cm(r){const e=r.charCodeAt(0);return e>=zx&&e<=Bx}function _o(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const wE="__name__";class xi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=xi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=xi.isNumericId(e),o=xi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?xi.extractNumericId(e).compare(xi.extractNumericId(n)):Qm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class it extends xi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends xi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wE}static keyField(){return new Kt([wE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}class ge{constructor(e){this.path=e}static fromPath(e){return new ge(it.fromString(e))}static fromName(e){return new ge(it.fromString(e).popFirst(5))}static empty(){return new ge(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new it(e.slice()))}}function jT(r,e,n){if(!n)throw new he(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Hx(r,e,n,s){if(e===!0&&s===!0)throw new he(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function RE(r){if(!ge.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function CE(r){if(ge.isDocumentKey(r))throw new he(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function zT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function xp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function mn(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xp(r);throw new he(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function pu(r,e){if(!zT(r))throw new he(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(ee.INVALID_ARGUMENT,n);return!0}const IE=-62135596800,xE=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*xE);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<IE)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xE}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(pu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:Nt("string",rt._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new rt(0,0))}static max(){return new Te(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function Fx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new hs(o,ge.empty(),e)}function Gx(r){return new hs(r.readTime,r.key,tu)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(Te.min(),ge.empty(),tu)}static max(){return new hs(Te.max(),ge.empty(),tu)}}function Qx(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const Kx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function xo(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==Kx)throw r;le("LocalStore","Unexpectedly lost primary lease")}class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):W.reject(n)}static resolve(e){return new W(((n,s)=>{n(e)}))}static reject(e){return new W(((n,s)=>{s(e)}))}static waitFor(e){return new W(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next((o=>o?W.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new W(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new W(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Xx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(r){return r.name==="IndexedDbTransactionError"}class Kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Kh.ce=-1;const Np=-1;function Yh(r){return r==null}function Ch(r){return r===0&&1/r==-1/0}function $x(r){return typeof r=="number"&&Number.isInteger(r)&&!Ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const BT="";function Zx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=NE(e)),e=Jx(r.get(n),e);return NE(e)}function Jx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case BT:n+="";break;default:n+=u}}return n}function NE(r){return r+BT+""}function DE(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function _s(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function qT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new OE(this.data.getIterator())}getIteratorFrom(e){return new OE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class OE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Cn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Pt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new HT("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const Wx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=Wx.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ds(r){return typeof r=="string"?Yt.fromBase64String(r):Yt.fromUint8Array(r)}const FT="server_timestamp",GT="__type__",QT="__previous_value__",KT="__local_write_time__";function Dp(r){return(r?.mapValue?.fields||{})[GT]?.stringValue===FT}function Xh(r){const e=r.mapValue.fields[QT];return Dp(e)?Xh(e):e}function nu(r){const e=fs(r.mapValue.fields[KT].timestampValue);return new rt(e.seconds,e.nanos)}class e2{constructor(e,n,s,o,u,f,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Ih="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Ih}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Ih}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const YT="__type__",t2="__max__",nh={mapValue:{}},XT="__vector__",xh="value";function ms(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Dp(r)?4:i2(r)?9007199254740991:n2(r)?10:11:Ee(28295,{value:r})}function ki(r,e){if(r===e)return!0;const n=ms(r);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=fs(o.timestampValue),m=fs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Ch(f)===Ch(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(DE(f)!==DE(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ki(f[p],m[p])))return!1;return!0})(r,e);default:return Ee(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>ki(n,e)))!==void 0}function vo(r,e){if(r===e)return 0;const n=ms(r),s=ms(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return ME(r.timestampValue,e.timestampValue);case 4:return ME(nu(r),nu(e));case 5:return Qm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ds(u),p=ds(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ve(m[g],p[g]);if(E!==0)return E}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(_t(u.latitude),_t(f.latitude));return m!==0?m:Ve(_t(u.longitude),_t(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return VE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[xh]?.arrayValue,E=p[xh]?.arrayValue,T=Ve(g?.values?.length||0,E?.values?.length||0);return T!==0?T:VE(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Qm(p[T],E[T]);if(w!==0)return w;const P=vo(m[p[T]],g[E[T]]);if(P!==0)return P}return Ve(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function ME(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=fs(r),s=fs(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function VE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=vo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function Eo(r){return Km(r)}function Km(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ds(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ge.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Km(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Km(n.fields[f])}`;return o+"}"})(r.mapValue):Ee(61005,{value:r})}function fh(r){switch(ms(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xh(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return ds(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return _s(s.fields,((u,f)=>{o+=u.length+fh(f)})),o})(r.mapValue);default:throw Ee(13486,{value:r})}}function Ym(r){return!!r&&"integerValue"in r}function Op(r){return!!r&&"arrayValue"in r}function PE(r){return!!r&&"nullValue"in r}function LE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function n2(r){return(r?.mapValue?.fields||{})[YT]?.stringValue===XT}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return _s(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function i2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===t2}class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ki(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){_s(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new dn(Yl(this.value))}}function $T(r){const e=[];return _s(r.fields,((n,s)=>{const o=new Kt([n]);if(dh(s)){const u=$T(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Cn(e)}class Jt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Jt(e,0,Te.min(),Te.min(),Te.min(),dn.empty(),0)}static newFoundDocument(e,n,s,o){return new Jt(e,1,n,Te.min(),s,o,0)}static newNoDocument(e,n){return new Jt(e,2,n,Te.min(),Te.min(),dn.empty(),0)}static newUnknownDocument(e,n){return new Jt(e,3,n,Te.min(),Te.min(),dn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Nh{constructor(e,n){this.position=e,this.inclusive=n}}function kE(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=vo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function UE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],e.position[n]))return!1;return!0}class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function r2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ZT{}class Vt extends ZT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new a2(e,n,s):n==="array-contains"?new u2(e,s):n==="in"?new c2(e,s):n==="not-in"?new h2(e,s):n==="array-contains-any"?new f2(e,s):new Vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new o2(e,s):new l2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends ZT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return JT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function JT(r){return r.op==="and"}function WT(r){return s2(r)&&JT(r)}function s2(r){for(const e of r.filters)if(e instanceof Ui)return!1;return!0}function Xm(r){if(r instanceof Vt)return r.field.canonicalString()+r.op.toString()+Eo(r.value);if(WT(r))return r.filters.map((e=>Xm(e))).join(",");{const e=r.filters.map((n=>Xm(n))).join(",");return`${r.op}(${e})`}}function eb(r,e){return r instanceof Vt?(function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,e):r instanceof Ui?(function(s,o){return o instanceof Ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&eb(f,o.filters[m])),!0):!1})(r,e):void Ee(19439)}function tb(r){return r instanceof Vt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(r):r instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(tb).join(" ,")+"}"})(r):"Filter"}class a2 extends Vt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class o2 extends Vt{constructor(e,n){super(e,"in",n),this.keys=nb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class l2 extends Vt{constructor(e,n){super(e,"not-in",n),this.keys=nb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function nb(r,e){return(e.arrayValue?.values||[]).map((n=>ge.fromName(n.referenceValue)))}class u2 extends Vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&ru(n.arrayValue,this.value)}}class c2 extends Vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class h2 extends Vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class f2 extends Vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class d2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function jE(r,e=null,n=[],s=[],o=null,u=null,f=null){return new d2(r,e,n,s,o,u,f)}function Mp(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Xm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Eo(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Eo(s))).join(",")),e.Te=n}return e.Te}function Vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!r2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!eb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!UE(r.startAt,e.startAt)&&UE(r.endAt,e.endAt)}function $m(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class $h{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function m2(r,e,n,s,o,u,f,m){return new $h(r,e,n,s,o,u,f,m)}function Zh(r){return new $h(r)}function zE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function p2(r){return r.collectionGroup!==null}function Xl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Kt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Dh(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new Dh(Kt.keyField(),s))}return e.Ie}function Mi(r){const e=Se(r);return e.Ee||(e.Ee=g2(e,Xl(r))),e.Ee}function g2(r,e){if(r.limitType==="F")return jE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Dh(o.field,u)}));const n=r.endAt?new Nh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Nh(r.startAt.position,r.startAt.inclusive):null;return jE(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Zm(r,e,n){return new $h(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Jh(r,e){return Vp(Mi(r),Mi(e))&&r.limitType===e.limitType}function ib(r){return`${Mp(Mi(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>tb(o))).join(", ")}]`),Yh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function Wh(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=kE(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Xl(s),o)||s.endAt&&!(function(f,m,p){const g=kE(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Xl(s),o))})(r,e)}function y2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rb(r){return(e,n)=>{let s=!1;for(const o of Xl(r)){const u=_2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function _2(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?vo(p,g):Ee(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return qT(this.inner)}size(){return this.innerSize}}const v2=new ct(ge.comparator);function mr(){return v2}const sb=new ct(ge.comparator);function Hl(...r){let e=sb;for(const n of r)e=e.insert(n.key,n);return e}function ab(r){let e=sb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function ea(){return $l()}function ob(){return $l()}function $l(){return new da((r=>r.toString()),((r,e)=>r.isEqual(e)))}const E2=new ct(ge.comparator),T2=new Pt(ge.comparator);function Pe(...r){let e=T2;for(const n of r)e=e.add(n);return e}const b2=new Pt(Ve);function S2(){return b2}function Pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function lb(r){return{integerValue:""+r}}function A2(r,e){return $x(e)?lb(e):Pp(r,e)}class ef{constructor(){this._=void 0}}function w2(r,e,n){return r instanceof Oh?(function(o,u){const f={fields:{[GT]:{stringValue:FT},[KT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Xh(u)),u&&(f.fields[QT]=u),{mapValue:f}})(n,e):r instanceof su?cb(r,e):r instanceof au?hb(r,e):(function(o,u){const f=ub(o,u),m=BE(f)+BE(o.Ae);return Ym(f)&&Ym(o.Ae)?lb(m):Pp(o.serializer,m)})(r,e)}function R2(r,e,n){return r instanceof su?cb(r,e):r instanceof au?hb(r,e):n}function ub(r,e){return r instanceof Mh?(function(s){return Ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Oh extends ef{}class su extends ef{constructor(e){super(),this.elements=e}}function cb(r,e){const n=fb(e);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class au extends ef{constructor(e){super(),this.elements=e}}function hb(r,e){let n=fb(e);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class Mh extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function BE(r){return _t(r.integerValue||r.doubleValue)}function fb(r){return Op(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function C2(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?_o(s.elements,o.elements,ki):s instanceof Mh&&o instanceof Mh?ki(s.Ae,o.Ae):s instanceof Oh&&o instanceof Oh})(r.transform,e.transform)}class I2{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class tf{}function db(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new nf(r.key,pn.none()):new gu(r.key,r.data,pn.none());{const n=r.data,s=dn.empty();let o=new Pt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new vs(r.key,s,new Cn(o.toArray()),pn.none())}}function x2(r,e,n){r instanceof gu?(function(o,u,f){const m=o.value.clone(),p=HE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof vs?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=HE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(mb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Zl(r,e,n,s){return r instanceof gu?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=u.value.clone(),E=FE(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof vs?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=FE(u.fieldTransforms,p,f),E=f.data;return E.setAll(mb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,e,n,s):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function N2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=ub(s.transform,o||null);u!=null&&(n===null&&(n=dn.empty()),n.set(s.field,u))}return n||null}function qE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,((u,f)=>C2(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gu extends tf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends tf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function mb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function HE(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,R2(f,m,n[o]))}return s}function FE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,w2(u,f,e))}return s}class nf extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class D2 extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class O2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&x2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ob();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=db(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((n,s)=>qE(n,s)))&&_o(this.baseMutations,e.baseMutations,((n,s)=>qE(n,s)))}}class Lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return E2})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Lp(e,n,s,o)}}class M2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class V2{constructor(e,n){this.count=e,this.unchangedNames=n}}var xt,je;function P2(r){switch(r){case ee.OK:return Ee(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function pb(r){if(r===void 0)return dr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case xt.OK:return ee.OK;case xt.CANCELLED:return ee.CANCELLED;case xt.UNKNOWN:return ee.UNKNOWN;case xt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case xt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case xt.INTERNAL:return ee.INTERNAL;case xt.UNAVAILABLE:return ee.UNAVAILABLE;case xt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case xt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case xt.NOT_FOUND:return ee.NOT_FOUND;case xt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case xt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case xt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case xt.ABORTED:return ee.ABORTED;case xt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case xt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case xt.DATA_LOSS:return ee.DATA_LOSS;default:return Ee(39323,{code:r})}}(je=xt||(xt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";function L2(){return new TextEncoder}const k2=new us([4294967295,4294967295],0);function GE(r){const e=L2().encode(r),n=new DT;return n.update(e),new Uint8Array(n.digest())}function QE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=us.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare(k2)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=GE(e),[s,o]=QE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new kp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=GE(e),[s,o]=QE(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new rf(Te.min(),o,new ct(Ve),mr(),Pe())}}class yu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,Pe(),Pe(),Pe())}}class ph{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class gb{constructor(e,n){this.targetId=e,this.Ce=n}}class yb{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class KE{constructor(){this.ve=0,this.Fe=YE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}})),new yu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=YE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class U2{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.Je=ih(),this.He=ih(),this.Ye=new ct(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if($m(u))if(s===0){const f=new ge(u.path);this.et(n,f,Jt.newNoDocument(f,Te.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ds(s).toUint8Array()}catch(p){if(p instanceof HT)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new kp(f,o,u)}catch(p){return yo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&$m(m.target)){const p=new ge(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Jt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new rf(e,n,this.Ye,this.je,s);return this.je=mr(),this.Je=ih(),this.He=ih(),this.Ye=new ct(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new KE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Pt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Pt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new KE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new ct(ge.comparator)}function YE(){return new ct(ge.comparator)}const j2={asc:"ASCENDING",desc:"DESCENDING"},z2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},B2={and:"AND",or:"OR"};class q2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(r,e){return r.useProto3Json||Yh(e)?e:{value:e}}function Vh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _b(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function H2(r,e){return Vh(r,e.toTimestamp())}function Vi(r){return Qe(!!r,49232),Te.fromTimestamp((function(n){const s=fs(n);return new rt(s.seconds,s.nanos)})(r))}function Up(r,e){return Wm(r,e).canonicalString()}function Wm(r,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function vb(r){const e=it.fromString(r);return Qe(Ab(e),10190,{key:e.toString()}),e}function ep(r,e){return Up(r.databaseId,e.path)}function Im(r,e){const n=vb(e);if(n.get(1)!==r.databaseId.projectId)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(Tb(n))}function Eb(r,e){return Up(r.databaseId,e)}function F2(r){const e=vb(r);return e.length===4?it.emptyPath():Tb(e)}function tp(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Tb(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function XE(r,e,n){return{name:ep(r,e),fields:n.value.mapValue.fields}}function G2(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Yt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Yt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?ee.UNKNOWN:pb(g.code);return new he(E,g.message||"")})(f);n=new yb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(r,s.document.name),u=Vi(s.document.updateTime),f=s.document.createTime?Vi(s.document.createTime):Te.min(),m=new dn({mapValue:{fields:s.document.fields}}),p=Jt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(r,s.document),u=s.readTime?Vi(s.readTime):Te.min(),f=Jt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(r,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new V2(o,u),m=s.targetId;n=new gb(m,f)}}return n}function Q2(r,e){let n;if(e instanceof gu)n={update:XE(r,e.key,e.value)};else if(e instanceof nf)n={delete:ep(r,e.key)};else if(e instanceof vs)n={update:XE(r,e.key,e.data),updateMask:tN(e.fieldMask)};else{if(!(e instanceof D2))return Ee(16599,{Vt:e.type});n={verify:ep(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:H2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)})(r,e.precondition)),n}function K2(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Vi(o.updateTime):Vi(u);return f.isEqual(Te.min())&&(f=Vi(u)),new I2(f,o.transformResults||[])})(n,e)))):[]}function Y2(r,e){return{documents:[Eb(r,e.path)]}}function X2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Eb(r,o);const u=(function(g){if(g.length!==0)return Sb(Ui.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:lo(w.field),direction:J2(w.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function $2(r){let e=F2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=bb(T);return w instanceof Ui&&WT(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(T){return T.map((w=>(function(q){return new Dh(uo(q.field),(function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(q.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,Yh(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,P=T.values||[];return new Nh(P,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,P=T.values||[];return new Nh(P,w)})(n.endAt)),m2(e,o,f,u,m,"F",p,g)}function Z2(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(n.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=uo(n.unaryFilter.field);return Vt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Vt.create(uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>bb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(n.compositeFilter.op))})(r):Ee(30097,{filter:r})}function J2(r){return j2[r]}function W2(r){return z2[r]}function eN(r){return B2[r]}function lo(r){return{fieldPath:r.canonicalString()}}function uo(r){return Kt.fromServerFormat(r.fieldPath)}function Sb(r){return r instanceof Vt?(function(n){if(n.op==="=="){if(LE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(PE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(PE(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:W2(n.op),value:n.value}}})(r):r instanceof Ui?(function(n){const s=n.getFilters().map((o=>Sb(o)));return s.length===1?s[0]:{compositeFilter:{op:eN(n.op),filters:s}}})(r):Ee(54877,{filter:r})}function tN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Ab(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ss{constructor(e,n,s,o,u=Te.min(),f=Te.min(),m=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class nN{constructor(e){this.yt=e}}function iN(r){const e=$2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zm(e,e.limit,"L"):e}class rN{constructor(){this.Cn=new sN}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(hs.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class sN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Pt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Pt(it.comparator)).toArray()}}const $E={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(wb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class To{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new To(0)}static cr(){return new To(-1)}}const ZE="LruGarbageCollector",aN=1048576;function JE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class oN{constructor(e){this.Ir=e,this.buffer=new Pt(JE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();JE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){le(ZE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?le(ZE,"Ignoring IndexedDB error during garbage collection: ",n):await xo(n)}await this.Vr(3e5)}))}}class uN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Kh.ce);const s=new oN(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve($E)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$E):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,f=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(e,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(g=Date.now(),ao()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function cN(r,e){return new uN(r,e)}class hN{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class fN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class dN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Zl(s.mutation,o,Cn.empty(),rt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Hl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=ea();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=mr();const f=$l(),m=(function(){return $l()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof vs)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Zl(E.mutation,g,E.mutation.getFieldMask(),rt.now())):f.set(g.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new fN(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=$l();let o=new ct(((f,m)=>f-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Cn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=ob();E.forEach((w=>{if(!u.has(w)){const P=db(n.get(w),s.get(w));P!==null&&T.set(w,P),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,T))}return W.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):p2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(ea());let m=tu,p=u;return f.next((g=>W.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Pe()))).next((E=>({batchId:m,changes:ab(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((s=>{let o=Hl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>W.forEach(m,(p=>{const g=(function(T,w){return new $h(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((T,w)=>{f=f.insert(T,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Jt.newInvalidDocument(E)))}));let m=Hl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Zl(E.mutation,g,Cn.empty(),rt.now()),Wh(n,g)&&(m=m.insert(p,g))})),m}))}}class mN{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return W.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}})(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:iN(o.bundledQuery),readTime:Vi(o.readTime)}})(n)),W.resolve()}}class pN{constructor(){this.overlays=new ct(ge.comparator),this.qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ea();return W.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=ea(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ea(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ea(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return W.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new M2(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class gN{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}class jp{constructor(){this.Qr=new Pt(jt.$r),this.Ur=new Pt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ge(new it([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ge(new it([])),s=new jt(n,e),o=new jt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ge.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||ge.comparator(e.key,n.key)}}class yN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Pt(jt.$r)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new O2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Np:this.tr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const m=this.Xr(f.Yr);u.push(m)})),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Pt(Ve);return n.forEach((o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),W.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Pt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),f),W.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return W.forEach(n.mutations,(o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class _N{constructor(e){this.ri=e,this.docs=(function(){return new ct(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Jt.newInvalidDocument(n))}getEntries(e,n){let s=mr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Jt.newInvalidDocument(o))})),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=mr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||Qx(Gx(E),s)<=0||(o.has(E.key)||Wh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return W.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new vN(this)}getSize(e){return W.resolve(this.size)}}class vN extends hN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),W.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class EN{constructor(e){this.persistence=e,this.si=new da((n=>Mp(n)),Vp),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new jp,this.targetCount=0,this.ai=To.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),W.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new To(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Pr(n),W.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),W.waitFor(u).next((()=>o))}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this._i.containsKey(n))}}class Rb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Kh(0),this.li=!1,this.li=!0,this.hi=new gN,this.referenceDelegate=e(this),this.Pi=new EN(this),this.indexManager=new rN,this.remoteDocumentCache=(function(o){return new _N(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nN(n),this.Ii=new mN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new yN(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new TN(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return W.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class TN extends Yx{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ri=new jp,this.Vi=null}static mi(e){return new zp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.fi,(s=>{const o=ge.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new da((s=>Zx(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=cN(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return W.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?W.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),W.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}br(e,n,s){return W.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bp(e,n.fromCache,s,o)}}class bN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class SN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Kw()?8:Xx(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new bN;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(ao()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),W.resolve()):(ao()<=Me.DEBUG&&le("QueryEngine","Query:",oo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ao()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):W.resolve())}ys(e,n){if(zE(n))return W.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Zm(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,o){return zE(n)||o.isEqual(Te.min())?W.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?W.resolve(null):(ao()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(n)),this.vs(e,f,n,Fx(o,tu)).next((m=>m)))}))}Ds(e,n){let s=new Pt(rb(e));return n.forEach(((o,u)=>{Wh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ao()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",oo(n)),this.ps.getDocumentsMatchingQuery(e,n,hs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const qp="LocalStore",AN=3e8;class wN{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Ve),this.xs=new da((u=>Mp(u)),Vp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function RN(r,e,n,s){return new wN(r,e,n,s)}async function Cb(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Pe();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function CN(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let P=W.resolve();return w.forEach((q=>{P=P.next((()=>E.getEntry(p,q))).next(($=>{const F=g.docVersions.get(q);Qe(F!==null,48541),$.version.compareTo(F)<0&&(T.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))}))})),P.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Pe();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Ib(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function IN(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let P=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(Yt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):E.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(E.resumeToken,s)),o=o.insert(T,P),(function($,F,ne){return $.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=AN?!0:ne.addedDocuments.size+ne.modifiedDocuments.size+ne.removedDocuments.size>0})(w,P,E)&&m.push(n.Pi.updateTargetData(u,P))}));let p=mr(),g=Pe();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(xN(u,f,e.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(Te.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return W.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function xN(r,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=mr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function NN(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function DN(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,W.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function np(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;le(qp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function WE(r,e,n){const s=Se(r);let o=Te.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const T=Se(p),w=T.xs.get(E);return w!==void 0?W.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,f,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Te.min(),n?u:Pe()))).next((m=>(ON(s,y2(e),m),{documents:m,Qs:u})))))}function ON(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class e0{constructor(){this.activeTargetIds=S2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MN{constructor(){this.Mo=new e0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new e0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VN{Oo(e){}shutdown(){}}const t0="ConnectivityMonitor";class n0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){le(t0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){le(t0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function ip(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const xm="RestConnection",PN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LN{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=ip(),m=this.zo(e,n.toUriEncodedString());le(xm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=wo(g);return this.Jo(e,m,p,s,E).then((T=>(le(xm,`Received RPC '${e}' ${f}: `,T),T)),(T=>{throw yo(xm,`RPC '${e}' ${f} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=PN[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class kN{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class UN extends LN{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=ip();return new Promise(((m,p)=>{const g=new OT;g.setWithCredentials(!0),g.listenOnce(MT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const T=g.getResponseJson();le($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(T)),m(T);break;case hh.TIMEOUT:le($t,`RPC '${e}' ${f} timed out`),p(new he(ee.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const w=g.getStatus();if(le($t,`RPC '${e}' ${f} failed with status:`,w,"response text:",g.getResponseText()),w>0){let P=g.getResponseJson();Array.isArray(P)&&(P=P[0]);const q=P?.error;if(q&&q.status&&q.message){const $=(function(ne){const re=ne.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(re)>=0?re:ee.UNKNOWN})(q.status);p(new he($,q.message))}else p(new he(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(ee.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{le($t,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);le($t,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=ip(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=LT(),m=PT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=f.createWebChannel(E,p);this.I_(T);let w=!1,P=!1;const q=new kN({Yo:F=>{P?le($t,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(w||(le($t,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),le($t,`RPC '${e}' stream ${o} sending:`,F),T.send(F))},Zo:()=>T.close()}),$=(F,ne,re)=>{F.listen(ne,(te=>{try{re(te)}catch(de){setTimeout((()=>{throw de}),0)}}))};return $(T,ql.EventType.OPEN,(()=>{P||(le($t,`RPC '${e}' stream ${o} transport opened.`),q.o_())})),$(T,ql.EventType.CLOSE,(()=>{P||(P=!0,le($t,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(T))})),$(T,ql.EventType.ERROR,(F=>{P||(P=!0,yo($t,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),q.a_(new he(ee.UNAVAILABLE,"The operation could not be completed")))})),$(T,ql.EventType.MESSAGE,(F=>{if(!P){const ne=F.data[0];Qe(!!ne,16349);const re=ne,te=re?.error||re[0]?.error;if(te){le($t,`RPC '${e}' stream ${o} received error:`,te);const de=te.status;let Ae=(function(R){const C=xt[R];if(C!==void 0)return pb(C)})(de),ye=te.message;Ae===void 0&&(Ae=ee.INTERNAL,ye="Unknown error status: "+de+" with message "+te.message),P=!0,q.a_(new he(Ae,ye)),T.close()}else le($t,`RPC '${e}' stream ${o} received:`,ne),q.u_(ne)}})),$(m,VT.STAT_EVENT,(F=>{F.stat===Gm.PROXY?le($t,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Gm.NOPROXY&&le($t,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{q.__()}),0),q}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Nm(){return typeof document<"u"?document:null}function sf(r){return new q2(r,!0)}class xb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const i0="PersistentStream";class Nb{constructor(e,n,s,o,u,f,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(i0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(le(i0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jN extends Nb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=G2(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Vi(f.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=tp(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=$m(p)?{documents:Y2(u,p)}:{query:X2(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=_b(u,f.resumeToken);const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Vh(u,f.snapshotVersion.toTimestamp());const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=Z2(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=tp(this.serializer),n.removeTarget=e,this.q_(n)}}class zN extends Nb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=K2(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=tp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>Q2(this.serializer,s)))};this.q_(n)}}class BN{}class qN extends BN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Wm(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Wm(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class FN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{ma(this)&&(le(ua,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await _u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await af(g)})(this))}))})),this.Ra=new HN(s,o)}}async function af(r){if(ma(r))for(const e of r.da)await e(!0)}async function _u(r){for(const e of r.da)await e(!1)}function Db(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Qp(n)?Gp(n):Do(n).O_()&&Fp(n,e))}function Hp(r,e){const n=Se(r),s=Do(n);n.Ia.delete(e),s.O_()&&Ob(n,e),n.Ia.size===0&&(s.O_()?s.L_():ma(n)&&n.Ra.set("Unknown"))}function Fp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(r).Y_(e)}function Ob(r,e){r.Va.Ue(e),Do(r).Z_(e)}function Gp(r){r.Va=new U2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Do(r).start(),r.Ra.ua()}function Qp(r){return ma(r)&&!Do(r).x_()&&r.Ia.size>0}function ma(r){return Se(r).Ea.size===0}function Mb(r){r.Va=void 0}async function GN(r){r.Ra.set("Online")}async function QN(r){r.Ia.forEach(((e,n)=>{Fp(r,e)}))}async function KN(r,e){Mb(r),Qp(r)?(r.Ra.ha(e),Gp(r)):r.Ra.set("Unknown")}async function YN(r,e,n){if(r.Ra.set("Online"),e instanceof yb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))})(r,e)}catch(s){le(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(r,s)}else if(e instanceof ph?r.Va.Ze(e):e instanceof gb?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await Ib(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),Ob(u,p);const T=new ss(E.target,p,g,E.sequenceNumber);Fp(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){le(ua,"Failed to raise snapshot:",s),await Lh(r,s)}}async function Lh(r,e,n){if(!No(e))throw e;r.Ea.add(1),await _u(r),r.Ra.set("Offline"),n||(n=()=>Ib(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{le(ua,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await af(r)}))}function Vb(r,e){return e().catch((n=>Lh(r,n,e)))}async function of(r){const e=Se(r),n=ps(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Np;for(;XN(e);)try{const o=await NN(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,$N(e,o)}catch(o){await Lh(e,o)}Pb(e)&&Lb(e)}function XN(r){return ma(r)&&r.Ta.length<10}function $N(r,e){r.Ta.push(e);const n=ps(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Pb(r){return ma(r)&&!ps(r).x_()&&r.Ta.length>0}function Lb(r){ps(r).start()}async function ZN(r){ps(r).ra()}async function JN(r){const e=ps(r);for(const n of r.Ta)e.ea(n.mutations)}async function WN(r,e,n){const s=r.Ta.shift(),o=Lp.from(s,e,n);await Vb(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await of(r)}async function eD(r,e){e&&ps(r).X_&&await(async function(s,o){if((function(f){return P2(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();ps(s).B_(),await Vb(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await of(s)}})(r,e),Pb(r)&&Lb(r)}async function r0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),le(ua,"RemoteStore received new credentials");const s=ma(n);n.Ea.add(3),await _u(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await af(n)}async function tD(r,e){const n=Se(r);e?(n.Ea.delete(2),await af(n)):e||(n.Ea.add(2),await _u(n),n.Ra.set("Unknown"))}function Do(r){return r.ma||(r.ma=(function(n,s,o){const u=Se(n);return u.sa(),new jN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:GN.bind(null,r),t_:QN.bind(null,r),r_:KN.bind(null,r),H_:YN.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Qp(r)?Gp(r):r.Ra.set("Unknown")):(await r.ma.stop(),Mb(r))}))),r.ma}function ps(r){return r.fa||(r.fa=(function(n,s,o){const u=Se(n);return u.sa(),new zN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZN.bind(null,r),r_:eD.bind(null,r),ta:JN.bind(null,r),na:WN.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await of(r)):(await r.fa.stop(),r.Ta.length>0&&(le(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Kp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Kp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(r,e){if(dr("AsyncQueue",`${e}: ${r}`),No(r))return new he(ee.UNAVAILABLE,`${e}: ${r}`);throw r}class po{static emptySet(e){return new po(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Hl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class s0{constructor(){this.ga=new ct(ge.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class bo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new bo(e,n,po.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class nD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class iD{constructor(){this.queries=a0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=a0(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new he(ee.ABORTED,"Firestore shutting down"))}}function a0(){return new da((r=>ib(r)),Jh)}async function Xp(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new nD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Yp(f,`Initialization of query '${oo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Zp(n)}async function $p(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rD(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Zp(n)}function sD(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Zp(r){r.Ca.forEach((e=>{e.next()}))}var rp,o0;(o0=rp||(rp={})).Ma="default",o0.Cache="cache";class Jp{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==rp.Cache}}class kb{constructor(e){this.key=e}}class Ub{constructor(e){this.key=e}}class aD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=rb(e),this.tu=new po(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new s0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const w=o.get(E),P=Wh(this.query,T)?T:null,q=!!w&&this.mutatedKeys.has(w.key),$=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;w&&P?w.data.isEqual(P.data)?q!==$&&(s.track({type:3,doc:P}),F=!0):this.su(w,P)||(s.track({type:2,doc:P}),F=!0,(p&&this.eu(P,p)>0||g&&this.eu(P,g)<0)&&(m=!0)):!w&&P?(s.track({type:0,doc:P}),F=!0):w&&!P&&(s.track({type:1,doc:w}),F=!0,(p||g)&&(m=!0)),F&&(P?(f=f.add(P),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,T)=>(function(P,q){const $=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:F})}};return $(P)-$(q)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new bo(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Ub(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new kb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Wp="SyncEngine";class oD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class lD{constructor(e){this.key=e,this.hu=!1}}class uD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new da((m=>ib(m)),Jh),this.Iu=new Map,this.Eu=new Set,this.du=new ct(ge.comparator),this.Au=new Map,this.Ru=new jp,this.Vu={},this.mu=new Map,this.fu=To.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cD(r,e,n=!0){const s=Fb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jb(s,e,n,!0),o}async function hD(r,e){const n=Fb(r);await jb(n,e,!0,!1)}async function jb(r,e,n,s){const o=await DN(r.localStore,Mi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await fD(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Db(r.remoteStore,o),m}async function fD(r,e,n,s,o){r.pu=(T,w,P)=>(async function($,F,ne,re){let te=F.view.ru(ne);te.Cs&&(te=await WE($.localStore,F.query,!1).then((({documents:x})=>F.view.ru(x,te))));const de=re&&re.targetChanges.get(F.targetId),Ae=re&&re.targetMismatches.get(F.targetId)!=null,ye=F.view.applyChanges(te,$.isPrimaryClient,de,Ae);return u0($,F.targetId,ye.au),ye.snapshot})(r,T,w,P);const u=await WE(r.localStore,e,!0),f=new aD(e,u.Qs),m=f.ru(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);u0(r,n,g.au);const E=new oD(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function dD(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!Jh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await np(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Hp(s.remoteStore,o.targetId),sp(s,o.targetId)})).catch(xo)):(sp(s,o.targetId),await np(s.localStore,o.targetId,!0))}async function mD(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function pD(r,e,n){const s=bD(r);try{const o=await(function(f,m){const p=Se(f),g=rt.now(),E=m.reduce(((P,q)=>P.add(q.key)),Pe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(P=>{let q=mr(),$=Pe();return p.Ns.getEntries(P,E).next((F=>{q=F,q.forEach(((ne,re)=>{re.isValidDocument()||($=$.add(ne))}))})).next((()=>p.localDocuments.getOverlayedDocuments(P,q))).next((F=>{T=F;const ne=[];for(const re of m){const te=N2(re,T.get(re.key).overlayedDocument);te!=null&&ne.push(new vs(re.key,te,$T(te.value.mapValue),pn.exists(!0)))}return p.mutationQueue.addMutationBatch(P,g,ne,m)})).next((F=>{w=F;const ne=F.applyToLocalDocumentSet(T,$);return p.documentOverlayCache.saveOverlays(P,F.batchId,ne)}))})).then((()=>({batchId:w.batchId,changes:ab(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ct(Ve)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,o.batchId,n),await vu(s,o.changes),await of(s.remoteStore)}catch(o){const u=Yp(o,"Failed to persist write");n.reject(u)}}async function zb(r,e){const n=Se(r);try{const s=await IN(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await vu(n,s,e)}catch(s){await xo(s)}}function l0(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&Zp(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gD(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ct(ge.comparator);f=f.insert(u,Jt.newNoDocument(u,Te.min()));const m=Pe().add(u),p=new rf(Te.min(),new Map,new ct(Ve),f,m);await zb(s,p),s.du=s.du.remove(u),s.Au.delete(e),eg(s)}else await np(s.localStore,e,!1).then((()=>sp(s,e,n))).catch(xo)}async function yD(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await CN(n.localStore,e);qb(n,s,null),Bb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await xo(o)}}async function _D(r,e,n){const s=Se(r);try{const o=await(function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Qe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);qb(s,e,n),Bb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await vu(s,o)}catch(o){await xo(o)}}function Bb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function qb(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function sp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||Hb(r,s)}))}function Hb(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Hp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),eg(r))}function u0(r,e,n){for(const s of n)s instanceof kb?(r.Ru.addReference(s.key,e),vD(r,s)):s instanceof Ub?(le(Wp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||Hb(r,s.key)):Ee(19791,{wu:s})}function vD(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(le(Wp,"New document in limbo: "+n),r.Eu.add(s),eg(r))}function eg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ge(it.fromString(e)),s=r.fu.next();r.Au.set(s,new lD(n)),r.du=r.du.insert(n,s),Db(r.remoteStore,new ss(Mi(Zh(n.path)),s,"TargetPurposeLimboResolution",Kh.ce))}}async function vu(r,e,n){const s=Se(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Bp.As(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>W.forEach(g,(w=>W.forEach(w.Es,(P=>E.persistence.referenceDelegate.addReference(T,w.targetId,P))).next((()=>W.forEach(w.ds,(P=>E.persistence.referenceDelegate.removeReference(T,w.targetId,P)))))))))}catch(T){if(!No(T))throw T;le(qp,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const P=E.Ms.get(w),q=P.snapshotVersion,$=P.withLastLimboFreeSnapshotVersion(q);E.Ms=E.Ms.insert(w,$)}}})(s.localStore,u))}async function ED(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){le(Wp,"User change. New user:",e.toKey());const s=await Cb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new he(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Ls)}}function TD(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Fb(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gD.bind(null,e),e.Pu.H_=rD.bind(null,e.eventManager),e.Pu.yu=sD.bind(null,e.eventManager),e}function bD(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_D.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return RN(this.persistence,new SN,e.initialUser,this.serializer)}Cu(e){return new Rb(zp.mi,this.serializer)}Du(e){return new MN}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class SD extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Rb((s=>Ph.mi(s,n)),this.serializer)}}class ap{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>l0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ED.bind(null,this.syncEngine),await tD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iD})()}createDatastore(e){const n=sf(e.databaseInfo.databaseId),s=(function(u){return new UN(u)})(e.databaseInfo);return(function(u,f,m,p){return new qN(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new FN(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>l0(this.syncEngine,n,0)),(function(){return n0.v()?new n0:new VN})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const T=new uD(o,u,f,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);le(ua,"RemoteStore shutting down."),s.Ea.add(5),await _u(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ap.provider={build:()=>new ap};class tg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const gs="FirestoreClient";class AD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=Ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{le(gs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(le(gs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Dm(r,e){r.asyncQueue.verifyOperationInProgress(),le(gs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Cb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function c0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await wD(r);le(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>r0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>r0(e.remoteStore,o))),r._onlineComponents=e}async function wD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(gs,"Using user provided OfflineComponentProvider");try{await Dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await Dm(r,new kh)}}else le(gs,"Using default OfflineComponentProvider"),await Dm(r,new SD(void 0));return r._offlineComponents}async function Gb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(gs,"Using user provided OnlineComponentProvider"),await c0(r,r._uninitializedComponentsProvider._online)):(le(gs,"Using default OnlineComponentProvider"),await c0(r,new ap))),r._onlineComponents}function RD(r){return Gb(r).then((e=>e.syncEngine))}async function Uh(r){const e=await Gb(r),n=e.eventManager;return n.onListen=cD.bind(null,e.syncEngine),n.onUnlisten=dD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mD.bind(null,e.syncEngine),n}function CD(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new tg({next:w=>{E.Nu(),f.enqueueAndForget((()=>$p(u,T)));const P=w.docs.has(m);!P&&w.fromCache?g.reject(new he(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&w.fromCache&&p&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Jp(Zh(m.path),E,{includeMetadataChanges:!0,qa:!0});return Xp(u,T)})(await Uh(r),r.asyncQueue,e,n,s))),s.promise}function ID(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const E=new tg({next:w=>{E.Nu(),f.enqueueAndForget((()=>$p(u,T))),w.fromCache&&p.source==="server"?g.reject(new he(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Jp(m,E,{includeMetadataChanges:!0,qa:!0});return Xp(u,T)})(await Uh(r),r.asyncQueue,e,n,s))),s.promise}function Qb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const h0=new Map;const Kb="firestore.googleapis.com",f0=!0;class d0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Kb,this.ssl=f0}else this.host=e.host,this.ssl=e.ssl??f0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aN)throw new he(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Hx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Mx;switch(s.type){case"firstParty":return new kx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=h0.get(n);s&&(le("ComponentProvider","Removing Datastore"),h0.delete(n),s.terminate())})(this),Promise.resolve()}}function xD(r,e,n,s={}){r=mn(r,lf);const o=wo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(q0(`https://${m}`),H0("Firestore",!0)),u.host!==Kb&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!ia(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Zt.MOCK_USER;else{g=Uw(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new he(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Zt(T)}r._authCredentials=new Vx(new UT(g,E))}}class Eu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Eu(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(pu(n,vt._jsonSchema))return new vt(e,s||null,new ge(it.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:Nt("string",vt._jsonSchemaVersion),referencePath:Nt("string")};class cs extends Eu{constructor(e,n,s){super(e,n,Zh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new ge(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function uf(r,e,...n){if(r=ut(r),jT("collection","path",e),r instanceof lf){const s=it.fromString(e,...n);return CE(s),new cs(r,null,s)}{if(!(r instanceof vt||r instanceof cs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return CE(s),new cs(r.firestore,null,s)}}function ca(r,e,...n){if(r=ut(r),arguments.length===1&&(e=Ip.newId()),jT("doc","path",e),r instanceof lf){const s=it.fromString(e,...n);return RE(s),new vt(r,null,new ge(s))}{if(!(r instanceof vt||r instanceof cs))throw new he(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return RE(s),new vt(r.firestore,r instanceof cs?r.converter:null,new ge(s))}}const m0="AsyncQueue";class p0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xb(this,"async_queue_retry"),this._c=()=>{const s=Nm();s&&le(m0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;le(m0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",g0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Kp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:g0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function g0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}function y0(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class pr extends lf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new p0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p0(e),this._firestoreClient=void 0,await e}}}function ND(r,e){const n=typeof r=="object"?r:K0(),s=typeof r=="string"?r:Ih,o=_p(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Lw("firestore");u&&xD(o,...u)}return o}function Tu(r){if(r._terminated)throw new he(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||DD(r),r._firestoreClient}function DD(r){const e=r._freezeSettings(),n=(function(o,u,f,m){return new e2(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Qb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new AD(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Yt.fromBase64String(e))}catch(n){throw new he(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(pu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Nt("string",Bn._jsonSchemaVersion),bytes:Nt("string")};class bu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ng{constructor(e){this._methodName=e}}class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(pu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Nt("string",Pi._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(pu(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new he(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Nt("string",Li._jsonSchemaVersion),vectorValues:Nt("object")};const OD=/^__.*__$/;class MD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class Yb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Xb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class ig{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ig({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return jh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Xb(this.Ac)&&OD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class VD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||sf(e)}Cc(e,n,s,o=!1){return new ig({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(r){const e=r._freezeSettings(),n=sf(r._databaseId);return new VD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function $b(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);sg("Data must be an object, but it was:",f,s);const m=Wb(s,f);let p,g;if(u.merge)p=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=op(e,T,n);if(!f.contains(w))throw new he(ee.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);tS(E,w)||E.push(w)}p=new Cn(E),g=f.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=f.fieldTransforms;return new MD(new dn(m),p,g)}class cf extends ng{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cf}}function Zb(r,e,n,s){const o=r.Cc(1,e,n);sg("Data must be an object, but it was:",o,s);const u=[],f=dn.empty();_s(s,((p,g)=>{const E=ag(e,p,n);g=ut(g);const T=o.yc(E);if(g instanceof cf)u.push(E);else{const w=hf(g,T);w!=null&&(u.push(E),f.set(E,w))}}));const m=new Cn(u);return new Yb(f,m,o.fieldTransforms)}function Jb(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[op(e,s,n)],p=[o];if(u.length%2!=0)throw new he(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(op(e,u[w])),p.push(u[w+1]);const g=[],E=dn.empty();for(let w=m.length-1;w>=0;--w)if(!tS(g,m[w])){const P=m[w];let q=p[w];q=ut(q);const $=f.yc(P);if(q instanceof cf)g.push(P);else{const F=hf(q,$);F!=null&&(g.push(P),E.set(P,F))}}const T=new Cn(g);return new Yb(E,T,f.fieldTransforms)}function hf(r,e){if(eS(r=ut(r)))return sg("Unsupported field value:",e,r),Wb(r,e);if(r instanceof ng)return(function(s,o){if(!Xb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=hf(m,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return A2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:_b(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Li)return(function(f,m){return{mapValue:{fields:{[YT]:{stringValue:XT},[xh]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Pp(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${xp(s)}`)})(r,e)}function Wb(r,e){const n={};return qT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(r,((s,o)=>{const u=hf(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function eS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Pi||r instanceof Bn||r instanceof vt||r instanceof ng||r instanceof Li)}function sg(r,e,n){if(!eS(n)||!zT(n)){const s=xp(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function op(r,e,n){if((e=ut(e))instanceof bu)return e._internalPath;if(typeof e=="string")return ag(r,e);throw jh("Field path arguments must be of type string or ",r,!1,void 0,n)}const PD=new RegExp("[~\\*/\\[\\]]");function ag(r,e,n){if(e.search(PD)>=0)throw jh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new bu(...e.split("."))._internalPath}catch{throw jh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function jh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(ee.INVALID_ARGUMENT,m+r+p)}function tS(r,e){return r.some((n=>n.isEqual(e)))}class nS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(iS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LD extends nS{data(){return super.data()}}function iS(r,e){return typeof e=="string"?ag(r,e):e instanceof bu?e._internalPath:e._delegate._internalPath}function rS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kD{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _s(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[xh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Li(n)}convertGeoPoint(e){return new Pi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Xh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=fs(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Qe(Ab(s),9688,{name:e});const o=new iu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function sS(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ta extends nS{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(iS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ta._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ta._jsonSchemaVersion="firestore/documentSnapshot/1.0",ta._jsonSchema={type:Nt("string",ta._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class gh extends ta{data(e={}){return super.data(e)}}class na{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:UD(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=na._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ip.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function UD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}function zh(r){r=mn(r,vt);const e=mn(r.firestore,pr);return CD(Tu(e),r._key).then((n=>aS(e,r,n)))}na._jsonSchemaVersion="firestore/querySnapshot/1.0",na._jsonSchema={type:Nt("string",na._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class og extends kD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function ff(r){r=mn(r,Eu);const e=mn(r.firestore,pr),n=Tu(e),s=new og(e);return rS(r._query),ID(n,r._query).then((o=>new na(e,s,r,o)))}function lg(r,e,n){r=mn(r,vt);const s=mn(r.firestore,pr),o=sS(r.converter,e,n);return df(s,[$b(rg(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,pn.none())])}function jD(r,e,n,...s){r=mn(r,vt);const o=mn(r.firestore,pr),u=rg(o);let f;return f=typeof(e=ut(e))=="string"||e instanceof bu?Jb(u,"updateDoc",r._key,e,n,s):Zb(u,"updateDoc",r._key,e),df(o,[f.toMutation(r._key,pn.exists(!0))])}function zD(r){return df(mn(r.firestore,pr),[new nf(r._key,pn.none())])}function BD(r,...e){r=ut(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||y0(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(y0(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,f,m;if(r instanceof vt)f=mn(r.firestore,pr),m=Zh(r._key.path),u={next:p=>{e[s]&&e[s](aS(f,r,p))},error:e[s+1],complete:e[s+2]};else{const p=mn(r,Eu);f=mn(p.firestore,pr),m=p._query;const g=new og(f);u={next:E=>{e[s]&&e[s](new na(f,g,p,E))},error:e[s+1],complete:e[s+2]},rS(r._query)}return(function(g,E,T,w){const P=new tg(w),q=new Jp(E,P,T);return g.asyncQueue.enqueueAndForget((async()=>Xp(await Uh(g),q))),()=>{P.Nu(),g.asyncQueue.enqueueAndForget((async()=>$p(await Uh(g),q)))}})(Tu(f),m,o,u)}function df(r,e){return(function(s,o){const u=new ur;return s.asyncQueue.enqueueAndForget((async()=>pD(await RD(s),o,u))),u.promise})(Tu(r),e)}function aS(r,e,n){const s=n.docs.get(e._key),o=new og(r);return new ta(r,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}class qD{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=rg(e)}set(e,n,s){this._verifyNotCommitted();const o=Om(e,this._firestore),u=sS(o.converter,n,s),f=$b(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(f.toMutation(o._key,pn.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Om(e,this._firestore);let f;return f=typeof(n=ut(n))=="string"||n instanceof bu?Jb(this._dataReader,"WriteBatch.update",u._key,n,s,o):Zb(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(f.toMutation(u._key,pn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Om(e,this._firestore);return this._mutations=this._mutations.concat(new nf(n._key,pn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Om(r,e){if((r=ut(r)).firestore!==e)throw new he(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function OO(r){return Tu(r=mn(r,pr)),new qD(r,(e=>df(r,e)))}(function(e,n=!0){(function(o){Io=o})(Ro),go(new ra("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new pr(new Px(s.getProvider("auth-internal")),new Ux(f,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,E)})(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ls(bE,SE,e),ls(bE,SE,"esm2020")})();const HD={apiKey:"AIzaSyBu3tuozsNFDnkWXYWALNZ3bREBtkiAmAc",authDomain:"anime-project-afaf7.firebaseapp.com",projectId:"anime-project-afaf7",storageBucket:"anime-project-afaf7.firebasestorage.app",messagingSenderId:"726262902044",appId:"1:726262902044:web:8ac376e203a5de15b81ed9"},oS=Q0(HD),Js=Dx(oS),ri=ND(oS),lS=k.createContext();function FD({children:r}){const[e,n]=k.useState(null),[s,o]=k.useState(!0);function u(T,w){return hI(Js,T,w)}function f(T,w){return fI(Js,T,w)}function m(){return EI(Js)}function p(T){return mI(Js.currentUser,T)}function g(T){return pI(Js.currentUser,T)}function E(T){return gI(Js.currentUser,T)}return k.useEffect(()=>{const T=vI(Js,w=>{n(w),o(!1)});return()=>{T()}},[]),b.jsx(lS.Provider,{value:{signUp:u,logIn:f,logOut:m,updateUserProfile:p,updateUserEmail:g,updateUserPassword:E,user:e,loading:s},children:s?b.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-black",children:b.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-[var(--primary)]"})}):r})}function vr(){return k.useContext(lS)}const uS=k.createContext();function GD({children:r}){const[e,n]=k.useState([]),[s,o]=k.useState(null),[u,f]=k.useState(!0);return k.useEffect(()=>{(async()=>{try{const p=await ff(uf(ri,"animes")),g=[];p.forEach(T=>{const w=T.data();g.push({...w,id:parseInt(T.id)||T.id})}),n(g);const E=g.find(T=>T.featured===!0);o(E||g[0])}catch(p){console.error("Error fetching anime data:",p)}finally{f(!1)}})()},[]),b.jsx(uS.Provider,{value:{animeList:e,featuredAnime:s,loading:u},children:r})}function pa(){return k.useContext(uS)}const QD="modulepreload",KD=function(r){return"/mizu-play/"+r},_0={},YD=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let p=function(g){return Promise.all(g.map(E=>Promise.resolve(E).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),m=f?.nonce||f?.getAttribute("nonce");o=p(n.map(g=>{if(g=KD(g),g in _0)return;_0[g]=!0;const E=g.endsWith(".css"),T=E?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${T}`))return;const w=document.createElement("link");if(w.rel=E?"stylesheet":QD,E||(w.as="script"),w.crossOrigin="",w.href=g,m&&w.setAttribute("nonce",m),document.head.appendChild(w),E)return new Promise((P,q)=>{w.addEventListener("load",P),w.addEventListener("error",()=>q(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(f){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=f,window.dispatchEvent(m),!m.defaultPrevented)throw f}return o.then(f=>{for(const m of f||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};const XD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$D=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),v0=r=>{const e=$D(r);return e.charAt(0).toUpperCase()+e.slice(1)},cS=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),ZD=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var JD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const WD=k.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>k.createElement("svg",{ref:p,...JD,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:cS("lucide",o),...!u&&!ZD(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>k.createElement(g,E)),...Array.isArray(u)?u:[u]]));const zi=(r,e)=>{const n=k.forwardRef(({className:s,...o},u)=>k.createElement(WD,{ref:u,iconNode:e,className:cS(`lucide-${XD(v0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=v0(r),n};const eO=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],tO=zi("bell",eO);const nO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],iO=zi("check",nO);const rO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sO=zi("chevron-right",rO);const aO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oO=zi("chevron-left",aO);const lO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],uO=zi("info",lO);const cO=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],yh=zi("play",cO);const hO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fO=zi("plus",hO);const dO=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],E0=zi("search",dO);const mO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pO=zi("user",mO);const gO=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yO=zi("x",gO),Es=()=>{const[r,e]=k.useState(!1),{user:n,logOut:s}=vr(),{animeList:o}=pa(),u=yr(),[f,m]=k.useState(!1),[p,g]=k.useState(null),E=async()=>{try{await s(),u("/")}catch(te){console.log(te)}};k.useEffect(()=>{const te=()=>{window.scrollY>0?e(!0):e(!1)};return window.addEventListener("scroll",te),()=>window.removeEventListener("scroll",te)},[]),k.useEffect(()=>{let te;return n?.email&&(te=BD(ca(ri,"users",n.email),de=>{de.exists()&&g(de.data())})),()=>{te&&te()}},[n]);const[T,w]=k.useState(!1),[P,q]=k.useState(""),[$,F]=k.useState([]),ne=te=>{const de=te.target.value;if(q(de),de.length>0){const Ae=o.filter(ye=>ye.title.toLowerCase().includes(de.toLowerCase()));F(Ae)}else F([])},re=te=>{te.preventDefault(),w(!1),q(""),F([]),u(`/search?q=${P}`)};return b.jsxs("nav",{style:{position:"fixed",top:0,width:"100%",zIndex:50,padding:"1rem 4%",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"background-color 0.3s",backgroundColor:r?"var(--background)":"transparent",backgroundImage:r?"none":"linear-gradient(to bottom, rgba(0,0,0,0.7) 10%, rgba(0,0,0,0))"},children:[b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:[b.jsx(hn,{to:"/",children:b.jsx("h1",{style:{color:"var(--primary)",fontSize:"1.8rem",fontWeight:"bold",cursor:"pointer"},children:"MIZUPLAY"})}),n?.email&&b.jsxs("ul",{style:{display:"flex",gap:"1.5rem",listStyle:"none",color:"#e5e5e5",fontSize:"0.9rem"},className:"hidden md:flex",children:[b.jsx(hn,{to:"/",children:b.jsx("li",{style:{cursor:"pointer",fontWeight:"bold"},children:"Home"})}),b.jsx(hn,{to:"/series",children:b.jsx("li",{style:{cursor:"pointer"},children:"Series"})}),b.jsx(hn,{to:"/movies",children:b.jsx("li",{style:{cursor:"pointer"},children:"Movies"})}),b.jsx(hn,{to:"/new",children:b.jsx("li",{style:{cursor:"pointer"},children:"New & Popular"})}),b.jsx(hn,{to:"/mylist",children:b.jsx("li",{style:{cursor:"pointer"},children:"My List"})})]})]}),n?.email?b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.5rem",color:"white"},children:[b.jsxs("div",{className:"relative flex items-center",children:[b.jsxs("div",{className:`flex items-center border border-white bg-black/80 transition-all duration-300 ${T?"w-[200px] md:w-[250px] p-1":"w-0 border-0 bg-transparent overflow-hidden"}`,children:[b.jsx(E0,{size:20,className:"ml-1 min-w-[20px]"}),b.jsx("form",{onSubmit:re,className:"w-full",children:b.jsx("input",{type:"text",className:"bg-transparent border-none text-white focus:outline-none pl-2 text-sm w-full",placeholder:"Titles, people, genres",value:P,onChange:ne,style:{color:"white"}})}),P&&b.jsx("span",{className:"cursor-pointer text-xs px-2",onClick:()=>{q(""),F([])},children:"X"})]}),!T&&b.jsx(E0,{size:20,style:{cursor:"pointer"},onClick:()=>w(!0)}),$.length>0&&T&&b.jsxs("div",{className:"absolute top-10 right-0 w-[250px] bg-[#141414] border border-[#333] shadow-xl max-h-[300px] overflow-y-auto rounded z-50",children:[$.map(te=>b.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-[#333] cursor-pointer border-b border-[#222]",onClick:()=>{u(`/title/${te.id}`),w(!1),q(""),F([])},children:[b.jsx("img",{src:te.image,alt:te.title,className:"w-10 h-14 object-cover rounded"}),b.jsxs("div",{className:"flex-1",children:[b.jsx("p",{className:"text-sm font-bold truncate",children:te.title}),b.jsx("p",{className:"text-xs text-gray-400",children:te.category})]})]},te.id)),b.jsxs("div",{className:"p-2 text-center text-xs text-white bg-[var(--primary)] cursor-pointer hover:opacity-80 font-bold",onClick:te=>re(te),children:['View all results for "',P,'"']})]})]}),b.jsx(tO,{size:20,style:{cursor:"pointer"}}),b.jsxs("div",{style:{position:"relative"},onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[b.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:b.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"4px",overflow:"hidden",backgroundColor:"#aaa",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},children:n.photoURL?b.jsx("img",{src:n.photoURL,alt:"Profile",style:{position:"absolute",width:`${(p?.photoZoom||1)*100}%`,height:`${(p?.photoZoom||1)*100}%`,top:`${p?.photoPosition?.y??50}%`,left:`${p?.photoPosition?.x??50}%`,transform:`translate(-${p?.photoPosition?.x??50}%, -${p?.photoPosition?.y??50}%)`,objectFit:"cover",objectPosition:`${p?.photoPosition?.x??50}% ${p?.photoPosition?.y??50}%`}}):b.jsx(pO,{size:20,color:"#141414"})})}),f&&b.jsxs("div",{style:{position:"absolute",top:"32px",right:0,backgroundColor:"rgba(0,0,0,0.9)",border:"1px solid #333",borderRadius:"4px",padding:"10px",minWidth:"150px",display:"flex",flexDirection:"column",gap:"10px"},children:[b.jsx(hn,{to:"/account",style:{fontSize:"0.9rem",color:"#fff",textDecoration:"none"},children:"See Profile"}),b.jsx("div",{style:{height:"1px",backgroundColor:"#333"}}),b.jsx("button",{onClick:E,style:{background:"transparent",border:"none",color:"#fff",fontSize:"0.9rem",cursor:"pointer",textAlign:"left",padding:0},children:"Logout"})]})]})]}):b.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[b.jsx(hn,{to:"/login",children:b.jsx("button",{className:"text-white pr-4",children:"Sign In"})}),b.jsx(hn,{to:"/signup",children:b.jsx("button",{className:"bg-[var(--primary)] px-6 py-2 rounded cursor-pointer text-black",children:"Sign Up"})})]}),b.jsx("button",{disabled:!0,onClick:async()=>{const{seedDatabase:te}=await YD(async()=>{const{seedDatabase:de}=await import("./seedDatabase-Da6Xb5_m.js");return{seedDatabase:de}},[]);te()},className:"fixed bottom-4 right-4 bg-yellow-500 disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed text-black px-4 py-2 rounded z-[100] font-bold",children:"SEED DB"})]})},_O=({anime:r,onPlay:e})=>{const n=yr();return r?b.jsx("div",{className:"relative w-full h-[70vh] text-white",children:b.jsxs("div",{className:"w-full h-full",children:[b.jsx("div",{className:"absolute w-full h-full bg-gradient-to-r from-black via-transparent to-transparent z-10"}),b.jsx("div",{className:"absolute w-full h-full bg-gradient-to-b from-transparent via-transparent to-[#141414] z-10 bottom-0"}),b.jsx("img",{className:"w-full h-full object-cover",src:r.image,alt:r.title}),b.jsxs("div",{className:"absolute w-full top-[30%] md:top-[25%] p-4 md:p-8 md:pl-16 z-20",children:[b.jsx("h1",{className:"text-3xl md:text-5xl font-bold max-w-[90%] md:max-w-[60%] drop-shadow-lg",children:r.title}),b.jsxs("div",{className:"my-6 flex gap-4",children:[b.jsxs("button",{onClick:()=>e(r),className:"bg-[var(--primary)] text-black py-2 px-6 rounded font-bold flex items-center gap-2 hover:bg-opacity-80 transition",children:[b.jsx(yh,{size:24,fill:"black"})," Play"]}),b.jsxs("button",{onClick:()=>n(`/title/${r.id}`),className:"bg-[#9c7880]/90 text-white py-2 px-6 rounded font-bold flex items-center gap-2 hover:bg-[#8a6a72] transition backdrop-blur-sm",children:[b.jsx(uO,{size:24}),"More Info"]})]}),b.jsxs("p",{className:"text-gray-300 text-sm mb-2",children:["Released: ",r.year||"2023"]}),b.jsxs("p",{className:"w-full md:max-w-[70%] lg:max-w-[45%] xl:max-w-[35%] text-gray-200 drop-shadow-md text-sm md:text-base",children:[r.description?.slice(0,160),"..."]})]})]})}):null},ii=({title:r,animes:e,onPlay:n,isPlayableCard:s})=>{const o=k.useRef(null),u=yr(),f=m=>{if(o.current){const{scrollLeft:p,clientWidth:g}=o.current,E=m==="left"?p-g/2:p+g/2;o.current.scrollTo({left:E,behavior:"smooth"})}};return b.jsxs("div",{style:{marginBottom:"3rem",padding:"0 4%"},children:[b.jsx("h2",{style:{color:"#e5e5e5",marginBottom:"1rem",fontSize:"1.5rem",fontWeight:"600"},children:r}),b.jsxs("div",{style:{position:"relative",group:"row"},children:[b.jsx("button",{onClick:()=>f("left"),style:{position:"absolute",left:0,top:0,bottom:0,zIndex:40,backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",padding:"0 0.5rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s"},onMouseEnter:m=>m.currentTarget.style.opacity=1,onMouseLeave:m=>m.currentTarget.style.opacity=0,children:b.jsx(oO,{size:40})}),b.jsx("div",{ref:o,style:{display:"flex",gap:"0.5rem",overflowX:"scroll",scrollbarWidth:"none",msOverflowStyle:"none",padding:"1rem 1rem",scrollBehavior:"smooth"},className:"no-scrollbar",children:e.map(m=>b.jsxs("div",{onClick:()=>s?n(m):u(`/title/${m.id}`),className:"anime-card",style:{flex:"0 0 auto",width:"250px",cursor:"pointer",position:"relative"},children:[b.jsx("img",{className:"anime-image",src:m.image,alt:m.title,style:{width:"100%",height:"140px",objectFit:"cover"}}),b.jsx("p",{style:{marginTop:"0.5rem",color:"#999",fontSize:"0.9rem",fontWeight:"500"},children:m.title})]},m.id))}),b.jsx("button",{onClick:()=>f("right"),style:{position:"absolute",right:0,top:0,bottom:0,zIndex:40,backgroundColor:"rgba(0,0,0,0.5)",color:"white",border:"none",padding:"0 0.5rem",cursor:"pointer",opacity:0,transition:"opacity 0.2s"},onMouseEnter:m=>m.currentTarget.style.opacity=1,onMouseLeave:m=>m.currentTarget.style.opacity=0,children:b.jsx(sO,{size:40})})]})]})},Oo=({anime:r,onClose:e,videoUrl:n})=>{const s=k.useRef(null),{user:o}=vr(),[u,f]=k.useState(null),m=r?.id||r?.animeId,p=n||r?.video;k.useEffect(()=>{(async()=>{if(console.log("Player: Loading progress for",m),o?.email&&m){const P=ca(ri,"users",o.email,"progress",m.toString());try{const q=await zh(P);if(q.exists()){const $=q.data();if(console.log("Player: Found progress",$),$.timestamp){const F=Math.max(0,$.timestamp-5);console.log("Player: Setting savedTime to",F),f(F)}}else console.log("Player: No progress found")}catch(q){console.error("Player: Error loading progress",q)}}})()},[m,o]),k.useEffect(()=>{u!==null&&s.current&&s.current.readyState>=1&&(console.log("Player: Seeking to savedTime (useEffect)",u),s.current.currentTime=u)},[u]);const g=()=>{console.log("Player: Metadata loaded"),s.current&&u!==null&&(console.log("Player: Seeking to savedTime (onLoadedMetadata)",u),s.current.currentTime=u)},E=async()=>{if(o?.email&&m&&s.current){const w=s.current.currentTime,P=s.current.duration;console.log("Player: Saving progress",w);try{await lg(ca(ri,"users",o.email,"progress",m.toString()),{animeId:m,title:r.title,image:r.image,video:n||r.video,timestamp:w,lastWatched:new Date,duration:P}),console.log("Player: Progress saved successfully")}catch(q){console.error("Player: Error saving progress",q)}}},T=async()=>{console.log("Player: Close button clicked"),await E(),e()};return k.useEffect(()=>{const w=setInterval(()=>{console.log("Player: Auto-saving..."),E()},5e3);return()=>clearInterval(w)},[m,o,r]),r?b.jsxs("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"black",zIndex:100,display:"flex",alignItems:"center",justifyContent:"center"},children:[b.jsx("button",{onClick:T,style:{position:"absolute",top:"2rem",right:"2rem",background:"transparent",color:"white",zIndex:101,cursor:"pointer"},children:b.jsx(yO,{size:40})}),b.jsx("video",{ref:s,controls:!0,autoPlay:!0,onLoadedMetadata:g,style:{width:"100%",height:"100%",maxHeight:"100vh"},src:p,children:"Your browser does not support the video tag."})]}):null},vO=()=>{const[r,e]=k.useState(null),[n,s]=k.useState([]),{user:o}=vr(),{animeList:u,featuredAnime:f,loading:m}=pa();k.useEffect(()=>{(async()=>{if(o?.email){const q=(await ff(uf(ri,"users",o.email,"progress"))).docs.map($=>({...$.data(),id:$.data().animeId}));s(q)}})()},[o,r]);const p=w=>{e(w)},g=()=>{e(null)};if(m)return b.jsx("div",{className:"text-white pt-20 pl-10",children:"Loading..."});const E={};u.forEach(w=>{w.genres?.forEach(P=>{const q=P.toLowerCase().trim();E[q]=(E[q]||0)+1})});const T=Object.keys(E).filter(w=>E[w]>=3).sort((w,P)=>E[P]-E[w]);return b.jsxs(b.Fragment,{children:[b.jsx(Es,{}),b.jsx(_O,{anime:f,onPlay:p}),b.jsxs("div",{style:{marginTop:"-120px",position:"relative",zIndex:10},children:[n.length>0&&b.jsx(ii,{title:"Continue Watching",animes:n,onPlay:p,isPlayableCard:!0}),b.jsx(ii,{title:"Trending Now",animes:u,onPlay:p}),u.filter(w=>w.isNew).length>0&&b.jsx(ii,{title:"New Releases",animes:u.filter(w=>w.isNew),onPlay:p}),T.map(w=>b.jsx(ii,{title:w.charAt(0).toUpperCase()+w.slice(1),animes:u.filter(P=>P.genres?.some(q=>q.toLowerCase().trim()===w)),onPlay:p},w))]}),r&&b.jsx(Oo,{anime:r,onClose:g})]})},hS="/mizu-play/assets/door-DVRtoP7x.png",EO=()=>{const[r,e]=k.useState(""),[n,s]=k.useState(""),[o,u]=k.useState(""),[f,m]=k.useState(!1),{logIn:p}=vr(),g=yr(),E=async T=>{T.preventDefault(),u(""),m(!0);try{await p(r,n),g("/")}catch(w){console.log(w),u(w.message),m(!1)}};return b.jsxs("div",{className:"w-full h-screen overflow-hidden",children:[b.jsx("img",{className:"absolute w-full h-full object-cover",src:hS,alt:"/"}),b.jsx("div",{className:"bg-black/60 fixed top-0 left-0 w-full h-screen"}),b.jsx("div",{className:"fixed w-full px-4 py-24 z-50",children:b.jsx("div",{className:"max-w-[450px] h-[600px] mx-auto bg-black/75 text-white rounded-lg",children:b.jsxs("div",{className:"max-w-[320px] mx-auto py-16",children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Sign In"}),o?b.jsx("p",{className:"p-3 bg-red-400 my-2",children:o}):null,b.jsxs("form",{onSubmit:E,className:"w-full flex flex-col py-4",children:[b.jsx("input",{onChange:T=>e(T.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"email",placeholder:"Email",autoComplete:"email"}),b.jsx("input",{onChange:T=>s(T.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"password",placeholder:"Password",autoComplete:"current-password"}),b.jsx("button",{disabled:f,className:"bg-[var(--primary)] py-3 my-6 rounded font-bold text-black flex justify-center items-center",children:f?b.jsx("div",{className:"w-6 h-6 border-2 border-black border-t-transparent rounded-full animate-spin"}):"Sign In"}),b.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[b.jsxs("p",{children:[b.jsx("input",{className:"mr-2",type:"checkbox"}),"Remember me"]}),b.jsx("p",{children:"Need Help?"})]}),b.jsxs("p",{className:"py-8",children:[b.jsx("span",{className:"text-gray-600",children:"New to Mizuplay?"})," ",b.jsx(hn,{to:"/signup",children:"Sign Up"})]})]})]})})})]})},TO=()=>{const[r,e]=k.useState(""),[n,s]=k.useState(""),{signUp:o}=vr(),u=yr(),f=async m=>{m.preventDefault();try{await o(r,n),u("/")}catch(p){console.log(p)}};return b.jsx(b.Fragment,{children:b.jsxs("div",{className:"w-full h-screen",children:[b.jsx("img",{className:"absolute w-full h-full object-cover",src:hS,alt:"/"}),b.jsx("div",{className:"bg-black/60 fixed top-0 left-0 w-full h-screen"}),b.jsx("div",{className:"fixed w-full px-4 py-24 z-50",children:b.jsx("div",{className:"max-w-[450px] h-[600px] mx-auto bg-black/75 text-white rounded-lg",children:b.jsxs("div",{className:"max-w-[320px] mx-auto py-16",children:[b.jsx("h1",{className:"text-3xl font-bold",children:"Sign Up"}),b.jsxs("form",{onSubmit:f,className:"w-full flex flex-col py-4",children:[b.jsx("input",{onChange:m=>e(m.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"email",placeholder:"Email",autoComplete:"email"}),b.jsx("input",{onChange:m=>s(m.target.value),className:"p-3 my-2 bg-gray-700 rounded",type:"password",placeholder:"Password",autoComplete:"new-password"}),b.jsx("button",{className:"bg-[var(--primary)] py-3 my-6 rounded font-bold text-black",children:"Sign Up"}),b.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[b.jsxs("p",{children:[b.jsx("input",{className:"mr-2",type:"checkbox"}),"Remember me"]}),b.jsx("p",{children:"Need Help?"})]}),b.jsxs("p",{className:"py-8",children:[b.jsx("span",{className:"text-gray-600",children:"Already subscribed to Mizuplay?"})," ",b.jsx(hn,{to:"/login",children:"Sign In"})]})]})]})})})]})})},T0="/mizu-play/assets/profile_default_banner-BwOa1bDb.png",bO=()=>{const{user:r,logOut:e,updateUserProfile:n,updateUserEmail:s,updateUserPassword:o}=vr(),u=yr(),[f,m]=k.useState(!1),[p,g]=k.useState(r?.displayName||""),[E,T]=k.useState(r?.photoURL||""),[w,P]=k.useState(r?.email||""),[q,$]=k.useState(""),[F,ne]=k.useState(""),[re,te]=k.useState(""),[de,Ae]=k.useState(""),[ye,x]=k.useState(""),[R,C]=k.useState({x:50,y:100}),[M,D]=k.useState(1),[L,I]=k.useState({x:50,y:50}),[ze,ht]=k.useState(1),[G,oe]=k.useState(null),[me,Le]=k.useState([]);QA.useEffect(()=>{(async()=>{if(r?.email){try{const ie=ca(ri,"users",r.email),ae=await zh(ie);if(ae.exists()){const ue=ae.data();ue.bannerURL&&(x(ue.bannerURL),Ae(ue.bannerURL)),ue.bannerPosition!==void 0&&(typeof ue.bannerPosition=="number"?C({x:50,y:ue.bannerPosition}):C(ue.bannerPosition)),ue.bannerZoom!==void 0&&D(ue.bannerZoom),ue.photoPosition!==void 0&&I(ue.photoPosition),ue.photoZoom!==void 0&&ht(ue.photoZoom)}}catch(ie){console.log("Error fetching user data:",ie)}try{const ae=(await ff(uf(ri,"users",r.email,"savedShows"))).docs.map(ue=>ue.data());Le(ae)}catch(ie){console.log("Error fetching my list:",ie)}}})()},[r]);const He=async()=>{try{await e(),u("/")}catch(K){console.log(K)}},V=async K=>{K.preventDefault(),ne(""),te("");try{(p!==r.displayName||E!==r.photoURL)&&await n({displayName:p,photoURL:E}),w!==r.email&&await s(w),q&&await o(q);const ie=ca(ri,"users",r.email),ae=await zh(ie),ue={bannerURL:de,bannerPosition:R,bannerZoom:M,photoPosition:L,photoZoom:ze};ae.exists()?await jD(ie,ue):await lg(ie,ue,{merge:!0}),x(de),te("Profile updated successfully!"),m(!1)}catch(ie){ne("Failed to update profile. "+ie.message)}};return b.jsxs("div",{className:"w-full text-white bg-[#141414] min-h-screen",children:[b.jsx(Es,{}),b.jsxs("div",{className:"relative w-full h-[450px] overflow-hidden",children:[b.jsx("img",{className:"absolute object-cover",src:ye||T0,alt:"/",style:{width:`${ye?M*100:100}%`,height:`${ye?M*100:100}%`,top:`${ye?R.y:100}%`,left:`${ye?R.x:50}%`,transform:`translate(-${ye?R.x:50}%, -${ye?R.y:100}%)`,objectPosition:ye?`${R.x}% ${R.y}%`:"center bottom"}}),b.jsx("div",{className:"absolute w-full h-full top-0 left-0 bg-gradient-to-t from-[#141414] via-transparent to-transparent"})]}),b.jsxs("div",{className:"px-[4%] py-8 relative -mt-32 z-20 w-full max-w-[600px]",children:[b.jsx("h1",{className:"text-3xl md:text-5xl font-bold mb-8",children:"My Account"}),re&&b.jsx("p",{className:"p-3 bg-green-500 my-2 rounded",children:re}),F&&b.jsx("p",{className:"p-3 bg-red-500 my-2 rounded",children:F}),f?b.jsx("form",{onSubmit:V,className:"bg-black/80 p-8 rounded",children:b.jsxs("div",{className:"flex flex-col gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Display Name"}),b.jsx("input",{type:"text",value:p,onChange:K=>g(K.target.value),className:"w-full p-3 bg-gray-700 rounded text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Photo URL"}),b.jsx("input",{type:"text",value:E,onChange:K=>T(K.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"https://example.com/photo.jpg"}),E&&b.jsx("button",{type:"button",onClick:()=>oe("photo"),className:"mt-2 text-sm text-[var(--primary)] hover:underline",children:"Adjust Photo Position"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Banner URL"}),b.jsx("input",{type:"text",value:de,onChange:K=>Ae(K.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"https://example.com/banner.jpg"}),de&&b.jsx("button",{type:"button",onClick:()=>oe("banner"),className:"mt-2 text-sm text-[var(--primary)] hover:underline",children:"Adjust Banner Position"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"Email"}),b.jsx("input",{type:"email",value:w,onChange:K=>P(K.target.value),className:"w-full p-3 bg-gray-700 rounded text-white"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-gray-400 text-sm mb-1",children:"New Password (leave blank to keep current)"}),b.jsx("input",{type:"password",value:q,onChange:K=>$(K.target.value),className:"w-full p-3 bg-gray-700 rounded text-white",placeholder:"New Password"})]}),b.jsxs("div",{className:"flex gap-4 mt-4",children:[b.jsx("button",{type:"submit",className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Save"}),b.jsx("button",{type:"button",onClick:()=>m(!1),className:"border border-gray-500 px-6 py-2 font-bold rounded hover:bg-gray-800 transition",children:"Cancel"})]})]})}):b.jsxs("div",{children:[b.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[b.jsx("div",{className:"w-20 h-20 bg-gray-500 rounded overflow-hidden relative",children:r?.photoURL?b.jsx("img",{src:r.photoURL,alt:"Profile",className:"absolute object-cover",style:{width:`${ze*100}%`,height:`${ze*100}%`,top:`${L.y}%`,left:`${L.x}%`,transform:`translate(-${L.x}%, -${L.y}%)`,objectPosition:`${L.x}% ${L.y}%`}}):b.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl",children:r?.email?.[0]?.toUpperCase()})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold",children:r?.displayName||"User"}),b.jsx("p",{className:"text-gray-400",children:r?.email})]})]}),b.jsxs("div",{className:"flex gap-4",children:[b.jsx("button",{onClick:()=>m(!0),className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Edit Profile"}),b.jsx("button",{onClick:He,className:"bg-[#9c7880]/90 text-white px-6 py-2 font-bold rounded hover:bg-[#8a6a72] transition",children:"Logout"})]}),b.jsxs("div",{className:"mt-12",children:[b.jsx("h2",{className:"text-2xl font-bold mb-4",children:"My List"}),b.jsxs("div",{className:"flex overflow-x-scroll whitespace-nowrap scrollbar-hide gap-4 pb-4",children:[me.map((K,ie)=>b.jsxs("div",{className:"w-[160px] sm:w-[200px] inline-block cursor-pointer relative p-2 anime-card",onClick:()=>u(`/title/${K.id}`),children:[b.jsx("img",{className:"w-full h-auto block rounded anime-image",src:K.image,alt:K.title}),b.jsx("p",{className:"text-sm mt-2 text-gray-300 truncate",children:K.title})]},ie)),me.length===0&&b.jsx("p",{className:"text-gray-500",children:"Your list is empty."})]})]})]})]}),G&&b.jsx("div",{className:"fixed inset-0 bg-black/90 z-[100] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-[#181818] w-full max-w-[800px] rounded-lg overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center",children:[b.jsxs("h3",{className:"text-xl font-bold",children:["Adjust ",G==="banner"?"Banner":"Photo"," Position"]}),b.jsx("button",{onClick:()=>oe(null),className:"text-gray-400 hover:text-white",children:""})]}),b.jsxs("div",{className:"flex-1 relative bg-black flex flex-col items-center justify-center overflow-hidden p-8",children:[b.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Drag the sliders to adjust the position"}),b.jsxs("div",{className:`relative ${G==="banner"?"w-full h-[200px]":"w-[200px] h-[200px] rounded-full"} border border-gray-700 overflow-hidden`,children:[b.jsx("img",{src:G==="banner"?de||T0:E||r?.photoURL,alt:"Preview",className:"absolute object-cover",style:{width:`${(G==="banner"?M:ze)*100}%`,height:`${(G==="banner"?M:ze)*100}%`,top:`${G==="banner"?R.y:L.y}%`,left:`${G==="banner"?R.x:L.x}%`,transform:`translate(-${G==="banner"?R.x:L.x}%, -${G==="banner"?R.y:L.y}%)`,objectPosition:G==="banner"?`${R.x}% ${R.y}%`:`${L.x}% ${L.y}%`}}),b.jsx("div",{className:`absolute inset-0 pointer-events-none border-x-4 border-y-4 border-[var(--primary)]/30 ${G==="photo"?"rounded-full":""}`})]}),b.jsxs("div",{className:"mt-8 w-full max-w-[400px] flex flex-col gap-6",children:[b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[b.jsx("span",{children:"Horizontal"}),b.jsxs("span",{children:[G==="banner"?R.x:L.x,"%"]})]}),b.jsx("input",{type:"range",min:"0",max:"100",value:G==="banner"?R.x:L.x,onChange:K=>{const ie=Number(K.target.value);G==="banner"?C(ae=>({...ae,x:ie})):I(ae=>({...ae,x:ie}))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),b.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[b.jsx("span",{children:"Left"}),b.jsx("span",{children:"Right"})]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[b.jsx("span",{children:"Vertical"}),b.jsxs("span",{children:[G==="banner"?R.y:L.y,"%"]})]}),b.jsx("input",{type:"range",min:"0",max:"100",value:G==="banner"?R.y:L.y,onChange:K=>{const ie=Number(K.target.value);G==="banner"?C(ae=>({...ae,y:ie})):I(ae=>({...ae,y:ie}))},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),b.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[b.jsx("span",{children:"Top"}),b.jsx("span",{children:"Bottom"})]})]}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-1",children:[b.jsx("span",{children:"Zoom"}),b.jsxs("span",{children:[G==="banner"?M.toFixed(1):ze.toFixed(1),"x"]})]}),b.jsx("input",{type:"range",min:"1",max:"3",step:"0.1",value:G==="banner"?M:ze,onChange:K=>{const ie=Number(K.target.value);G==="banner"?D(ie):ht(ie)},className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-[var(--primary)]"}),b.jsxs("div",{className:"flex justify-between text-[10px] text-gray-600 mt-1",children:[b.jsx("span",{children:"Far"}),b.jsx("span",{children:"Near"})]})]})]})]}),b.jsx("div",{className:"p-4 border-t border-gray-800 flex justify-end gap-4",children:b.jsx("button",{onClick:()=>oe(null),className:"bg-[var(--primary)] text-black px-6 py-2 font-bold rounded hover:bg-opacity-80 transition",children:"Done"})})]})})]})},SO=()=>{const[r,e]=k.useState(null),{animeList:n,loading:s}=pa();if(s)return b.jsx("div",{className:"text-white pt-20 pl-[4%]",children:"Loading..."});const o=n.filter(m=>m.category==="Series"),u={};o.forEach(m=>{m.genres?.forEach(p=>{const g=p.toLowerCase().trim();u[g]=(u[g]||0)+1})});const f=Object.keys(u).filter(m=>u[m]>=3).sort((m,p)=>u[p]-u[m]);return b.jsxs(b.Fragment,{children:[b.jsx(Es,{}),b.jsxs("div",{className:"w-full text-white pt-[100px]",children:[b.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"TV Series"}),f.map(m=>b.jsx(ii,{title:m.charAt(0).toUpperCase()+m.slice(1),animes:o.filter(p=>p.genres?.some(g=>g.toLowerCase().trim()===m)),onPlay:e},m)),b.jsx(ii,{title:"All Series",animes:o,onPlay:e})]}),r&&b.jsx(Oo,{anime:r,onClose:()=>e(null)})]})},AO=()=>{const[r,e]=k.useState(null),{animeList:n,loading:s}=pa();if(s)return b.jsx("div",{className:"text-white pt-20 pl-[4%]",children:"Loading..."});const o=n.filter(m=>m.category==="Movie"),u={};o.forEach(m=>{m.genres?.forEach(p=>{const g=p.toLowerCase().trim();u[g]=(u[g]||0)+1})});const f=Object.keys(u).sort((m,p)=>u[p]-u[m]);return b.jsxs(b.Fragment,{children:[b.jsx(Es,{}),b.jsxs("div",{className:"w-full text-white pt-[100px]",children:[b.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"Movies"}),f.map(m=>b.jsx(ii,{title:m.charAt(0).toUpperCase()+m.slice(1),animes:o.filter(p=>p.genres?.some(g=>g.toLowerCase().trim()===m)),onPlay:e},m)),b.jsx(ii,{title:"All Movies",animes:o,onPlay:e})]}),r&&b.jsx(Oo,{anime:r,onClose:()=>e(null)})]})},wO=()=>{const[r,e]=k.useState(null),{animeList:n,loading:s}=pa();if(s)return b.jsx("div",{className:"text-white pt-20 pl-[4%]",children:"Loading..."});const o=n.filter(u=>u.isNew);return b.jsxs(b.Fragment,{children:[b.jsx(Es,{}),b.jsxs("div",{className:"w-full text-white pt-[100px]",children:[b.jsx("h1",{className:"text-3xl font-bold mb-4 px-[4%]",children:"New & Popular"}),b.jsx(ii,{title:"New Releases",animes:o,onPlay:e}),b.jsx(ii,{title:"Trending Now",animes:n,onPlay:e})]}),r&&b.jsx(Oo,{anime:r,onClose:()=>e(null)})]})},RO=()=>{const[r,e]=k.useState(null),[n,s]=k.useState([]),{user:o}=vr();return k.useEffect(()=>{(async()=>{if(o?.email){const m=(await ff(uf(ri,"users",o.email,"savedShows"))).docs.map(p=>p.data());s(m)}})()},[o,r]),b.jsxs(b.Fragment,{children:[b.jsx(Es,{}),b.jsxs("div",{className:"w-full text-white pt-[100px]",children:[b.jsx("h1",{className:"text-3xl font-bold mb-8 px-[4%]",children:"My List"}),n.length>0?b.jsx(ii,{title:"Saved Shows",animes:n,onPlay:e}):b.jsx("p",{className:"text-gray-500 px-[4%]",children:"You haven't added anything to your list yet."})]}),r&&b.jsx(Oo,{anime:r,onClose:()=>e(null)})]})},CO=()=>{const[r]=bw(),e=r.get("q"),[n,s]=k.useState([]),{animeList:o}=pa();return k.useEffect(()=>{if(e&&o.length>0){const u=o.filter(f=>f.title.toLowerCase().includes(e.toLowerCase())||f.genres?.some(m=>m.toLowerCase().includes(e.toLowerCase())));s(u)}else s([])},[e]),b.jsxs("div",{className:"w-full min-h-screen bg-black text-white",children:[b.jsx(Es,{}),b.jsxs("div",{className:"pt-[100px] px-[4%]",children:[b.jsxs("h2",{className:"text-2xl font-bold mb-6",children:['Results for "',e,'"']}),n.length>0?b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(u=>b.jsx(hn,{to:`/title/${u.id}`,children:b.jsxs("div",{className:"relative group cursor-pointer transition-transform duration-300 hover:scale-105 hover:z-10",children:[b.jsx("img",{src:u.image,alt:u.title,className:"w-full h-auto rounded block"}),b.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:b.jsx("p",{className:"text-white font-bold text-center px-2",children:u.title})})]})},u.id))}):b.jsx("p",{className:"text-gray-400",children:"No matches found."})]})]})},IO=()=>{const{id:r}=D1(),{user:e}=vr(),{animeList:n,featuredAnime:s}=pa(),[o,u]=k.useState(null),[f,m]=k.useState(!1),[p,g]=k.useState(null),[E,T]=k.useState(!1);k.useEffect(()=>{if(!n||n.length===0)return;const P=n.find($=>$.id.toString()===r);P?u(P):s&&s.id.toString()===r&&u(s),window.scrollTo(0,0),(async()=>{if(e?.email&&r){const $=ca(ri,"users",e.email,"savedShows",r);(await zh($)).exists()?T(!0):T(!1)}})()},[r,n,s,e]);const w=async()=>{if(!e?.email||!o)return;const P=o.id.toString(),q=ca(ri,"users",e.email,"savedShows",P);E?(await zD(q),T(!1)):(await lg(q,{id:P,title:o.title,image:o.image,category:o.category||"Series"}),T(!0))};return o?b.jsxs("div",{className:"bg-[#141414] min-h-screen text-white",children:[b.jsx(Es,{}),b.jsxs("div",{className:"relative w-full h-[70vh]",children:[b.jsx("div",{className:"absolute w-full h-full bg-gradient-to-r from-black via-transparent to-transparent z-10"}),b.jsx("div",{className:"absolute w-full h-full bg-gradient-to-b from-transparent via-[#141414]/50 to-[#141414] z-10 bottom-0"}),b.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover"}),b.jsxs("div",{className:"absolute top-[30%] lg:top-[40%] pl-[4%] z-20 max-w-[90%] md:max-w-[50%]",children:[b.jsx("h1",{className:"text-4xl md:text-6xl font-bold mb-4 drop-shadow-lg",children:o.title}),b.jsxs("div",{className:"flex items-center gap-4 text-gray-300 mb-6 text-sm md:text-base",children:[b.jsx("span",{className:"text-green-400 font-bold",children:"98% Match"}),b.jsx("span",{children:"2024"}),b.jsx("span",{className:"border border-gray-500 px-2 py-0.5 text-xs",children:"16+"}),b.jsx("span",{children:o.category==="Movie"?"1h 55m":"1 Season"})]}),b.jsxs("div",{className:"flex gap-4 mb-4",children:[b.jsxs("button",{onClick:()=>{o.category==="Movie"?g(null):o.seasons&&o.seasons[0]?.episodes[0]&&g(o.seasons[0].episodes[0]),m(!0)},className:"bg-[var(--primary)] text-black px-6 py-2 rounded font-bold flex items-center gap-2 hover:bg-opacity-80 transition",children:[b.jsx(yh,{size:24,fill:"black"})," Play"]}),b.jsxs("button",{onClick:w,className:"bg-[#9c7880]/90 text-white px-6 py-2 rounded font-bold flex items-center gap-2 hover:bg-[#8a6a72] transition",children:[E?b.jsx(iO,{size:24}):b.jsx(fO,{size:24}),E?"In List":"My List"]})]}),b.jsx("p",{className:"text-gray-300 text-sm md:text-lg drop-shadow-md",children:o.description||"Join the adventure in this critically acclaimed series."})]})]}),b.jsxs("div",{className:"px-[4%] py-10 grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsx("div",{className:"md:col-span-2",children:o.category==="Movie"?b.jsxs("div",{className:"mt-4",children:[b.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Watch Movie"}),b.jsxs("div",{className:"flex items-center gap-6 p-6 bg-[#222] hover:bg-[#333] rounded-lg cursor-pointer transition group border border-gray-800",onClick:()=>{g(null),m(!0)},children:[b.jsxs("div",{className:"relative w-48 h-28 bg-gray-700 rounded overflow-hidden flex-shrink-0 shadow-lg",children:[b.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 group-hover:bg-transparent transition",children:b.jsx("div",{className:"bg-white/20 p-3 rounded-full backdrop-blur-sm group-hover:scale-110 transition",children:b.jsx(yh,{size:30,className:"text-white",fill:"white"})})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"text-xl font-bold text-white mb-2",children:o.title}),b.jsx("p",{className:"text-gray-400 text-sm mb-2",children:o.genre}),b.jsx("span",{className:"text-sm font-semibold bg-[var(--primary)] px-2 py-1 rounded text-black",children:"Full Movie"})]})]})]}):o.seasons?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"flex justify-between items-end mb-6 border-b border-gray-700 pb-2",children:[b.jsx("h3",{className:"text-2xl font-bold",children:"Episodes"}),b.jsxs("span",{className:"text-lg text-gray-400",children:[o.seasons.length," Season",o.seasons.length>1?"s":""]})]}),b.jsx("div",{className:"space-y-4",children:o.seasons[0].episodes.map(P=>b.jsxs("div",{className:"flex items-center gap-4 p-4 hover:bg-[#333] rounded cursor-pointer transition group",onClick:()=>{g(P),m(!0)},children:[b.jsx("span",{className:"text-2xl text-gray-500 font-bold w-6",children:P.id}),b.jsxs("div",{className:"relative w-32 h-20 bg-gray-700 rounded overflow-hidden flex-shrink-0",children:[b.jsx("img",{src:o.image,alt:`Ep ${P.id}`,className:"w-full h-full object-cover opacity-70 group-hover:opacity-100"}),b.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:b.jsx(yh,{size:20,className:"invisible group-hover:visible",fill:"white"})})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-sm md:text-base",children:P.title}),b.jsx("p",{className:"text-xs text-gray-400 mt-1 line-clamp-2",children:P.duration})]})]},P.id))})]}):null}),b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500 block text-sm",children:"Genre:"}),b.jsx("span",{className:"text-white text-sm",children:o.genre||"Anime"})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500 block text-sm",children:"Cast:"}),b.jsx("span",{className:"text-white text-sm",children:"Voice Actor 1, Voice Actor 2"})]}),b.jsxs("div",{children:[b.jsx("span",{className:"text-gray-500 block text-sm",children:"Maturity Rating:"}),b.jsx("span",{className:"border border-white/40 px-2 py-0.5 text-xs inline-block mt-1",children:"TV-MA"}),b.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Violence, Language"})]})]})]}),f&&b.jsx(Oo,{anime:o,onClose:()=>{m(!1),g(null)},videoUrl:p?.video})]}):b.jsx("div",{className:"text-white pt-20",children:"Loading..."})},es=({children:r})=>{const{user:e,loading:n}=vr();return n?null:e?r:b.jsx(G1,{to:"/login"})};function xO(){return b.jsx("div",{className:"app",children:b.jsx(FD,{children:b.jsx(GD,{children:b.jsx(yw,{children:b.jsxs(K1,{children:[b.jsx(ti,{path:"/login",element:b.jsx(EO,{})}),b.jsx(ti,{path:"/signup",element:b.jsx(TO,{})}),b.jsx(ti,{path:"/",element:b.jsx(es,{children:b.jsx(vO,{})})}),b.jsx(ti,{path:"/series",element:b.jsx(es,{children:b.jsx(SO,{})})}),b.jsx(ti,{path:"/movies",element:b.jsx(es,{children:b.jsx(AO,{})})}),b.jsx(ti,{path:"/new",element:b.jsx(es,{children:b.jsx(wO,{})})}),b.jsx(ti,{path:"/mylist",element:b.jsx(es,{children:b.jsx(RO,{})})}),b.jsx(ti,{path:"/search",element:b.jsx(es,{children:b.jsx(CO,{})})}),b.jsx(ti,{path:"/title/:id",element:b.jsx(es,{children:b.jsx(IO,{})})}),b.jsx(ti,{path:"/account",element:b.jsx(es,{children:b.jsx(bO,{})})})]})})})})})}WA.createRoot(document.getElementById("root")).render(b.jsx(k.StrictMode,{children:b.jsx(xO,{})}));export{ri as a,ca as d,OO as w};
